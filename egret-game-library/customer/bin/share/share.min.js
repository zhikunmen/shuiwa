var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);n.prototype=e.prototype,t.prototype=new n},share;!function(t){var e=function(){function t(){}return t.RES_JSON="resource/share/share.res_e734272b.json",t.THM_JSON="resource/share/gameEui_ac133832.json",t.PUB_SHARE="pub_share",t.SHARE_INVITEDATA="share_invitedata",t.SHARE_INVITEAWARD="share_inviteaward",t}();t.ShareConst=e,__reflect(e.prototype,"share.ShareConst")}(share||(share={}));var Cmd;!function(t){function e(t){t.resultCode||uniLib.Global.dispatchEvent(share.ShareConst.SHARE_INVITEDATA,t)}function n(t){t.resultCode||uniLib.Global.dispatchEvent(share.ShareConst.SHARE_INVITEAWARD,t)}t.OnGetInviteInfoLittleGameLobbyCmd_S=e,t.OnGetInviteRewardLittleGameLobbyCmd_S=n}(Cmd||(Cmd={}));var share;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.skinName="LobbySharePanelSkin",t}return __extends(n,e),n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEvent()},n.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btnClick,this),uniLib.Global.removeEventListener(t.ShareConst.SHARE_INVITEAWARD,this.update,this),uniLib.Global.removeEventListener(t.ShareConst.SHARE_INVITEDATA,this.init,this)},n.prototype.addEvent=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnClick,this),uniLib.Global.addEventListener(t.ShareConst.SHARE_INVITEAWARD,this.update,this),uniLib.Global.addEventListener(t.ShareConst.SHARE_INVITEDATA,this.init,this);var e=new Cmd.GetInviteInfoLittleGameLobbyCmd_C;NetMgr.tcpSend(e)},n.prototype.init=function(t){var e=t.param;this._rewardStatus=e.rewardStatus,this.updateHead(e.info)},n.prototype.update=function(t){var e=t.param;this._rewardStatus=e.rewardStatus,this.updateHead(e.info);var n=[];e.goods.forEach(function(t,e){var a=new commonConfirm.ReWardDataVo;a.getDataByGoodId(t.goodsId,t.goodsNum),n.push(a)});var a=new commonConfirm.RewardPanel;a.initData(n),uniLib.PopUpMgr.addPopUp(a,null,!0,!0)},n.prototype.updateHead=function(t){var e=this,n=0;t.forEach(function(t,a){var o;o=ConfigMgr.getInstance().getGoodCfgById(t.goods.goodsId),3==t.status?(e["_lab"+a].text="已领",e["_lab"+a].textColor=8947848,n++):(o?e["_lab"+a].text=t.goods.goodsNum+o.goodName:e["_lab"+a].text=t.goods.goodsNum+"钻",1!=t.status&&(e["_icon"+a].source=t.headUrl))}),n==t.length&&(this._bigReawrd.text="已领",this._bigReawrd.textColor=8947848)},n.prototype.btnClick=function(t){switch(t.target){case this._icon0:case this._icon1:case this._icon2:case this._icon3:case this._icon4:this.clickShare(t.target);break;case this._getBtn:this.getAward();break;case this._closeBtn:uniLib.PopUpMgr.removePopUp(this)}},n.prototype.clickShare=function(t){if("lobby_share_json.lobby_shareadd"==t.source){var e=new uniLib.WXShareVo;e.shareType=Cmd.ShareType.invite,uniLib.ZQGameSdk.share(e)}},n.prototype.getAward=function(){if(1==this._rewardStatus){var t=new commonConfirm.ConfirmPanel("当前没有可以领取的奖励哦!邀请更多好友后再来领奖吧!","",["lobby_share_json.lobby_shareInvite"],function(){var t=new uniLib.WXShareVo;t.shareType=Cmd.ShareType.invite,wxgame.ShareMessage.instance.shareAppMessage(t)});uniLib.PopUpMgr.addPopUp(t,null,!0,!0,0,uniLib.PopUpEffect.CENTER)}else if(2==this._rewardStatus){var e=new Cmd.GetInviteRewardLittleGameLobbyCmd_C;NetMgr.tcpSend(e)}else 3==this._rewardStatus&&uniLib.TipsUtils.showConfirm("今日奖励已领取完","","确定")},n}(eui.Component);t.sharePanel=e,__reflect(e.prototype,"share.sharePanel")}(share||(share={}));