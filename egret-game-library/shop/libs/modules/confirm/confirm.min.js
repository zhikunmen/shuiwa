var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},commonConfirm;!function(t){var e=function(){function t(){}return t.RES_JSON="resource/confirm/confirm.res_f8f48a8e.json",t.THM_JSON="resource/confirm/gameEui_ae610ec0.json",t.PUB_CONFIRM="pub_confirm",t}();t.ConfirmConsts=e,__reflect(e.prototype,"commonConfirm.ConfirmConsts"),t.EVENT_PANEL_CLOSE="event_panel_close",t.EVENT_PANEL_OPEN="event_panel_open",t.EVENT_PANEL_OVER="event_panel_over"}(commonConfirm||(commonConfirm={}));var commonConfirm;!function(t){var e=function(t){function e(e,i,n,o,r,s){var a=t.call(this)||this;return a._content=e,a._title=i,a._btnRes=n,a._callback1=o,a._callback2=r,a._callObj=s,a.skinName="ConfirmPanelSkin",a}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this._title&&(RES.hasRes(this._title)?(this.title_lbl.visible=!1,this.title_img.source=this._title):(this.title_img.visible=!1,this.title_lbl.text=this._title)),this._btnRes&&(this.okButton.skin.img.source=this._btnRes[0],this._btnRes[1]&&(this.cacelButton.skin.img.source=this._btnRes[1])),this._content.length&&"[object array]"==Object.prototype.toString.call(this._content).toLowerCase()?this.contentText.textFlow=this._content:this.contentText.text=this._content+"",this._callback2?(this.cacelButton.visible=!0,this.okButton.horizontalCenter=-150):(this.cacelButton.visible=!1,this.okButton.horizontalCenter=0)},e.prototype.touchHandle=function(t){var e=t.target;switch(e){case this.okButton:uniLib.PopUpMgr.removePopUp(this),this._callback1&&this._callback1.apply(this._callObj,[]);break;case this.cacelButton:uniLib.PopUpMgr.removePopUp(this),this._callback2&&this._callback2.apply(this._callObj,[])}},e.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this._content=null,this._title=null,this._btnRes=null,this._callback1=null,this._callback2=null,this._callObj=null,uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},e}(eui.Component);t.ConfirmPanel=e,__reflect(e.prototype,"commonConfirm.ConfirmPanel")}(commonConfirm||(commonConfirm={}));var commonConfirm;!function(t){var e=function(){function t(){}return t.numFormat=function(e){if(!(0>e)){if("number"!==t.getType(e))return void console.error("wocao,不是个数字，它是个",t.getType(e));if(1e4>e)return e+"";var i=0,n="";Math.abs(e)>=1e4&&Math.abs(e)<1e8?(i=1e4,n="万"):(i=1e8,n="亿");var o=""+e/i;o=-1!=o.lastIndexOf(".")?o.substring(0,o.lastIndexOf(".")+4):o.substring(0,o.lastIndexOf(".")+5);var r=o.split(".")[0],s=o.split(".")[1];if(Number(s)){var a=4-r.length>0?4-r.length:0,h=s.split("");h.length=a,s=h.join("");var c=Number("0."+s).toString();c=Boolean(c.split(".")[1])?"."+c.toString().split(".")[1]:"";var l=r+c+n;return l}return r+n}},t.getType=function(t){var e=Object.prototype.toString,i={undefined:"undefined",number:"number","boolean":"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object error]":"error"},n=i[typeof t]||i[e.call(t)]||(t?"object":"null");return"number"===n&&(t=+t,t!==t)?"NaN":n},t.limitImageSize=function(t,e){if(t.width>e||t.height>e)if(t.width==t.height)t.width=t.height=e;else if(t.width>t.height){var i=e/t.width;t.width=e,t.height=t.height*i}else if(t.width<t.height){var i=e/t.height;t.height=e,t.width=t.width*i}},t}();t.ResUtil=e,__reflect(e.prototype,"commonConfirm.ResUtil")}(commonConfirm||(commonConfirm={}));var commonConfirm;!function(t){var e=function(){function t(){}return t.prototype.getDataByShopId=function(t,e){e&&(this.num=e);var i=ConfigMgr.getInstance().getShopCfgById(t).shopGoods.goodId,n=ConfigMgr.getInstance().getGoodCfgById(i);console.log(n),this.icon=n.goodIcon+"_png",this.des=n.goodDesc},t.prototype.getDataByGoodId=function(t,e){e&&(this.num=e);var i=ConfigMgr.getInstance().getGoodCfgById(t);console.log(i),this.icon=i.goodIcon+"_png",this.des=i.goodDesc},t}();t.ReWardDataVo=e,__reflect(e.prototype,"commonConfirm.ReWardDataVo")}(commonConfirm||(commonConfirm={}));var commonConfirm;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i._data=t,i.skinName="RewardItemSkin",i}return __extends(i,e),i.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},i.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.initData(this._data)},i.prototype.initData=function(e){if(this.giftIcon_img.source=e.icon,e.num){var i=t.ResUtil.numFormat(e.num);this.giftName_lb.text=e.des+"X"+i}else Array.isArray(e.des)?this.giftName_lb.textFlow=e.des:this.giftName_lb.text=e.des},i}(eui.Component);t.RewardItem=e,__reflect(e.prototype,"commonConfirm.RewardItem",["eui.UIComponent","egret.DisplayObject"])}(commonConfirm||(commonConfirm={}));var commonConfirm;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i._data=t,i.skinName="RewardItemSkin",i}return __extends(i,e),i.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},i.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.initData(this._data)},i.prototype.initData=function(e){this.giftIcon_img.source="game_prop_json.bag_daoju_"+e.goodId,t.ResUtil.limitImageSize(this.giftIcon_img,110);var i=ConfigMgr.getInstance().getGoodCfgById(e.goodId);if(e.goodNbr){var n=t.ResUtil.numFormat(e.goodNbr);this.giftName_lb.text=i.goodDesc+"X"+n}else Array.isArray(i.goodDesc)?this.giftName_lb.textFlow=i.goodDesc:this.giftName_lb.text=i.goodDesc},i}(eui.Component);t.RewardItem2=e,__reflect(e.prototype,"commonConfirm.RewardItem2",["eui.UIComponent","egret.DisplayObject"])}(commonConfirm||(commonConfirm={}));var commonConfirm;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i._isCmd=!1,i._data=t,i.width=uniLib.Global.screenWidth,i.height=uniLib.Global.screenHeight,i.skinName="RewardPanelSkin",i}return __extends(i,e),i.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this._data&&(this._isCmd?this.initData2():this.initData()),this.sure_btn.once(egret.TouchEvent.TOUCH_TAP,this.onSureHandle,this),this.quan1.visible=!0,this.quan2.visible=!0,this.item_grp.touchEnabled=!1,this.item_grp.touchChildren=!1,uniLib.DisplayUtils.playTweenGroup(this.guangquan,!1),uniLib.DisplayUtils.playTweenGroup(this.light,!0)},i.prototype.initData=function(e){if(e&&(this._isCmd=!1,this._data=e),this._data)for(var i=0;i<this._data.length;i++){var n=new t.RewardItem(this._data[i]);this.item_grp.addChild(n),n.x=164*i}},i.prototype.initData2=function(e){if(e&&(this._isCmd=!0,this._data=e),this._data)for(var i=0;i<this._data.length;i++){var n=new t.RewardItem2(this._data[i]);this.item_grp.addChild(n),n.x=164*i}},i.prototype.onSureHandle=function(t){uniLib.DisplayUtils.stopTweenGroup(this.guangquan),uniLib.DisplayUtils.stopTweenGroup(this.light),egret.Tween.removeTweens(this.guangquan),egret.Tween.removeTweens(this.light),uniLib.DisplayUtils.removeFromParent(this),uniLib.PopUpMgr.removePopUp(this)},i}(eui.Component);t.RewardPanel=e,__reflect(e.prototype,"commonConfirm.RewardPanel")}(commonConfirm||(commonConfirm={}));var eui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.resName=null,e.ncName=null,e.mcType=null,e.center=!1,e.touchAble=1,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this),this.update()},e.prototype.onRemoveFromStage=function(t){this.destroy()},e.prototype.update=function(){this.resName&&(this.ncName||(this.ncName="newAnimation"),this.mcType||(this.mcType=uniLib.DragonType.ARMATURE),this._armature=uniLib.DragonUtils.createDragonBonesDisplay(this.resName+"_ske_json",this.resName+"_tex_json",this.resName+"_tex_png",this.mcType),this._armature&&(this.addChildAt(this._armature.display,0),uniLib.DragonUtils.runDragonBonesArmature(this._armature,this.ncName,0)),this.center&&(this._armature.display.x=this._armature.display.width/2,this._armature.display.y=this._armature.display.height/2),this.touchEnabled=1==this.touchAble,this.touchChildren=1==this.touchAble)},e.prototype.destroy=function(){this._armature&&(this._armature.animation.stop(),uniLib.DragonUtils.destoryDragonBonesArmature(this._armature,this.ncName)),this._armature=null,this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},e}(t.Component);t.ArmatureComponent=e,__reflect(e.prototype,"eui.ArmatureComponent")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.colorMatrix=[.7,0,0,0,70,0,.7,0,0,70,0,0,.7,0,70,0,0,0,1,0],e.isFilter=!1,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),0==this.anchorOffsetX&&(this.anchorOffsetX=this.width>>1,this.x+=this.width>>1),0==this.anchorOffsetY&&(this.anchorOffsetY=this.height>>1,this.y+=this.height>>1),this.init()},e.prototype.init=function(){this.touchEnabled=!0,this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.dispose,this);var t=egret.getDefinitionByName("GameConsts");t&&GameConsts.LABEL_STYLE&&this.label&&(this.labelDisplay.style=GameConsts.LABEL_STYLE)},e.prototype.removeTouchEvent=function(){this.hasEventListener(egret.TouchEvent.TOUCH_END)&&(this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancel,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchReleaseOutside,this))},e.prototype.onTouchBegin=function(e){t.prototype.onTouchBegin.call(this,e),this.isFilter?this.filters=[new egret.ColorMatrixFilter(this.colorMatrix)]:(this.scaleX=.9,this.scaleY=.9),this.hasEventListener(egret.TouchEvent.TOUCH_END)||(this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancel,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchReleaseOutside,this)),RES.hasRes("buttonClick_mp3")&&uniLib.SoundMgr.instance.playSound("buttonClick_mp3")},e.prototype.onTouchEnd=function(){this.filters=[],this.scaleX=1,this.scaleY=1,this.removeTouchEvent()},e.prototype.onTouchCancel=function(t){this.filters=[],this.scaleX=1,this.scaleY=1,this.removeTouchEvent()},e.prototype.onTouchMove=function(){this.scaleX=1,this.scaleY=1},e.prototype.onTouchReleaseOutside=function(){this.filters=[],this.scaleX=1,this.scaleY=1,this.removeTouchEvent()},e.prototype.setColorMatrix=function(t){t&&(this.colorMatrix=t),this.isFilter=!0},e.prototype.dispose=function(){this.filters=null,this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.dispose,this),this.removeTouchEvent()},e}(t.Button);t.WxButton=e,__reflect(e.prototype,"eui.WxButton")}(eui||(eui={}));