var __reflect=this&&this.__reflect||function(t,e,s){t.__class__=e,s?s.push(e):s=[e],t.__types__=t.__types__?s.concat(t.__types__):s},__extends=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);s.prototype=e.prototype,t.prototype=new s},pokergps;!function(t){var e=function(e){function s(){var t=e.call(this)||this;return t.skinName="poker_gpsPanelSkin",t}return __extends(s,e),s.prototype.init=function(){this.addEvent()},s.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.init()},s.prototype.setData=function(t){this._list=t,this._list.length>=1?(this._dissolve_btn.visible=!0,this._continue_btn.visible=!0):(this._dissolve_btn.visible=!1,this._continue_btn.visible=!1);for(var e=0;e<this._list.length;e++)this._list[0]&&(this._user1=this._list[0]),this._list[1]&&(this._user2=this._list[1]),this._list[2]&&(this._user3=this._list[2]);var s,i,_;this._user1&&(this._user_name1.text=this._user1.nickName,this._head_img1.source=this._user1.headUrl),this._user2&&(this._user_name2.text=this._user2.nickName,this._head_img2.source=this._user2.headUrl),this._user1&&this._user2&&(s=uniLib.Utils.getDistance(this._user1.lat,this._user1.lng,this._user2.lat,this._user2.lng),1e3>=s?(this._distance_bg1.source="pdk_gps_red",this._distance_txt1.text=Math.ceil(s)+"米"):isNaN(s)?(this._distance_bg1.source="pdk_gps_green",this._distance_txt1.text="无"):(this._distance_bg1.source="pdk_gps_green",this._distance_txt1.text=Math.ceil(s/1e3)+"公里")),this._user3&&(this._user_name3.text=this._user3.nickName,this._head_img3.source=this._user3.headUrl),this._user3&&this._user2&&(i=uniLib.Utils.getDistance(this._user2.lat,this._user2.lng,this._user3.lat,this._user3.lng),1e3>=i?(this._distance_bg2.source="pdk_gps_red",this._distance_txt2.text=Math.ceil(i)+"米"):isNaN(i)?(this._distance_bg2.source="pdk_gps_green",this._distance_txt2.text="无"):(this._distance_bg2.source="pdk_gps_green",this._distance_txt2.text=Math.ceil(i/1e3)+"公里")),this._user3&&this._user1&&(_=uniLib.Utils.getDistance(this._user1.lat,this._user1.lng,this._user3.lat,this._user3.lng),1e3>=_?(this._distance_bg3.source="pdk_gps_red",this._distance_txt3.text=Math.ceil(_)+"米"):isNaN(_)?(this._distance_bg3.source="pdk_gps_green",this._distance_txt3.text="无"):(this._distance_bg3.source="pdk_gps_green",this._distance_txt3.text=Math.ceil(_/1e3)+"公里")),1e3>s||1e3>i||1e3>_?this._tip_img.source="pdk_gps_warn":this._tip_img.source="pdk_gps_normal"},s.prototype.addEvent=function(){this._close_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this._continue_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this._dissolve_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onDissolve,this)},s.prototype.removeEvent=function(){this._close_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this._continue_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this._dissolve_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onDissolve,this)},s.prototype.onClose=function(e){this.dispatchEventWith(t.pokergpsConst.CLOSE)},s.prototype.onDissolve=function(e){this.dispatchEventWith(t.pokergpsConst.DISMISS_GAME),this.dispatchEventWith(t.pokergpsConst.CLOSE)},s.prototype.destory=function(){this.removeEvent(),uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},s}(eui.Component);t.GPSPanel=e,__reflect(e.prototype,"pokergps.GPSPanel")}(pokergps||(pokergps={}));var pokergps;!function(t){var e=function(){function t(){}return t.RES_JSON="resource/pokergps/pokergps.res_6a57f7c3.json",t.THM_JSON="resource/pokergps/gameEui_6ebe5c69.json",t.POKER_GPS="poker_gps",t.DISMISS_GAME="dismiss_game",t.CLOSE="close",t.UPDATE_GPS_DATA="update_gps_data",t}();t.pokergpsConst=e,__reflect(e.prototype,"pokergps.pokergpsConst")}(pokergps||(pokergps={}));var Cmd;!function(t){function e(t){uniLib.Global.dispatchEvent(pokergps.pokergpsConst.UPDATE_GPS_DATA,t.list)}t.OnReturnIpAndGPSPokerCmd_S=e}(Cmd||(Cmd={}));