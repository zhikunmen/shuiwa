var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},pokerset;!function(t){var e=function(){function t(){}return t.RES_JSON="resource/pokerset/pokerset.res_7b741289.json",t.THM_JSON="resource/pokerset/gameEui_fd966a0a.json",t.POKER_SET="poker_set",t.SWITCH_BACKGROUND="switch_background",t.DISMISS_GAME="dismiss_game",t.CLOSE="close",t}();t.pokersetConst=e,__reflect(e.prototype,"pokerset.pokersetConst")}(pokerset||(pokerset={}));var pokerset;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.skinName="poker_removeRoomSkin",t}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.initUI()},i.prototype.initUI=function(){this.noBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.yesBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onYes,this)},i.prototype.removeEvent=function(){this.noBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.yesBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onYes,this)},i.prototype.onYes=function(){this.dispatchEventWith(t.pokersetConst.DISMISS_GAME),this.onClose()},i.prototype.onClose=function(){uniLib.PopUpMgr.removePopUp(this)},i.prototype.destory=function(){this.removeEvent(),uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},i}(eui.Component);t.RemoveRoom=e,__reflect(e.prototype,"pokerset.RemoveRoom")}(pokerset||(pokerset={}));var pokerset;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._index=0,t._bgImgArr=[],t.isWarning=!1,t.skinName="poker_SetPanelSkin",t}return __extends(i,e),i.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.initUI()},i.prototype.setWarn=function(t){this.isWarning=t},i.prototype.initUI=function(){this._spotArr=[this.spot0,this.spot1,this.spot2,this.spot3],this._bgResArr=["pdk_small_bg1","pdk_small_bg2","pdk_small_bg3","pdk_small_bg4"];for(var t=0,e=this._bgResArr;t<e.length;t++){var i=e[t],n=RES.getRes(i);if(!n)throw new Error("小图资源没有获取到,资源名:"+i);var s=new eui.Image;s.texture=n,s.name=i,s.width=this._imgGroup.width,s.height=this._imgGroup.height,this._bgImgArr.push(s)}uniLib.Utils.getLocalStorage("bgIndex")&&this._bgImgArr[uniLib.Utils.getLocalStorage("bgIndex")]?(this._index=Number(uniLib.Utils.getLocalStorage("bgIndex")),this._imgGroup.addChild(this._bgImgArr[uniLib.Utils.getLocalStorage("bgIndex")]),this.updateSpot(uniLib.Utils.getLocalStorage("bgIndex"))):(this._index=0,this._imgGroup.addChild(this._bgImgArr[0]),this.updateSpot(0));var o=new egret.Rectangle(0,0,this._imgGroup.width,this._imgGroup.height);this._imgGroup.mask=o,1==uniLib.Utils.getLocalStorage("SoundVolime")?uniLib.SoundMgr.instance.soundOpen=!0:uniLib.SoundMgr.instance.soundOpen=!1,1==uniLib.Utils.getLocalStorage("MusicVolime")?uniLib.SoundMgr.instance.musicOpen=!0:uniLib.SoundMgr.instance.musicOpen=!1,this.musicBtn.selected=uniLib.SoundMgr.instance.musicOpen,this.soundBtn.selected=uniLib.SoundMgr.instance.soundOpen,this.languageBtn.enabled=!1,this.leftBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this),this.rightBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.dissolveBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onDismiss,this),this.musicBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.musicCheckHandle,this),this.soundBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.soundCheckHandle,this)},i.prototype.removeEvent=function(){this.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this),this.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.dissolveBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onDismiss,this),this.musicBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.musicCheckHandle,this),this.soundBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.soundCheckHandle,this)},i.prototype.onBgCh=function(t){if(1!=this._bgImgArr.length){var e,i;t.target==this.leftBtn?(i=this._bgImgArr[this._index+1]?this._index+1:0,e=this._bgImgArr[i],e.x=this._imgGroup.width,this._imgGroup.addChild(e),this.moveEffect(this._bgImgArr[this._index],!1,i,!1),this.moveEffect(e,!1,i,!0)):t.target==this.rightBtn&&(i=this._bgImgArr[this._index-1]?this._index-1:this._bgImgArr.length-1,e=this._bgImgArr[i],e.x=-this._imgGroup.width,this._imgGroup.addChild(e),this.moveEffect(this._bgImgArr[this._index],!0,i,!1),this.moveEffect(e,!0,i,!0))}},i.prototype.moveEffect=function(e,i,n,s){var o,r=this;i?(o=1,this.rightBtn.touchEnabled=!1,this.leftBtn.touchEnabled=!1):(o=-1,this.rightBtn.touchEnabled=!1,this.leftBtn.touchEnabled=!1),egret.Tween.get(e).to({x:e.x+this._imgGroup.width*o},300,egret.Ease.sineInOut).call(function(){r._index=n,r.rightBtn.touchEnabled=!0,r.leftBtn.touchEnabled=!0,s&&(uniLib.Utils.setLocalStorage("bgIndex",n),r.dispatchEventWith(t.pokersetConst.SWITCH_BACKGROUND),r.updateSpot(n))})},i.prototype.updateSpot=function(t){for(var e=0,i=this._spotArr;e<i.length;e++){var n=i[e];n.source="pdk_set_spot1"}this._spotArr[t].source="pdk_set_spot2"},i.prototype.soundCheckHandle=function(t){this.soundBtn.selected?(uniLib.SoundMgr.instance.soundVolume=1,uniLib.SoundMgr.instance.soundOpen=!0,uniLib.Utils.setLocalStorage("SoundVolime",1)):(uniLib.SoundMgr.instance.soundVolume=0,uniLib.SoundMgr.instance.soundOpen=!1,uniLib.Utils.setLocalStorage("SoundVolime",0))},i.prototype.musicCheckHandle=function(t){this.musicBtn.selected?(uniLib.SoundMgr.instance.musicVolume=.7,uniLib.SoundMgr.instance.musicOpen=!0,this.isWarning?uniLib.SoundMgr.instance.playBgMusic(["voice_pdk_warn_mp3"]):uniLib.SoundMgr.instance.playBgMusic(["voice_pdk_bg_mp3"]),uniLib.Utils.setLocalStorage("MusicVolime",1)):(uniLib.SoundMgr.instance.musicVolume=0,uniLib.SoundMgr.instance.musicOpen=!1,uniLib.Utils.setLocalStorage("MusicVolime",0))},i.prototype.onDismiss=function(e){this.removePanel=new t.RemoveRoom,uniLib.PopUpMgr.addPopUp(this.removePanel,null,!0,!0,0,uniLib.PopUpEffect.CENTER),this.dispatchEventWith(t.pokersetConst.CLOSE)},i.prototype.onClose=function(e){this.dispatchEventWith(t.pokersetConst.CLOSE)},i.prototype.destory=function(){this.removeEvent(),uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},i}(eui.Component);t.SetPanel=e,__reflect(e.prototype,"pokerset.SetPanel")}(pokerset||(pokerset={}));