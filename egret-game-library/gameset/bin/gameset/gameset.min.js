var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},gameset;!function(t){var e=function(){function t(){}return t.RES_JSON="resource/gameset/gameset.res_54ae5119.json",t.THM_JSON="resource/gameset/gameEui_c11803b3.json",t.GAME_SET="game_set",t}();t.SetConst=e,__reflect(e.prototype,"gameset.SetConst")}(gameset||(gameset={}));var gameset;!function(t){var e=function(e){function n(t){var n=e.call(this,"game_sp_title",690,403)||this;return n._localSoundStatus=!0,n.skinName="GameSetPanelNoBgSKin",n._localSoundStatus=t,n}return __extends(n,e),n.prototype.onComplete=function(){},n.prototype.addEvent=function(){this.musicBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.soundBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.localSoundBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this._dismissBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.disMissRoom,this)},n.prototype.removeEvent=function(){this.musicBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.soundBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.localSoundBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this._dismissBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.disMissRoom,this)},n.prototype.initUI=function(){this.soundBtn.touchEnabled=!0,this.musicBtn.touchEnabled=!0,this.localSoundBtn.touchEnabled=!0,this.updateMusicVolime(),this.updateSoundVolime(),this.updateLocalSoundVolime()},n.prototype.updateMusicVolime=function(){0==uniLib.SoundMgr.instance.musicOpen?this.musicBtn.texture=RES.getRes("game_set_json.game_sp_voice_off"):this.musicBtn.texture=RES.getRes("game_set_json.game_sp_voice_on")},n.prototype.updateSoundVolime=function(){0==uniLib.SoundMgr.instance.soundOpen?this.soundBtn.texture=RES.getRes("game_set_json.game_sp_voice_off"):this.soundBtn.texture=RES.getRes("game_set_json.game_sp_voice_on")},n.prototype.updateLocalSoundVolime=function(){0==this._localSoundStatus?this.localSoundBtn.texture=RES.getRes("game_set_json.game_sp_voice_off"):this.localSoundBtn.texture=RES.getRes("game_set_json.game_sp_voice_on")},n.prototype.onSoundHandle=function(e){var n;e.target==this.musicBtn?(0==uniLib.SoundMgr.instance.musicOpen?(uniLib.Utils.setLocalStorage("MusicVolime",.7),n={evtType:t.SetPanel.SetPanelEvtTypeMusicOn},uniLib.SoundMgr.instance.musicOpen=!0):(uniLib.Utils.setLocalStorage("MusicVolime",0),n={evtType:t.SetPanel.SetPanelEvtTypeMusicOff},uniLib.SoundMgr.instance.musicOpen=!1),this.updateMusicVolime()):e.target==this.soundBtn&&(0==uniLib.SoundMgr.instance.soundOpen?(uniLib.Utils.setLocalStorage("SoundVolime",1),uniLib.SoundMgr.instance.soundOpen=!0,n={evtType:t.SetPanel.SetPanelEvtTypeSoundOn}):(uniLib.Utils.setLocalStorage("SoundVolime",0),n={evtType:t.SetPanel.SetPanelEvtTypeSoundOff},uniLib.SoundMgr.instance.soundOpen=!1),this.updateSoundVolime()),e.target==this.localSoundBtn&&(1==this._localSoundStatus?(this._localSoundStatus=!1,n={evtType:t.SetPanel.SetPanelEvtTypeLocalSoundOff}):(this._localSoundStatus=!0,n={evtType:t.SetPanel.SetPanelEvtTypeLocalSoundOn}),this.updateLocalSoundVolime()),this.dispatchEventWith(t.SetPanel.SetPanelEvtOccur,!1,n)},n.prototype.disableBtn=function(e){var n;switch(e){case t.SetPanelBtnType.BtnMusic:n=this.musicBtn;break;case t.SetPanelBtnType.BtnSound:n=this.soundBtn;break;case t.SetPanelBtnType.BtnLocalSound:n=this.localSoundBtn}n.touchEnabled=!1},n.prototype.disMissRoom=function(t){uniLib.Global.dispatchEvent("DISMISS_GAME"),this.removePop()},n.SetPanelEvtOccur="EvtOccur",n.BgResName="",n.SetPanelEvtTypeMusicOff="music_off",n.SetPanelEvtTypeMusicOn="music_on",n.SetPanelEvtTypeSoundOff="sound_off",n.SetPanelEvtTypeSoundOn="sound_on",n.SetPanelEvtTypeLocalSoundOff="local_sound_off",n.SetPanelEvtTypeLocalSoundOn="local_sound_on",n.SetPanelEvtChBg="chBg",n}(commonpanel.LobbyBaseEuiPanel);t.SetPanel_noBg=e,__reflect(e.prototype,"gameset.SetPanel_noBg")}(gameset||(gameset={}));var gameset;!function(t){var e;!function(t){t[t.BtnMusic=0]="BtnMusic",t[t.BtnSound=1]="BtnSound",t[t.BtnLocalSound=2]="BtnLocalSound"}(e=t.SetPanelBtnType||(t.SetPanelBtnType={}));var n=function(t){function n(e,n){var i=t.call(this,"game_sp_title",690,403)||this;if(i._index=0,i._bgImgArr=[],i._localSoundStatus=!0,i.skinName="GameSetPanelSKin",!e||0==e.length)throw new Error("小图资源数组不能为空");return i._bgResArr=e,i._localSoundStatus=n,i}return __extends(n,t),n.prototype.onComplete=function(){},n.prototype.initUI=function(){for(var t=0,e=this._bgResArr;t<e.length;t++){var i=e[t],o=RES.getRes(i);if(!o)throw new Error("小图资源没有获取到,资源名:"+i);var s=new eui.Image;s.texture=o,s.name=i,s.width=this._imgGroup.width,s.height=this._imgGroup.height,this._bgImgArr.push(s)}this.soundBtn.touchEnabled=!0,this.musicBtn.touchEnabled=!0,this.localSoundBtn.touchEnabled=!0;var u=new egret.Rectangle(0,0,this._imgGroup.width,this._imgGroup.height);if(this._imgGroup.mask=u,this.updateMusicVolime(),this.updateSoundVolime(),this.updateLocalSoundVolime(),n.BgResName){var a=this._bgResArr.indexOf(n.BgResName);-1!=a&&(this._imgGroup.addChild(this._bgImgArr[a]),this._index=a)}else this._imgGroup.addChild(this._bgImgArr[0]);this.musicBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.soundBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.localSoundBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.leftBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this),this.rightBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this)},n.prototype.updateMusicVolime=function(){0==uniLib.SoundMgr.instance.musicOpen?this.musicBtn.texture=RES.getRes("game_set_json.game_sp_voice_off"):this.musicBtn.texture=RES.getRes("game_set_json.game_sp_voice_on")},n.prototype.updateSoundVolime=function(){0==uniLib.SoundMgr.instance.soundOpen?this.soundBtn.texture=RES.getRes("game_set_json.game_sp_voice_off"):this.soundBtn.texture=RES.getRes("game_set_json.game_sp_voice_on")},n.prototype.updateLocalSoundVolime=function(){0==this._localSoundStatus?this.localSoundBtn.texture=RES.getRes("game_set_json.game_sp_voice_off"):this.localSoundBtn.texture=RES.getRes("game_set_json.game_sp_voice_on")},n.prototype.onSoundHandle=function(t){var e;t.target==this.musicBtn?(0==uniLib.SoundMgr.instance.musicOpen?(uniLib.Utils.setLocalStorage("MusicVolime",.7),e={evtType:n.SetPanelEvtTypeMusicOn},uniLib.SoundMgr.instance.musicOpen=!0):(uniLib.Utils.setLocalStorage("MusicVolime",0),e={evtType:n.SetPanelEvtTypeMusicOff},uniLib.SoundMgr.instance.musicOpen=!1),this.updateMusicVolime()):t.target==this.soundBtn&&(0==uniLib.SoundMgr.instance.soundOpen?(uniLib.Utils.setLocalStorage("SoundVolime",1),uniLib.SoundMgr.instance.soundOpen=!0,e={evtType:n.SetPanelEvtTypeSoundOn}):(uniLib.Utils.setLocalStorage("SoundVolime",0),e={evtType:n.SetPanelEvtTypeSoundOff},uniLib.SoundMgr.instance.soundOpen=!1),this.updateSoundVolime()),t.target==this.localSoundBtn&&(1==this._localSoundStatus?(this._localSoundStatus=!1,e={evtType:n.SetPanelEvtTypeLocalSoundOff}):(this._localSoundStatus=!0,e={evtType:n.SetPanelEvtTypeLocalSoundOn}),this.updateLocalSoundVolime()),this.dispatchEventWith(n.SetPanelEvtOccur,!1,e)},n.prototype.disableBtn=function(t){var n;switch(t){case e.BtnMusic:n=this.musicBtn;break;case e.BtnSound:n=this.soundBtn;break;case e.BtnLocalSound:n=this.localSoundBtn}n.touchEnabled=!1},n.prototype.onBgCh=function(t){if(1!=this._bgImgArr.length){var e,i;t.target==this.leftBtn?(i=this._bgImgArr[this._index+1]?this._index+1:0,e=this._bgImgArr[i],e.x=this._imgGroup.width,this._imgGroup.addChild(e),this.moveEffect(this._bgImgArr[this._index],!1,i,!1),this.moveEffect(e,!1,i,!0)):t.target==this.rightBtn&&(i=this._bgImgArr[this._index-1]?this._index-1:this._bgImgArr.length-1,e=this._bgImgArr[i],e.x=-this._imgGroup.width,this._imgGroup.addChild(e),this.moveEffect(this._bgImgArr[this._index],!0,i,!1),this.moveEffect(e,!0,i,!0)),n.BgResName=this._bgResArr[i]}},n.prototype.moveEffect=function(t,e,i,o){var s,u=this;e?(s=1,this.rightBtn.touchEnabled=!1,this.leftBtn.touchEnabled=!1):(s=-1,this.rightBtn.touchEnabled=!1,this.leftBtn.touchEnabled=!1),egret.Tween.get(t).to({x:t.x+this._imgGroup.width*s},300,egret.Ease.sineInOut).call(function(){if(u._index=i,u.rightBtn.touchEnabled=!0,u.leftBtn.touchEnabled=!0,o){var t={index:i,resName:u._bgResArr[i],evtType:n.SetPanelEvtChBg};u.dispatchEventWith(n.SetPanelEvtOccur,!1,t)}})},n.prototype.removeEvent=function(){this.musicBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.soundBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.localSoundBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this),this.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this)},n.SetPanelEvtOccur="EvtOccur",n.BgResName="",n.SetPanelEvtTypeMusicOff="music_off",n.SetPanelEvtTypeMusicOn="music_on",n.SetPanelEvtTypeSoundOff="sound_off",n.SetPanelEvtTypeSoundOn="sound_on",n.SetPanelEvtTypeLocalSoundOff="local_sound_off",n.SetPanelEvtTypeLocalSoundOn="local_sound_on",n.SetPanelEvtTypeVoiceOff="voice_off",n.SetPanelEvtTypeVoiceOn="voice_on",n.SetPanelEvtChBg="chBg",n}(commonpanel.LobbyBaseEuiPanel);t.SetPanel=n,__reflect(n.prototype,"gameset.SetPanel")}(gameset||(gameset={}));var gameset;!function(t){var e=function(e){function n(t,n){var i=e.call(this,"game_sp_title",720,470)||this;if(i._index=0,i._bgImgArr=[],i._localSoundStatus=!0,i.skinName="YunXiaoSetPlanel",!t||0==t.length)throw new Error("小图资源数组不能为空");return i._bgResArr=t,i._localSoundStatus=n,i}return __extends(n,e),n.prototype.onComplete=function(){},n.prototype.initUI=function(){for(var t=0,e=this._bgResArr;t<e.length;t++){var i=e[t],o=RES.getRes(i);if(!o)throw new Error("小图资源没有获取到,资源名:"+i);var s=new eui.Image;s.texture=o,s.name=i,s.width=this._imgGroup.width,s.height=this._imgGroup.height,this._bgImgArr.push(s)}this.soundBtn.touchEnabled=!0,this.musicBtn.touchEnabled=!0,this.localSoundBtn.touchEnabled=!0;var u=new egret.Rectangle(0,0,this._imgGroup.width,this._imgGroup.height);if(this._imgGroup.mask=u,this.updateMusicVolime(),this.updateSoundVolime(),this.updateLocalSoundVolime(),this.updateVoiceVolime(),this.updateMJcardswitch(),n.BgResName){var a=this._bgResArr.indexOf(n.BgResName);-1!=a&&(this._imgGroup.addChild(this._bgImgArr[a]),this._index=a)}else this._imgGroup.addChild(this._bgImgArr[0]);this.musicBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.soundBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.localSoundBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.voiceBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.leftBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this),this.rightBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this),this.bigButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.updateMJcard,this),this.smallButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.updateMJcard,this)},n.prototype.updateMusicVolime=function(){0==uniLib.SoundMgr.instance.musicOpen?this.musicBtn.texture=RES.getRes("game_set_json.game_sp_off"):this.musicBtn.texture=RES.getRes("game_set_json.game_sp_on")},n.prototype.updateSoundVolime=function(){0==uniLib.SoundMgr.instance.soundOpen?this.soundBtn.texture=RES.getRes("game_set_json.game_sp_off"):this.soundBtn.texture=RES.getRes("game_set_json.game_sp_on")},n.prototype.updateLocalSoundVolime=function(){0==this._localSoundStatus?this.localSoundBtn.texture=RES.getRes("game_set_json.game_sp_off"):this.localSoundBtn.texture=RES.getRes("game_set_json.game_sp_on")},n.prototype.updateVoiceVolime=function(){1==uniLib.SoundMgr.instance.musicOpen||1==uniLib.SoundMgr.instance.soundOpen?this.voiceBtn.currentState="up":this.voiceBtn.currentState="down"},n.prototype.updateMJcard=function(t){switch(t.target){case this.smallButton:uniLib.Utils.setLocalStorage("headCardSize","small"),uniLib.Global.dispatchEvent("headCardSize","small");break;case this.bigButton:uniLib.Utils.setLocalStorage("headCardSize","big"),uniLib.Global.dispatchEvent("headCardSize","big")}},n.prototype.updateMJcardswitch=function(){uniLib.Utils.getLocalStorage("headCardSize")&&"big"==uniLib.Utils.getLocalStorage("headCardSize")?(uniLib.Utils.setLocalStorage("headCardSize","big"),this.bigButton.selected=!0):(uniLib.Utils.setLocalStorage("headCardSize","small"),this.smallButton.selected=!0)},n.prototype.onSoundHandle=function(e){var n;e.target==this.musicBtn?(0==uniLib.SoundMgr.instance.musicOpen?(uniLib.Utils.setLocalStorage("MusicVolime",.7),n={evtType:t.SetPanel.SetPanelEvtTypeMusicOn},uniLib.SoundMgr.instance.musicOpen=!0):(uniLib.Utils.setLocalStorage("MusicVolime",0),n={evtType:t.SetPanel.SetPanelEvtTypeMusicOff},uniLib.SoundMgr.instance.musicOpen=!1),this.updateMusicVolime(),this.updateVoiceVolime()):e.target==this.soundBtn&&(0==uniLib.SoundMgr.instance.soundOpen?(uniLib.Utils.setLocalStorage("SoundVolime",1),uniLib.SoundMgr.instance.soundOpen=!0,n={evtType:t.SetPanel.SetPanelEvtTypeSoundOn}):(uniLib.Utils.setLocalStorage("SoundVolime",0),n={evtType:t.SetPanel.SetPanelEvtTypeSoundOff},uniLib.SoundMgr.instance.soundOpen=!1),this.updateSoundVolime(),this.updateVoiceVolime()),e.target==this.localSoundBtn?(1==this._localSoundStatus?(this._localSoundStatus=!1,n={evtType:t.SetPanel.SetPanelEvtTypeLocalSoundOff}):(this._localSoundStatus=!0,n={evtType:t.SetPanel.SetPanelEvtTypeLocalSoundOn}),this.updateLocalSoundVolime()):e.target==this.voiceBtn&&(1==uniLib.SoundMgr.instance.musicOpen||1==uniLib.SoundMgr.instance.soundOpen?(uniLib.Utils.setLocalStorage("MusicVolime",0),uniLib.Utils.setLocalStorage("SoundVolime",0),uniLib.SoundMgr.instance.soundOpen=!1,uniLib.SoundMgr.instance.musicOpen=!1,n={evtType:t.SetPanel.SetPanelEvtTypeVoiceOff}):(uniLib.Utils.setLocalStorage("MusicVolime",.7),uniLib.Utils.setLocalStorage("SoundVolime",1),uniLib.SoundMgr.instance.soundOpen=!0,uniLib.SoundMgr.instance.musicOpen=!0,n={evtType:t.SetPanel.SetPanelEvtTypeVoiceOn}),this.updateMusicVolime(),this.updateSoundVolime(),this.updateVoiceVolime()),this.dispatchEventWith(t.SetPanel.SetPanelEvtOccur,!1,n)},n.prototype.onBgCh=function(t){if(1!=this._bgImgArr.length){var e,i;t.target==this.leftBtn?(i=this._bgImgArr[this._index+1]?this._index+1:0,e=this._bgImgArr[i],e.x=this._imgGroup.width,this._imgGroup.addChild(e),this.moveEffect(this._bgImgArr[this._index],!1,i,!1),this.moveEffect(e,!1,i,!0)):t.target==this.rightBtn&&(i=this._bgImgArr[this._index-1]?this._index-1:this._bgImgArr.length-1,e=this._bgImgArr[i],e.x=-this._imgGroup.width,this._imgGroup.addChild(e),this.moveEffect(this._bgImgArr[this._index],!0,i,!1),this.moveEffect(e,!0,i,!0)),n.BgResName=this._bgResArr[i]}},n.prototype.moveEffect=function(t,e,n,i){var o,s=this;e?(o=1,this.rightBtn.touchEnabled=!1,this.leftBtn.touchEnabled=!1):(o=-1,this.rightBtn.touchEnabled=!1,this.leftBtn.touchEnabled=!1),egret.Tween.get(t).to({x:t.x+this._imgGroup.width*o},300,egret.Ease.sineInOut).call(function(){s._index=n,s.rightBtn.touchEnabled=!0,s.leftBtn.touchEnabled=!0,i&&uniLib.Global.dispatchEvent("changedesk",s._bgResArr[n])})},n.prototype.removeEvent=function(){this.musicBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.soundBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.localSoundBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundHandle,this),this.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this),this.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBgCh,this)},n.SetPanelEvtOccur="EvtOccur",n.BgResName="",n}(commonpanel.LobbyBaseEuiPanel);t.YunXiaoSetPanel=e,__reflect(e.prototype,"gameset.YunXiaoSetPanel")}(gameset||(gameset={}));