var __reflect=this&&this.__reflect||function(t,i,e){t.__class__=i,e?e.push(i):e=[i],t.__types__=t.__types__?e.concat(t.__types__):e},__extends=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o]);e.prototype=i.prototype,t.prototype=new e},pokeruserinfo;!function(t){var i=function(){function t(){}return t.RES_JSON="resource/pokeruserinfo/pokeruserinfo.res_494d7194.json",t.THM_JSON="resource/pokeruserinfo/gameEui_d22be9c1.json",t.POKER_USERINFO="poker_userinfo",t.POKER_GIFT="poker_gift",t.POKER_FRAME="poker_frame",t.POKER_COMMON="poker_common",t.SEND_GIFTS_NOTICE="send_gifts_notice",t.USERINFO_DATA="USERINFO_DATA",t}();t.pokeruserinfoConst=i,__reflect(i.prototype,"pokeruserinfo.pokeruserinfoConst")}(pokeruserinfo||(pokeruserinfo={}));var Cmd;!function(t){function i(t){uniLib.Global.dispatchEvent(pokeruserinfo.pokeruserinfoConst.SEND_GIFTS_NOTICE,t)}t.OnSendGiftPokerCmd_Brd=i}(Cmd||(Cmd={}));var pokeruserinfo;!function(t){var i=function(i){function e(){var t=i.call(this)||this;return t._isClick=!0,t.skinName="poker_userinfoSkin",t}return __extends(e,i),e.prototype.createChildren=function(){i.prototype.createChildren.call(this),this.initUI()},e.prototype.setType=function(t){this.type=t,2==this.type&&(this.ip_lbl.visible=!1,this.diomand_lbl.visible=!1,this.point_lbl.visible=!1)},e.prototype.initUI=function(){this.giftGroup=[this.gift_1,this.gift_2,this.gift_3,this.gift_4,this.gift_5,this.gift_6];for(var i=0;i<this.giftGroup.length;i++)this.giftGroup[i].name=(i+1).toString(),this.giftGroup[i].touchEnabled=!0,this.giftGroup[i].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGift,this);this.close_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickClose,this),uniLib.Global.addEventListener(t.pokeruserinfoConst.USERINFO_DATA,this.setData,this)},e.prototype.onClickClose=function(t){uniLib.PopUpMgr.removePopUp(this)},e.prototype.onClickGift=function(t){var i=t.currentTarget,e=1;if(0>=e)return void uniLib.PopUpMgr.removePopUp(this);var o=new Cmd.GiftsInfo;this._data.uid==uniLib.UserInfo.uid?(o.toUid=0,o.fromUid=this._data.uid):(o.toUid=this._data.uid,o.fromUid=uniLib.UserInfo.uid),o.giftsId=Number(i.name),o.giftsNum=1,this.sendMsg(o)},e.prototype.sendMsg=function(t){if(this._isClick){var i=new Cmd.SendGiftPokerCmd_C;i.gift=t,uniLib.NetMgr.tcpSend(i),uniLib.PopUpMgr.removePopUp(this)}else uniLib.TipsUtils.showTipsDownToUp("您的操作太频繁了！请休息一下吧")},e.prototype.setData=function(t){this._data=t,this.ip_lbl.text="地址:"+this._data.ip,this._data.headUrl&&(this.head_img.source=this._data.headUrl),this._data.headurl&&(this.head_img.source=this._data.headurl),this.id_lbl.text="帐号:"+this._data.uid,2==this.type&&(this.id_lbl.text="金币:"+this._data.chips),this.point_lbl.text="积分:"+this._data.points,this._data.nickName&&(this.nick_name.text="昵称:"+this._data.nickName),this._data.nickname&&(this.nick_name.text="昵称:"+this._data.nickname),this.diomand_lbl.text="钻石:"+this._data.diamond,"男"==this._data.gender?this.sex_img.source="userInfo_male":this.sex_img.source="userInfo_female"},e.prototype.destory=function(){this.close_btn&&this.close_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickClose,this);for(var i=0;i<this.giftGroup.length;i++)this.giftGroup[i].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGift,this);uniLib.Global.removeEventListener(t.pokeruserinfoConst.USERINFO_DATA,this.setData,this),uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this),this._data=null},e}(eui.Component);t.UserInfoPanel=i,__reflect(i.prototype,"pokeruserinfo.UserInfoPanel")}(pokeruserinfo||(pokeruserinfo={}));