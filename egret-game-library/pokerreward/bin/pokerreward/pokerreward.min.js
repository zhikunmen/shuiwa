var __reflect=this&&this.__reflect||function(r,e,t){r.__class__=e,t?t.push(e):t=[e],r.__types__=r.__types__?t.concat(r.__types__):t},__extends=this&&this.__extends||function(r,e){function t(){this.constructor=r}for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);t.prototype=e.prototype,r.prototype=new t},pokerreward;!function(r){var e=function(){function r(){}return r.RES_JSON="resource/pokerreward/pokerreward.res_5f98eb7.json",r.THM_JSON="resource/pokerreward/gameEui_9569581d.json",r.POKER_REWARD="poker_reward",r.roundScore=[],r.ACTION_REWARD="action_reward",r}();r.pokerrewardConst=e,__reflect(e.prototype,"pokerreward.pokerrewardConst")}(pokerreward||(pokerreward={}));var Cmd;!function(r){function e(r){for(var e=r.rs,t=0;t<e.length;t++){var o=e[t];o.score instanceof Array||(o.score=[])}pokerreward.pokerrewardConst.roundScore=r.rs,uniLib.Global.dispatchEvent(pokerreward.pokerrewardConst.ACTION_REWARD)}r.OnShowPokerRoundScore_S=e}(Cmd||(Cmd={}));var pokerreward;!function(r){var e=function(r){function e(){var e=r.call(this)||this;return e.animatable=!0,e._numRecord=0,e.skinName="poker_ScoreRecordPanel",e._profiles=[],e._totalScores=[],e._uids=[],e}return __extends(e,r),e.prototype.childrenCreated=function(){r.prototype.childrenCreated.call(this),this._profiles.push(this._profile0),this._profiles.push(this._profile1),this._profiles.push(this._profile2),this._totalScores.push(this._totalScore0),this._totalScores.push(this._totalScore1),this._totalScores.push(this._totalScore2)},Object.defineProperty(e.prototype,"displayed",{get:function(){return this._displayed=null!=this.parent,this._displayed},set:function(r){this._displayed=r},enumerable:!0,configurable:!0}),e.prototype.updateRecordData=function(r,e){var t=e.length;if(this._uids.length<t&&this.updatePlayerProfile(e),r&&r.length>0){var o=r[0],i=0;o&&(i=o.score.length),i>0&&this._lblNoData&&(this._lblNoData.parent.removeChild(this._lblNoData),this._lblNoData=null);var a=this.parseTotalScores(r);this.updateTotalScore(a);for(var n=this._numRecord;i>n;n++){var s=this.parseOneRecord(r,n);this.addOneRecord(n+1,s)}this._numRecord=i}},e.prototype.setRightArrowPosition=function(r,e){null!=r&&(this._arrowR.x=r),null!=e&&(this._arrowR.y=e)},e.prototype.parseOneRecord=function(r,e){for(var t=[],o=0,i=r;o<i.length;o++){var a=i[o],n=this._uids.indexOf(a.uid);t[n]=a.score[e]}return t},e.prototype.parseTotalScores=function(r){for(var e=[],t=function(r){var t=o._uids.indexOf(r.uid),i=0;r.score.forEach(function(r){i+=r}),e[t]=i},o=this,i=0,a=r;i<a.length;i++){var n=a[i];t(n)}return e},e.prototype.updatePlayerProfile=function(r){for(var e=r,t=0,o=e.length;o>t;t++)this._uids[t]=e[t].uid,this._profiles[t].source=e[t].headUrl},e.prototype.updateTotalScore=function(r){for(var e=0,t=r.length;t>e;e++)this._totalScores[e].text=""+r[e]},e.prototype.addOneRecord=function(r,e){var t=54*(r-1);if(r%2===0){var o=new eui.Image;o.source="pdk_scoreRecord_json.pdk_record_bg_unit",o.width=this._detailScroller.width,o.y=t,this._detailScroller.addChild(o)}var i=this.createLabel("第"+r+"局",8,t+17.5,20);this._detailScroller.addChild(i);for(var a=112,n=0,s=e;n<s.length;n++){var d=s[n],l=this.createLabel(""+d,a,t+17.5);this._detailScroller.addChild(l),a+=130}},e.prototype.createLabel=function(r,e,t,o,i,a,n){void 0===o&&(o=24),void 0===i&&(i=8016447),void 0===a&&(a=80),void 0===n&&(n="center");var s=new eui.Label;return s.text=r,s.x=e,s.y=t,s.size=o,s.textColor=i,s.width=a,s.textAlign=n,s},e}(eui.Component);r.pokerrewardPanel=e,__reflect(e.prototype,"pokerreward.pokerrewardPanel")}(pokerreward||(pokerreward={}));