var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);n.prototype=e.prototype,t.prototype=new n},goldLand;!function(t){var e=function(){function t(){}return t.RES_JSON="resource/goldLand/goldLand.res_828d82d6.json",t.THM_JSON="resource/goldLand/gameEui_f4e38e8e.json",t.PUB_GOLD_LAND="pub_gold_land",t}();t.GoldLandConsts=e,__reflect(e.prototype,"goldLand.GoldLandConsts")}(goldLand||(goldLand={}));var goldLand;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="GoldLandItemSkin",e}return __extends(e,t),e.time2str=function(t){if(null==t)return"";t=10==t.toString().length?1e3*t:t;var e=new Date;e.setTime(t);var n=this.getNumStr(e.getHours())+":"+this.getNumStr(e.getMinutes())+":"+this.getNumStr(e.getSeconds());return n},e.getNumStr=function(t){return 10>t?"0"+t:t.toString()},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){t.prototype.dataChanged.call(this);var n=this.data;n.uid==uniLib.UserInfo.uid?(this.card_type.textColor=1252569,this.nick_name.textColor=1252569,this.num_txt.textColor=1252569,this.time_txt.textColor=1252569):(this.card_type.textColor=13847066,this.nick_name.textColor=13847066,this.num_txt.textColor=13847066,this.time_txt.textColor=13847066),this.card_type.text=e.CardTypes[n.type-1],this.card_type.anchorOffsetX=this.card_type.width>>1,this.nick_name.text=n.nickName,this.nick_name.anchorOffsetX=this.nick_name.width>>1,this.num_txt.text=n.chips+"",this.num_txt.anchorOffsetX=this.num_txt.width>>1,this.time_txt.text=e.time2str(n.time),this.time_txt.anchorOffsetX=this.time_txt.width>>1},e.prototype.destroy=function(){},e.CardTypes=["4炸弹","12连顺并胜利","3炸弹并胜利","10连胜","6连胜","累积胜利100局","双关"],e}(eui.ItemRenderer);t.GoldLandItem=e,__reflect(e.prototype,"goldLand.GoldLandItem")}(goldLand||(goldLand={}));var goldLand;!function(t){var e=function(e){function n(t,n){var o=e.call(this)||this;return o._pageIndex=1,o._gameId=t,o._sceneId=n,o.skinName="GoldLandSkin",o}return __extends(n,e),n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.caijin_lst.itemRenderer=t.GoldLandItem,this.addEvents()},n.prototype.loadData=function(){var t=new Cmd.GetHeavenAwardHistoryHpMatchCmd_C;t.gameId=this._gameId,t.sceneId=this._sceneId,t.pagenum=this._pageIndex,t.pagecap=10,NetMgr.tcpSend(t)},n.prototype.addEvents=function(){this.scroll.addEventListener(egret.Event.CHANGE,this.scrollChange,this),uniLib.Global.addEventListener(t.CmdConstant.HEAVEN_AWARD_HISTORY,this.historyData,this),this.close_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandler,this),this._pageIndex=1,this.loadData()},n.prototype.removeEvents=function(){this.scroll.removeEventListener(egret.Event.CHANGE,this.scrollChange,this),uniLib.Global.removeEventListener(t.CmdConstant.HEAVEN_AWARD_HISTORY,this.historyData,this),this.close_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandler,this)},n.prototype.scrollChange=function(t){this._pageIndex<4&&this.scroll.viewport.scrollV+this.scroll.height>this.scroll.viewport.contentHeight+100&&(this.scroll.viewport.scrollV=this.scroll.viewport.contentHeight-this.scroll.height,this._pageIndex++,this.loadData())},n.prototype.closeHandler=function(){uniLib.PopUpMgr.removePopUp(this)},n.prototype.historyData=function(t){var e=t.param;if(e.jackpot&&(this.total_label.text=e.jackpot+""),e.winstreak&&(this.liansheng.text="当前连胜:"+e.winstreak),e.winsnum&&(this.leiji.text="累积胜利:"+e.winsnum),null!=e.awardInfos&&e.awardInfos instanceof Array&&0!=e.awardInfos.length)if(1==e.pagenum)this._dataList=new eui.ArrayCollection(e.awardInfos),this.caijin_lst.dataProvider=this._dataList;else{var n=e.awardInfos;if(n&&n.length>0){for(var o=0;o<n.length;o++)this._dataList.addItem(n[o]);this._dataList.refresh()}}},n.prototype.destroy=function(){this.removeEvents(),uniLib.DisplayUtils.removeFromParent(this)},n}(eui.Component);t.GoldLandPanel=e,__reflect(e.prototype,"goldLand.GoldLandPanel")}(goldLand||(goldLand={}));var goldLand;!function(t){var e=function(){function t(){}return t.HEAVEN_AWARD_HISTORY="Heaven_Award_History",t.HEAVEN_AWARD_GOLD="Heaven_Award_Gold",t}();t.CmdConstant=e,__reflect(e.prototype,"goldLand.CmdConstant")}(goldLand||(goldLand={}));var GoldLandReciveMgr=function(){function t(){}return t}();__reflect(GoldLandReciveMgr.prototype,"GoldLandReciveMgr");var Cmd;!function(t){function e(t){uniLib.Global.dispatchEvent(goldLand.CmdConstant.HEAVEN_AWARD_HISTORY,t,!0)}function n(t){uniLib.Global.dispatchEvent(goldLand.CmdConstant.HEAVEN_AWARD_GOLD,t,!0)}t.OnGetHeavenAwardHistoryHpMatchCmd_S=e,t.OnGoldFromHeavenHpMatchCmd_S=n}(Cmd||(Cmd={}));