/*!
 * uniLib - compressed JS
 * @licence uniLib - v0.1.0 (2018-08-20)
 *  qq:93749937 | Licence: helojo
 */

var uniLib,Pmd,Pmd,Pmd,Pmd,Pmd,Pmd,Pmd,uniLib,uniLib;if(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:this).pako=e()}}(function(){return function o(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[n]={exports:{}};a[n][0].call(r.exports,function(e){var t=a[n][1][e];return c(t||e)},r,r.exports,o,a,s,l)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=s.assign({level:h,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==d)throw new Error(o[n]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?l.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=a.deflateSetDictionary(this.strm,i))!==d)throw new Error(o[n]);this._dict_set=!0}}function i(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}var a=e("./zlib/deflate"),s=e("./utils/common"),l=e("./utils/strings"),o=e("./zlib/messages"),c=e("./zlib/zstream"),u=Object.prototype.toString,d=0,h=-1,p=0,g=8;r.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=l.string2buf(e):"[object ArrayBuffer]"===u.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new s.Buf8(o),r.next_out=0,r.avail_out=o),1!==(n=a.deflate(r,i))&&n!==d)return this.onEnd(n),!(this.ended=!0);0!==r.avail_out&&(0!==r.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(l.buf2binstring(s.shrinkBuf(r.output,r.next_out))):this.onData(s.shrinkBuf(r.output,r.next_out)))}while((0<r.avail_in||0===r.avail_out)&&1!==n);return 4===i?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==i||(this.onEnd(d),!(r.avail_out=0))},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=r,n.deflate=i,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,i(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,i(e,t)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=h.inflateInit2(this.strm,t.windowBits);if(n!==f.Z_OK)throw new Error(o[n]);this.header=new s,h.inflateGetHeader(this.strm,this.header)}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}var h=e("./zlib/inflate"),p=e("./utils/common"),g=e("./utils/strings"),f=e("./zlib/constants"),o=e("./zlib/messages"),a=e("./zlib/zstream"),s=e("./zlib/gzheader"),m=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,r,o,a,s,l=this.strm,c=this.options.chunkSize,u=this.options.dictionary,d=!1;if(this.ended)return!1;i=t===~~t?t:!0===t?f.Z_FINISH:f.Z_NO_FLUSH,"string"==typeof e?l.input=g.binstring2buf(e):"[object ArrayBuffer]"===m.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new p.Buf8(c),l.next_out=0,l.avail_out=c),(n=h.inflate(l,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&u&&(s="string"==typeof u?g.string2buf(u):"[object ArrayBuffer]"===m.call(u)?new Uint8Array(u):u,n=h.inflateSetDictionary(this.strm,s)),n===f.Z_BUF_ERROR&&!0===d&&(n=f.Z_OK,d=!1),n!==f.Z_STREAM_END&&n!==f.Z_OK)return this.onEnd(n),!(this.ended=!0);l.next_out&&(0!==l.avail_out&&n!==f.Z_STREAM_END&&(0!==l.avail_in||i!==f.Z_FINISH&&i!==f.Z_SYNC_FLUSH)||("string"===this.options.to?(r=g.utf8border(l.output,l.next_out),o=l.next_out-r,a=g.buf2string(l.output,r),l.next_out=o,l.avail_out=c-o,o&&p.arraySet(l.output,l.output,r,o,0),this.onData(a)):this.onData(p.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(d=!0)}while((0<l.avail_in||0===l.avail_out)&&n!==f.Z_STREAM_END);return n===f.Z_STREAM_END&&(i=f.Z_FINISH),i===f.Z_FINISH?(n=h.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f.Z_OK):i!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(l.avail_out=0))},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===f.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=i,n.inflate=r,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,r(e,t)},n.ungzip=r},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],4:[function(e,t,n){"use strict";function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,c.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var c=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var u=new c.Buf8(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;u[254]=u[254]=1,n.string2buf=function(e){var t,n,i,r,o,a=e.length,s=0;for(r=0;r<a;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&(56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new c.Buf8(s),r=o=0;o<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&(56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new c.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,a=t||e.length,s=new Array(2*a);for(n=i=0;n<a;)if((r=e[n++])<128)s[i++]=r;else if(4<(o=u[r]))s[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&n<a;)r=r<<6|63&e[n++],o--;1<o?s[i++]=65533:r<65536?s[i++]=r:(r-=65536,s[i++]=55296|r>>10&1023,s[i++]=56320|1023&r)}return l(s,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+u[e[n]]>t?n:t}},{"./common":3}],5:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(r=r+t[i++]|0)|0,--a;);r%=65521,o%=65521}return r|o<<16|0}},{}],6:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(e,t,n){"use strict";var s=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var r=s,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^r[255&(e^t[a])];return-1^e}},{}],8:[function(e,t,n){"use strict";function l(e,t){return e.msg=T[t],t}function c(e){return(e<<1)-(4<e?9:0)}function d(e){for(var t=e.length;0<=--t;)e[t]=0}function u(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(b.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function h(e,t){P._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,u(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function g(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function o(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+H,p=c[o+a-1],g=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===g&&c[n+a-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(i=H-(h-o),o=h-H,a<i){if(e.match_start=t,s<=(a=i))break;p=c[o+a-1],g=c[o+a]}}}while((t=d[t&u])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function f(e){var t,n,i,r,o,a,s,l,c,u,d=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=d+(d-F)){for(b.arraySet(e.window,e.window,d,d,0),e.match_start-=d,e.strstart-=d,e.block_start-=d,t=n=e.hash_size;i=e.head[--t],e.head[t]=d<=i?i-d:0,--n;);for(t=n=d;i=e.prev[--t],e.prev[t]=d<=i?i-d:0,--n;);r+=d}if(0===e.strm.avail_in)break;if(a=e.strm,s=e.window,l=e.strstart+e.lookahead,c=r,u=void 0,u=a.avail_in,c<u&&(u=c),n=0===u?0:(a.avail_in-=u,b.arraySet(s,a.input,a.next_in,u,l),1===a.state.wrap?a.adler=v(a.adler,s,u,l):2===a.state.wrap&&(a.adler=C(a.adler,s,u,l)),a.next_in+=u,a.total_in+=u,u),e.lookahead+=n,e.lookahead+e.insert>=B)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+B-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<B)););}while(e.lookahead<F&&0!==e.strm.avail_in)}function i(e,t){for(var n,i;;){if(e.lookahead<F){if(f(e),e.lookahead<F&&t===E)return Z;if(0===e.lookahead)break}if(n=0,e.lookahead>=B&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-F&&(e.match_length=o(e,n)),e.match_length>=B)if(i=P._tr_tally(e,e.strstart-e.match_start,e.match_length-B),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=B){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(h(e,!1),0===e.strm.avail_out))return Z}return e.insert=e.strstart<B-1?e.strstart:B-1,t===L?(h(e,!0),0===e.strm.avail_out?W:z):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?Z:j}function r(e,t){for(var n,i,r;;){if(e.lookahead<F){if(f(e),e.lookahead<F&&t===E)return Z;if(0===e.lookahead)break}if(n=0,e.lookahead>=B&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=B-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-F&&(e.match_length=o(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===B&&4096<e.strstart-e.match_start)&&(e.match_length=B-1)),e.prev_length>=B&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-B,i=P._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-B),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=B-1,e.strstart++,i&&(h(e,!1),0===e.strm.avail_out))return Z}else if(e.match_available){if((i=P._tr_tally(e,0,e.window[e.strstart-1]))&&h(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Z}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=P._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<B-1?e.strstart:B-1,t===L?(h(e,!0),0===e.strm.avail_out?W:z):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?Z:j}function a(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function m(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(2*M),this.dyn_dtree=new b.Buf16(2*(2*D+1)),this.bl_tree=new b.Buf16(2*(2*x+1)),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(A+1),this.heap=new b.Buf16(2*N+1),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(2*N+1),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function s(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=G,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?q:V,e.adler=2===t.wrap?0:1,t.last_flush=E,P._tr_init(t),R):l(e,U)}function _(e){var t,n=s(e);return n===R&&((t=e.state).window_size=2*t.w_size,d(t.head),t.max_lazy_match=S[t.level].max_lazy,t.good_match=S[t.level].good_length,t.nice_match=S[t.level].nice_length,t.max_chain_length=S[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=B-1,t.match_available=0,t.ins_h=0),n}function y(e,t,n,i,r,o){if(!e)return U;var a=1;if(t===w&&(t=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),r<1||O<r||n!==I||i<8||15<i||t<0||9<t||o<0||k<o)return l(e,U);8===i&&(i=9);var s=new m;return(e.state=s).strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+B-1)/B),s.window=new b.Buf8(2*s.w_size),s.head=new b.Buf16(s.hash_size),s.prev=new b.Buf16(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new b.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,_(e)}var S,b=e("../utils/common"),P=e("./trees"),v=e("./adler32"),C=e("./crc32"),T=e("./messages"),E=0,L=4,R=0,U=-2,w=-1,k=4,G=2,I=8,O=9,N=286,D=30,x=19,M=2*N+1,A=15,B=3,H=258,F=H+B+1,q=42,V=113,Z=1,j=2,W=3,z=4;S=[new a(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===E)return Z;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,h(e,!1),0===e.strm.avail_out))return Z;if(e.strstart-e.block_start>=e.w_size-F&&(h(e,!1),0===e.strm.avail_out))return Z}return e.insert=0,t===L?(h(e,!0),0===e.strm.avail_out?W:z):(e.strstart>e.block_start&&(h(e,!1),e.strm.avail_out),Z)}),new a(4,4,8,4,i),new a(4,5,16,8,i),new a(4,6,32,32,i),new a(4,4,16,16,r),new a(8,16,32,32,r),new a(8,16,128,128,r),new a(8,32,128,256,r),new a(32,128,258,1024,r),new a(32,258,258,4096,r)],n.deflateInit=function(e,t){return y(e,t,I,15,8,0)},n.deflateInit2=y,n.deflateReset=_,n.deflateResetKeep=s,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?U:(e.state.gzhead=t,R):U},n.deflate=function(e,t){var n,i,r,o;if(!e||!e.state||5<t||t<0)return e?l(e,U):U;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==L)return l(e,0===e.avail_out?-5:U);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===q)if(2===i.wrap)e.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=C(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),p(i,3),i.status=V);else{var a=I+(i.w_bits-8<<4)<<8;a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=V,g(i,a),0!==i.strstart&&(g(i,e.adler>>>16),g(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),u(e),r=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),u(e),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}p(i,o=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0)}while(0!==o);i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),u(e),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}p(i,o=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0)}while(0!==o);i.gzhead.hcrc&&i.pending>r&&(e.adler=C(e.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&u(e),i.pending+2<=i.pending_buf_size&&(p(i,255&e.adler),p(i,e.adler>>8&255),e.adler=0,i.status=V)):i.status=V),0!==i.pending){if(u(e),0===e.avail_out)return i.last_flush=-1,R}else if(0===e.avail_in&&c(t)<=c(n)&&t!==L)return l(e,-5);if(666===i.status&&0!==e.avail_in)return l(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==E&&666!==i.status){var s=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===E)return Z;break}if(e.match_length=0,n=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(h(e,!1),0===e.strm.avail_out))return Z}return e.insert=0,t===L?(h(e,!0),0===e.strm.avail_out?W:z):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?Z:j}(i,t):3===i.strategy?function(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=H){if(f(e),e.lookahead<=H&&t===E)return Z;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=B&&0<e.strstart&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){o=e.strstart+H;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=H-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=B?(n=P._tr_tally(e,1,e.match_length-B),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(h(e,!1),0===e.strm.avail_out))return Z}return e.insert=0,t===L?(h(e,!0),0===e.strm.avail_out?W:z):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?Z:j}(i,t):S[i.level].func(i,t);if(s!==W&&s!==z||(i.status=666),s===Z||s===W)return 0===e.avail_out&&(i.last_flush=-1),R;if(s===j&&(1===t?P._tr_align(i):5!==t&&(P._tr_stored_block(i,0,0,!1),3===t&&(d(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),u(e),0===e.avail_out))return i.last_flush=-1,R}return t!==L?R:i.wrap<=0?1:(2===i.wrap?(p(i,255&e.adler),p(i,e.adler>>8&255),p(i,e.adler>>16&255),p(i,e.adler>>24&255),p(i,255&e.total_in),p(i,e.total_in>>8&255),p(i,e.total_in>>16&255),p(i,e.total_in>>24&255)):(g(i,e.adler>>>16),g(i,65535&e.adler)),u(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?R:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==q&&69!==t&&73!==t&&91!==t&&103!==t&&t!==V&&666!==t?l(e,U):(e.state=null,t===V?l(e,-3):R):U},n.deflateSetDictionary=function(e,t){var n,i,r,o,a,s,l,c,u=t.length;if(!e||!e.state)return U;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==q||n.lookahead)return U;for(1===o&&(e.adler=v(e.adler,t,u,0)),n.wrap=0,u>=n.w_size&&(0===o&&(d(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new b.Buf8(n.w_size),b.arraySet(c,t,u-n.w_size,n.w_size,0),t=c,u=n.w_size),a=e.avail_in,s=e.next_in,l=e.input,e.avail_in=u,e.next_in=0,e.input=t,f(n);n.lookahead>=B;){for(i=n.strstart,r=n.lookahead-(B-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+B-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--r;);n.strstart=i,n.lookahead=B-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=B-1,n.match_available=0,e.next_in=s,e.input=l,e.avail_in=a,n.wrap=o,R},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,o,a,s,l,c,u,d,h,p,g,f,m,_,y,S,b,P,v,C,T,E,L;n=e.state,i=e.next_in,E=e.input,r=i+(e.avail_in-5),o=e.next_out,L=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,h=n.window,p=n.hold,g=n.bits,f=n.lencode,m=n.distcode,_=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{g<15&&(p+=E[i++]<<g,g+=8,p+=E[i++]<<g,g+=8),S=f[p&_];t:for(;;){if(p>>>=b=S>>>24,g-=b,0===(b=S>>>16&255))L[o++]=65535&S;else{if(!(16&b)){if(0==(64&b)){S=f[(65535&S)+(p&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}P=65535&S,(b&=15)&&(g<b&&(p+=E[i++]<<g,g+=8),P+=p&(1<<b)-1,p>>>=b,g-=b),g<15&&(p+=E[i++]<<g,g+=8,p+=E[i++]<<g,g+=8),S=m[p&y];n:for(;;){if(p>>>=b=S>>>24,g-=b,!(16&(b=S>>>16&255))){if(0==(64&b)){S=m[(65535&S)+(p&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(v=65535&S,g<(b&=15)&&(p+=E[i++]<<g,(g+=8)<b&&(p+=E[i++]<<g,g+=8)),l<(v+=p&(1<<b)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=b,g-=b,(b=o-a)<v){if(u<(b=v-b)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(T=h,(C=0)===d){if(C+=c-b,b<P){for(P-=b;L[o++]=h[C++],--b;);C=o-v,T=L}}else if(d<b){if(C+=c+d-b,(b-=d)<P){for(P-=b;L[o++]=h[C++],--b;);if(C=0,d<P){for(P-=b=d;L[o++]=h[C++],--b;);C=o-v,T=L}}}else if(C+=d-b,b<P){for(P-=b;L[o++]=h[C++],--b;);C=o-v,T=L}for(;2<P;)L[o++]=T[C++],L[o++]=T[C++],L[o++]=T[C++],P-=3;P&&(L[o++]=T[C++],1<P&&(L[o++]=T[C++]))}else{for(C=o-v;L[o++]=L[C++],L[o++]=L[C++],L[o++]=L[C++],2<(P-=3););P&&(L[o++]=L[C++],1<P&&(L[o++]=L[C++]))}break}}break}}while(i<r&&o<s);i-=P=g>>3,p&=(1<<(g-=P<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=g}},{}],11:[function(e,t,n){"use strict";function w(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function i(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=F,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new I.Buf32(u),t.distcode=t.distdyn=new I.Buf32(d),t.sane=1,t.back=-1,B):H}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,i(e)):H}function a(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?H:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,o(e))):H}function s(e,t){var n,i;return e?(i=new r,(e.state=i).window=null,(n=a(e,t))!==B&&(e.state=null),n):H}function k(e){if(h){var t;for(l=new I.Buf32(512),c=new I.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(x(M,e.lens,0,288,l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;x(A,e.lens,0,32,c,0,e.work,{bits:5}),h=!1}e.lencode=l,e.lenbits=9,e.distcode=c,e.distbits=5}function G(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new I.Buf8(o.wsize)),i>=o.wsize?(I.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(r=o.wsize-o.wnext)&&(r=i),I.arraySet(o.window,t,n-i,r,o.wnext),(i-=r)?(I.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}var l,c,I=e("../utils/common"),O=e("./adler32"),N=e("./crc32"),D=e("./inffast"),x=e("./inftrees"),M=1,A=2,B=0,H=-2,F=1,u=852,d=592,h=!0;n.inflateReset=o,n.inflateReset2=a,n.inflateResetKeep=i,n.inflateInit=function(e){return s(e,15)},n.inflateInit2=s,n.inflate=function(e,t){var n,i,r,o,a,s,l,c,u,d,h,p,g,f,m,_,y,S,b,P,v,C,T,E,L=0,R=new I.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return H;12===(n=e.state).mode&&(n.mode=13),a=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,u=n.bits,d=s,h=l,C=B;e:for(;;)switch(n.mode){case F:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(2&n.wrap&&35615===c){R[n.check=0]=255&c,R[1]=c>>>8&255,n.check=N(n.check,R,2,0),u=c=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&c)){e.msg="unknown compression method",n.mode=30;break}if(u-=4,v=8+(15&(c>>>=4)),0===n.wbits)n.wbits=v;else if(v>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<v,e.adler=n.check=1,n.mode=512&c?10:12,u=c=0;break;case 2:for(;u<16;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(n.flags=c,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=N(n.check,R,2,0)),u=c=0,n.mode=3;case 3:for(;u<32;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,R[2]=c>>>16&255,R[3]=c>>>24&255,n.check=N(n.check,R,4,0)),u=c=0,n.mode=4;case 4:for(;u<16;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=N(n.check,R,2,0)),u=c=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=N(n.check,R,2,0)),u=c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(s<(p=n.length)&&(p=s),p&&(n.head&&(v=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),I.arraySet(n.head.extra,i,o,p,v)),512&n.flags&&(n.check=N(n.check,i,p,o)),s-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;for(p=0;v=i[o+p++],n.head&&v&&n.length<65536&&(n.head.name+=String.fromCharCode(v)),v&&p<s;);if(512&n.flags&&(n.check=N(n.check,i,p,o)),s-=p,o+=p,v)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;for(p=0;v=i[o+p++],n.head&&v&&n.length<65536&&(n.head.comment+=String.fromCharCode(v)),v&&p<s;);if(512&n.flags&&(n.check=N(n.check,i,p,o)),s-=p,o+=p,v)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}u=c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;u<32;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}e.adler=n.check=w(c),u=c=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}switch(n.last=1&c,u-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(k(n),n.mode=20,6===t){c>>>=2,u-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,u=c=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(p=n.length){if(s<p&&(p=s),l<p&&(p=l),0===p)break e;I.arraySet(r,i,o,p,a),s-=p,o+=p,l-=p,a+=p,n.length-=p;break}n.mode=12;break;case 17:for(;u<14;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.lens[U[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},C=x(0,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,C){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;_=(L=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&L,!((m=L>>>24)<=u);){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(y<16)c>>>=m,u-=m,n.lens[n.have++]=y;else{if(16===y){for(E=m+2;u<E;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(c>>>=m,u-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}v=n.lens[n.have-1],p=3+(3&c),c>>>=2,u-=2}else if(17===y){for(E=m+3;u<E;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}u-=m,v=0,p=3+(7&(c>>>=m)),c>>>=3,u-=3}else{for(E=m+7;u<E;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}u-=m,v=0,p=11+(127&(c>>>=m)),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;p--;)n.lens[n.have++]=v}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,T={bits:n.lenbits},C=x(M,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,C){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},C=x(A,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,C){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=s&&258<=l){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,D(e,h),a=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,u=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;_=(L=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&L,!((m=L>>>24)<=u);){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(_&&0==(240&_)){for(S=m,b=_,P=y;_=(L=n.lencode[P+((c&(1<<S+b)-1)>>S)])>>>16&255,y=65535&L,!(S+(m=L>>>24)<=u);){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=m,u-=m,n.back+=m,n.length=y,0===_){n.mode=26;break}if(32&_){n.back=-1,n.mode=12;break}if(64&_){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&_,n.mode=22;case 22:if(n.extra){for(E=n.extra;u<E;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;_=(L=n.distcode[c&(1<<n.distbits)-1])>>>16&255,y=65535&L,!((m=L>>>24)<=u);){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(0==(240&_)){for(S=m,b=_,P=y;_=(L=n.distcode[P+((c&(1<<S+b)-1)>>S)])>>>16&255,y=65535&L,!(S+(m=L>>>24)<=u);){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=m,u-=m,n.back+=m,64&_){e.msg="invalid distance code",n.mode=30;break}n.offset=y,n.extra=15&_,n.mode=24;case 24:if(n.extra){for(E=n.extra;u<E;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break e;if(p=h-l,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}p>n.wnext?(p-=n.wnext,g=n.wsize-p):g=n.wnext-p,p>n.length&&(p=n.length),f=n.window}else f=r,g=a-n.offset,p=n.length;for(l<p&&(p=l),l-=p,n.length-=p;r[a++]=f[g++],--p;);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;r[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=i[o++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?N(n.check,r,h,a-h):O(n.check,r,h,a-h)),h=l,(n.flags?c:w(c))!==n.check){e.msg="incorrect data check",n.mode=30;break}u=c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}u=c=0}n.mode=29;case 29:C=1;break e;case 30:C=-3;break e;case 31:return-4;case 32:default:return H}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&G(e,e.output,e.next_out,h-e.avail_out)?(n.mode=31,-4):(d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?N(n.check,r,h,e.next_out-h):O(n.check,r,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===d&&0===h||4===t)&&C===B&&(C=-5),C)},n.inflateEnd=function(e){if(!e||!e.state)return H;var t=e.state;return t.window&&(t.window=null),e.state=null,B},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?H:((n.head=t).done=!1,B):H},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?H:11===n.mode&&O(1,t,i,0)!==n.check?-3:G(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,B):H},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(e,t,n){"use strict";var N=e("../utils/common"),D=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],M=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],A=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,i,r,o,a,s){var l,c,u,d,h,p,g,f,m,_=s.bits,y=0,S=0,b=0,P=0,v=0,C=0,T=0,E=0,L=0,R=0,U=null,w=0,k=new N.Buf16(16),G=new N.Buf16(16),I=null,O=0;for(y=0;y<=15;y++)k[y]=0;for(S=0;S<i;S++)k[t[n+S]]++;for(v=_,P=15;1<=P&&0===k[P];P--);if(P<v&&(v=P),0===P)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(b=1;b<P&&0===k[b];b++);for(v<b&&(v=b),y=E=1;y<=15;y++)if(E<<=1,(E-=k[y])<0)return-1;if(0<E&&(0===e||1!==P))return-1;for(G[1]=0,y=1;y<15;y++)G[y+1]=G[y]+k[y];for(S=0;S<i;S++)0!==t[n+S]&&(a[G[t[n+S]]++]=S);if(0===e?(U=I=a,p=19):1===e?(U=D,w-=257,I=x,O-=257,p=256):(U=M,I=A,p=-1),y=b,h=o,T=S=R=0,u=-1,d=(L=1<<(C=v))-1,1===e&&852<L||2===e&&592<L)return 1;for(;;){for(g=y-T,a[S]<p?(f=0,m=a[S]):a[S]>p?(f=I[O+a[S]],m=U[w+a[S]]):(f=96,m=0),l=1<<y-T,b=c=1<<C;r[h+(R>>T)+(c-=l)]=g<<24|f<<16|m|0,0!==c;);for(l=1<<y-1;R&l;)l>>=1;if(0!==l?(R&=l-1,R+=l):R=0,S++,0==--k[y]){if(y===P)break;y=t[n+a[S]]}if(v<y&&(R&d)!==u){for(0===T&&(T=v),h+=b,E=1<<(C=y-T);C+T<P&&!((E-=k[C+T])<=0);)C++,E<<=1;if(L+=1<<C,1===e&&852<L||2===e&&592<L)return 1;r[u=R&d]=v<<24|C<<16|h-o|0}}return 0!==R&&(r[h+R]=y-T<<24|64<<16|0),s.bits=v,0}},{"../utils/common":3}],13:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(e,t,n){"use strict";function i(e){for(var t=e.length;0<=--t;)e[t]=0}function a(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function r(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function l(e){return e<256?Z[e]:Z[256+(e>>>7)]}function c(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function u(e,t,n){e.bi_valid>I-n?(e.bi_buf|=t<<e.bi_valid&65535,c(e,e.bi_buf),e.bi_buf=t>>I-e.bi_valid,e.bi_valid+=n-I):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function d(e,t,n){u(e,n[2*t],n[2*t+1])}function h(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function p(e,t,n){var i,r,o=new Array(G+1),a=0;for(i=1;i<=G;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=h(o[s]++,s))}}function s(e){var t;for(t=0;t<R;t++)e.dyn_ltree[2*t]=0;for(t=0;t<U;t++)e.dyn_dtree[2*t]=0;for(t=0;t<w;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*N]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){8<e.bi_valid?c(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function o(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function f(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&o(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!o(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function m(e,t,n){var i,r,o,a,s=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?d(e,r,t):(d(e,(o=j[r])+L+1,t),0!==(a=A[o])&&u(e,r-=W[o],a),d(e,o=l(--i),n),0!==(a=B[o])&&u(e,i-=z[o],a)),s<e.last_lit;);d(e,N,t)}function _(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=k,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)f(e,o,n);for(r=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],f(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,f(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,f=0;for(o=0;o<=G;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<k;n++)g<(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)&&(o=g,f++),l[2*i+1]=o,c<i||(e.bl_count[o]++,a=0,p<=i&&(a=h[i-p]),s=l[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(u[2*i+1]+a)));if(0!==f){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,f-=2}while(0<f);for(o=g;0!==o;o--)for(i=e.bl_count[o];0!==i;)c<(r=e.heap[--n])||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),p(o,c,e.bl_count)}function y(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*D]++):s<=10?e.bl_tree[2*x]++:e.bl_tree[2*M]++,o=r,(s=0)===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function S(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<l&&r===a)){if(s<c)for(;d(e,r,e.bl_tree),0!=--s;);else 0!==r?(r!==o&&(d(e,r,e.bl_tree),s--),d(e,D,e.bl_tree),u(e,s-3,2)):s<=10?(d(e,x,e.bl_tree),u(e,s-3,3)):(d(e,M,e.bl_tree),u(e,s-11,7));o=r,(s=0)===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}function b(e,t,n,i){var r,o,a,s;u(e,(T<<1)+(i?1:0),3),o=t,a=n,s=!0,g(r=e),s&&(c(r,a),c(r,~a)),P.arraySet(r.pending_buf,r.window,o,a,r.pending),r.pending+=a}var P=e("../utils/common"),v=0,C=1,T=0,E=29,L=256,R=L+1+E,U=30,w=19,k=2*R+1,G=15,I=16,O=7,N=256,D=16,x=17,M=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(R+2));i(q);var V=new Array(2*U);i(V);var Z=new Array(512);i(Z);var j=new Array(256);i(j);var W=new Array(E);i(W);var z=new Array(U);i(z);var Y,J,X,K=!1;n._tr_init=function(e){K||(function(){var e,t,n,i,r,o=new Array(G+1);for(i=n=0;i<E-1;i++)for(W[i]=n,e=0;e<1<<A[i];e++)j[n++]=i;for(j[n-1]=i,i=r=0;i<16;i++)for(z[i]=r,e=0;e<1<<B[i];e++)Z[r++]=i;for(r>>=7;i<U;i++)for(z[i]=r<<7,e=0;e<1<<B[i]-7;e++)Z[256+r++]=i;for(t=0;t<=G;t++)o[t]=0;for(e=0;e<=143;)q[2*e+1]=8,e++,o[8]++;for(;e<=255;)q[2*e+1]=9,e++,o[9]++;for(;e<=279;)q[2*e+1]=7,e++,o[7]++;for(;e<=287;)q[2*e+1]=8,e++,o[8]++;for(p(q,R+1,o),e=0;e<U;e++)V[2*e+1]=5,V[2*e]=h(e,5);Y=new a(q,A,L+1,R,G),J=new a(V,B,0,U,G),X=new a(new Array(0),H,0,w,O)}(),K=!0),e.l_desc=new r(e.dyn_ltree,Y),e.d_desc=new r(e.dyn_dtree,J),e.bl_desc=new r(e.bl_tree,X),e.bi_buf=0,e.bi_valid=0,s(e)},n._tr_stored_block=b,n._tr_flush_block=function(e,t,n,i){var r,o,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return v;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return C;for(t=32;t<L;t++)if(0!==e.dyn_ltree[2*t])return C;return v}(e)),_(e,e.l_desc),_(e,e.d_desc),a=function(e){var t;for(y(e,e.dyn_ltree,e.l_desc.max_code),y(e,e.dyn_dtree,e.d_desc.max_code),_(e,e.bl_desc),t=w-1;3<=t&&0===e.bl_tree[2*F[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?b(e,t,n,i):4===e.strategy||o===r?(u(e,2+(i?1:0),3),m(e,q,V)):(u(e,4+(i?1:0),3),function(e,t,n,i){var r;for(u(e,t-257,5),u(e,n-1,5),u(e,i-4,4),r=0;r<i;r++)u(e,e.bl_tree[2*F[r]+1],3);S(e,e.dyn_ltree,t-1),S(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),m(e,e.dyn_ltree,e.dyn_dtree)),s(e),i&&g(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(j[n]+L+1)]++,e.dyn_dtree[2*l(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;u(e,2,3),d(e,N,q),16===(t=e).bi_valid?(c(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":3}],15:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")}),function(e){var t=function(){function e(){this.hexcase=0,this.b64pad=""}return e.prototype.hex_md5=function(e){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.b64_md5=function(e){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.any_md5=function(e,t){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(e)),t)},e.prototype.hex_hmac_md5=function(e,t){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.b64_hmac_md5=function(e,t){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.any_hmac_md5=function(e,t,n){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)),n)},e.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},e.prototype.rstr_md5=function(e){return this.binl2rstr(this.binl_md5(this.rstr2binl(e),8*e.length))},e.prototype.rstr_hmac_md5=function(e,t){var n=this.rstr2binl(e);16<n.length&&(n=this.binl_md5(n,8*e.length));for(var i=Array(16),r=Array(16),o=0;o<16;o++)i[o]=909522486^n[o],r[o]=1549556828^n[o];var a=this.binl_md5(i.concat(this.rstr2binl(t)),512+8*t.length);return this.binl2rstr(this.binl_md5(r.concat(a),640))},e.prototype.rstr2hex=function(e){try{this.hexcase}catch(e){this.hexcase=0}for(var t,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",i="",r=0;r<e.length;r++)t=e.charCodeAt(r),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i},e.prototype.rstr2b64=function(e){try{this.b64pad}catch(e){this.b64pad=""}for(var t="",n=e.length,i=0;i<n;i+=3)for(var r=e.charCodeAt(i)<<16|(i+1<n?e.charCodeAt(i+1)<<8:0)|(i+2<n?e.charCodeAt(i+2):0),o=0;o<4;o++)8*i+6*o>8*e.length?t+=this.b64pad:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>>6*(3-o)&63);return t},e.prototype.rstr2any=function(e,t){var n,i,r,o,a,s=t.length,l=Array(Math.ceil(e.length/2));for(n=0;n<l.length;n++)l[n]=e.charCodeAt(2*n)<<8|e.charCodeAt(2*n+1);var c=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),u=Array(c);for(i=0;i<c;i++){for(a=Array(),n=o=0;n<l.length;n++)o=(o<<16)+l[n],o-=(r=Math.floor(o/s))*s,(0<a.length||0<r)&&(a[a.length]=r);u[i]=o,l=a}var d="";for(n=u.length-1;0<=n;n--)d+=t.charAt(u[n]);return d},e.prototype.str2rstr_utf8=function(e){for(var t,n,i="",r=-1;++r<e.length;)t=e.charCodeAt(r),n=r+1<e.length?e.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),r++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i},e.prototype.str2rstr_utf16le=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n),e.charCodeAt(n)>>>8&255);return t},e.prototype.str2rstr_utf16be=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)>>>8&255,255&e.charCodeAt(n));return t},e.prototype.rstr2binl=function(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},e.prototype.binl2rstr=function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t},e.prototype.binl_md5=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,l=i,c=r,u=o;n=this.md5_ff(n,i,r,o,e[a+0],7,-680876936),o=this.md5_ff(o,n,i,r,e[a+1],12,-389564586),r=this.md5_ff(r,o,n,i,e[a+2],17,606105819),i=this.md5_ff(i,r,o,n,e[a+3],22,-1044525330),n=this.md5_ff(n,i,r,o,e[a+4],7,-176418897),o=this.md5_ff(o,n,i,r,e[a+5],12,1200080426),r=this.md5_ff(r,o,n,i,e[a+6],17,-1473231341),i=this.md5_ff(i,r,o,n,e[a+7],22,-45705983),n=this.md5_ff(n,i,r,o,e[a+8],7,1770035416),o=this.md5_ff(o,n,i,r,e[a+9],12,-1958414417),r=this.md5_ff(r,o,n,i,e[a+10],17,-42063),i=this.md5_ff(i,r,o,n,e[a+11],22,-1990404162),n=this.md5_ff(n,i,r,o,e[a+12],7,1804603682),o=this.md5_ff(o,n,i,r,e[a+13],12,-40341101),r=this.md5_ff(r,o,n,i,e[a+14],17,-1502002290),i=this.md5_ff(i,r,o,n,e[a+15],22,1236535329),n=this.md5_gg(n,i,r,o,e[a+1],5,-165796510),o=this.md5_gg(o,n,i,r,e[a+6],9,-1069501632),r=this.md5_gg(r,o,n,i,e[a+11],14,643717713),i=this.md5_gg(i,r,o,n,e[a+0],20,-373897302),n=this.md5_gg(n,i,r,o,e[a+5],5,-701558691),o=this.md5_gg(o,n,i,r,e[a+10],9,38016083),r=this.md5_gg(r,o,n,i,e[a+15],14,-660478335),i=this.md5_gg(i,r,o,n,e[a+4],20,-405537848),n=this.md5_gg(n,i,r,o,e[a+9],5,568446438),o=this.md5_gg(o,n,i,r,e[a+14],9,-1019803690),r=this.md5_gg(r,o,n,i,e[a+3],14,-187363961),i=this.md5_gg(i,r,o,n,e[a+8],20,1163531501),n=this.md5_gg(n,i,r,o,e[a+13],5,-1444681467),o=this.md5_gg(o,n,i,r,e[a+2],9,-51403784),r=this.md5_gg(r,o,n,i,e[a+7],14,1735328473),i=this.md5_gg(i,r,o,n,e[a+12],20,-1926607734),n=this.md5_hh(n,i,r,o,e[a+5],4,-378558),o=this.md5_hh(o,n,i,r,e[a+8],11,-2022574463),r=this.md5_hh(r,o,n,i,e[a+11],16,1839030562),i=this.md5_hh(i,r,o,n,e[a+14],23,-35309556),n=this.md5_hh(n,i,r,o,e[a+1],4,-1530992060),o=this.md5_hh(o,n,i,r,e[a+4],11,1272893353),r=this.md5_hh(r,o,n,i,e[a+7],16,-155497632),i=this.md5_hh(i,r,o,n,e[a+10],23,-1094730640),n=this.md5_hh(n,i,r,o,e[a+13],4,681279174),o=this.md5_hh(o,n,i,r,e[a+0],11,-358537222),r=this.md5_hh(r,o,n,i,e[a+3],16,-722521979),i=this.md5_hh(i,r,o,n,e[a+6],23,76029189),n=this.md5_hh(n,i,r,o,e[a+9],4,-640364487),o=this.md5_hh(o,n,i,r,e[a+12],11,-421815835),r=this.md5_hh(r,o,n,i,e[a+15],16,530742520),i=this.md5_hh(i,r,o,n,e[a+2],23,-995338651),n=this.md5_ii(n,i,r,o,e[a+0],6,-198630844),o=this.md5_ii(o,n,i,r,e[a+7],10,1126891415),r=this.md5_ii(r,o,n,i,e[a+14],15,-1416354905),i=this.md5_ii(i,r,o,n,e[a+5],21,-57434055),n=this.md5_ii(n,i,r,o,e[a+12],6,1700485571),o=this.md5_ii(o,n,i,r,e[a+3],10,-1894986606),r=this.md5_ii(r,o,n,i,e[a+10],15,-1051523),i=this.md5_ii(i,r,o,n,e[a+1],21,-2054922799),n=this.md5_ii(n,i,r,o,e[a+8],6,1873313359),o=this.md5_ii(o,n,i,r,e[a+15],10,-30611744),r=this.md5_ii(r,o,n,i,e[a+6],15,-1560198380),i=this.md5_ii(i,r,o,n,e[a+13],21,1309151649),n=this.md5_ii(n,i,r,o,e[a+4],6,-145523070),o=this.md5_ii(o,n,i,r,e[a+11],10,-1120210379),r=this.md5_ii(r,o,n,i,e[a+2],15,718787259),i=this.md5_ii(i,r,o,n,e[a+9],21,-343485551),n=this.safe_add(n,s),i=this.safe_add(i,l),r=this.safe_add(r,c),o=this.safe_add(o,u)}return[n,i,r,o]},e.prototype.md5_cmn=function(e,t,n,i,r,o){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(i,o)),r),n)},e.prototype.md5_ff=function(e,t,n,i,r,o,a){return this.md5_cmn(t&n|~t&i,e,t,r,o,a)},e.prototype.md5_gg=function(e,t,n,i,r,o,a){return this.md5_cmn(t&i|n&~i,e,t,r,o,a)},e.prototype.md5_hh=function(e,t,n,i,r,o,a){return this.md5_cmn(t^n^i,e,t,r,o,a)},e.prototype.md5_ii=function(e,t,n,i,r,o,a){return this.md5_cmn(n^(t|~i),e,t,r,o,a)},e.prototype.safe_add=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},e.prototype.bit_rol=function(e,t){return e<<t|e>>>32-t},e}();e.md5=t}(uniLib||(uniLib={})),function(e){var t;(t=e.ChatType||(e.ChatType={}))[t.ChatType_Map=2]="ChatType_Map";var n,i,r=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.Chat"},e}();e.Chat=r,n=r=e.Chat||(e.Chat={}),(i=n.Param||(n.Param={}))[i.CommonChatUserPmd_CS=1]="CommonChatUserPmd_CS",i[i.GMCommandChatUserPmd_C=2]="GMCommandChatUserPmd_C",i[i.GMCommandListChatUserPmd_S=4]="GMCommandListChatUserPmd_S",i[i.PrivateChatUserPmd_CS=5]="PrivateChatUserPmd_CS",i[i.CurrentGmLevelChatUserPmd_S=6]="CurrentGmLevelChatUserPmd_S",i[i.stAddHideButtonBookChatUserPmd_S=7]="stAddHideButtonBookChatUserPmd_S",i[i.stAddHideButtonChatUserPmd_S=8]="stAddHideButtonChatUserPmd_S",i[i.stAddHideButtonNewFunctionChatUserPmd_S=9]="stAddHideButtonNewFunctionChatUserPmd_S",i[i.stAddHideButtonServerHotKeyChatUserPmd_S=10]="stAddHideButtonServerHotKeyChatUserPmd_S",i[i.stCommonChatUserPmd_CS=11]="stCommonChatUserPmd_CS",i[i.stMessageBoxChatUserPmd_S=12]="stMessageBoxChatUserPmd_S";var o,a,s,l,c=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CommonChatUserPmd_CS"},e}();e.CommonChatUserPmd_CS=c,o=c=e.CommonChatUserPmd_CS||(e.CommonChatUserPmd_CS={}),(a=o.ChatType||(o.ChatType={}))[a.ChatType_None=0]="ChatType_None",a[a.ChatType_Lobby=1]="ChatType_Lobby",a[a.ChatType_Room=2]="ChatType_Room",a[a.ChatType_Robot=4]="ChatType_Robot",s=c=e.CommonChatUserPmd_CS||(e.CommonChatUserPmd_CS={}),(l=s.ChatPos||(s.ChatPos={}))[l.ChatPos_None=0]="ChatPos_None",l[l.ChatPos_Normal=1]="ChatPos_Normal",l[l.ChatPos_Sys=2]="ChatPos_Sys",l[l.ChatPos_Tips=4]="ChatPos_Tips",l[l.ChatPos_Pop=8]="ChatPos_Pop",l[l.ChatPos_Private=16]="ChatPos_Private",l[l.ChatPos_Important=32]="ChatPos_Important",l[l.ChatPos_Honor=64]="ChatPos_Honor",l[l.ChatPos_Gm=128]="ChatPos_Gm",l[l.ChatPos_GmVip=144]="ChatPos_GmVip",l[l.ChatPos_ImportantDown=160]="ChatPos_ImportantDown";var u=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GMCommandChatUserPmd_C"},e}();e.GMCommandChatUserPmd_C=u;var d=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GMHelpInfo"},e}();e.GMHelpInfo=d;var h=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GMCommandListChatUserPmd_S"},e}();e.GMCommandListChatUserPmd_S=h;var p=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PrivateChatUserPmd_CS"},e}();e.PrivateChatUserPmd_CS=p;var g=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CurrentGmLevelChatUserPmd_S"},e}();e.CurrentGmLevelChatUserPmd_S=g;var f=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stAddHideButtonBookChatUserPmd_S"},e}();e.stAddHideButtonBookChatUserPmd_S=f;var m=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stAddHideButtonChatUserPmd_S"},e}();e.stAddHideButtonChatUserPmd_S=m;var _=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stAddHideButtonNewFunctionChatUserPmd_S"},e}();e.stAddHideButtonNewFunctionChatUserPmd_S=_;var y=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stAddHideButtonServerHotKeyChatUserPmd_S"},e}();e.stAddHideButtonServerHotKeyChatUserPmd_S=y;var S=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stCommonChatUserPmd_CS"},e}();e.stCommonChatUserPmd_CS=S;var b=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.stMessageBoxChatUserPmd_S"},e}();e.stMessageBoxChatUserPmd_S=b}(Pmd||(Pmd={})),function(e){var t,n,i=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.Forward"},e}();e.Forward=i,t=i=e.Forward||(e.Forward={}),(n=t.Param||(t.Param={}))[n.UserJsMessageForwardUserPmd_CS=1]="UserJsMessageForwardUserPmd_CS",n[n.BroadcastJsMessageForwardUserPmd_CS=2]="BroadcastJsMessageForwardUserPmd_CS",n[n.WebSocketForwardUserPmd_C=4]="WebSocketForwardUserPmd_C",n[n.WebSocketForwardUserPmd_S=5]="WebSocketForwardUserPmd_S",n[n.BehaviorMessageForwardUserPmd_CS=6]="BehaviorMessageForwardUserPmd_CS",n[n.PushMessageForwardUserPmd_S=7]="PushMessageForwardUserPmd_S";var r=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserJsMessageForwardUserPmd_CS"},e}();e.UserJsMessageForwardUserPmd_CS=r;var o=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BroadcastJsMessageForwardUserPmd_CS"},e}();e.BroadcastJsMessageForwardUserPmd_CS=o;var a=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.WebSocketForwardUserPmd_C"},e}();e.WebSocketForwardUserPmd_C=a;var s=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.WebSocketForwardUserPmd_S"},e}();e.WebSocketForwardUserPmd_S=s;var l,c,u=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BehaviorMessageForwardUserPmd_CS"},e}();e.BehaviorMessageForwardUserPmd_CS=u,l=u=e.BehaviorMessageForwardUserPmd_CS||(e.BehaviorMessageForwardUserPmd_CS={}),(c=l.Type||(l.Type={}))[c.NormalText=1]="NormalText",c[c.UploadTree=2]="UploadTree";var d=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PushMessageForwardUserPmd_S"},e}();e.PushMessageForwardUserPmd_S=d}(Pmd||(Pmd={})),function(e){var t,n,i,r,o,a;(t=e.VerifyReturnReason||(e.VerifyReturnReason={}))[t.LoginOk=0]="LoginOk",t[t.TokenFindError=1]="TokenFindError",t[t.TokenDiffError=2]="TokenDiffError",t[t.VersionError=3]="VersionError",(n=e.ZoneState||(e.ZoneState={}))[n.Shutdown=0]="Shutdown",n[n.Normal=1]="Normal",n[n.Fullly=2]="Fullly",n[n.Starting=3]="Starting",(i=e.ZoneInfoBitMask||(e.ZoneInfoBitMask={}))[i.ZoneInfoBitMask_None=0]="ZoneInfoBitMask_None",i[i.ZoneInfoBitMask_Normal=1]="ZoneInfoBitMask_Normal",i[i.ZoneInfoBitMask_SandBox=2]="ZoneInfoBitMask_SandBox",i[i.ZoneInfoBitMask_NoOpen=4]="ZoneInfoBitMask_NoOpen",(r=e.LoginReturnFailReason||(e.LoginReturnFailReason={}))[r.Password=1]="Password",r[r.ServerShutdown=2]="ServerShutdown",r[r.VersionTooLow=3]="VersionTooLow",r[r.UserTokenFind=4]="UserTokenFind",r[r.UserTokenTempId=5]="UserTokenTempId",r[r.UserTokenTimeOut=6]="UserTokenTimeOut",r[r.LoginDulicate=7]="LoginDulicate",r[r.NoGatewaytDown=8]="NoGatewaytDown",r[r.AccountUsing=9]="AccountUsing",r[r.GatewayUserMax=10]="GatewayUserMax",r[r.WaiGuaPunish=11]="WaiGuaPunish",r[r.ServerStartTime=12]="ServerStartTime",(o=e.PlatType||(e.PlatType={}))[o.PlatType_Normal=0]="PlatType_Normal",o[o.PlatType_UC=4]="PlatType_UC",o[o.PlatType_LeZhuan=67]="PlatType_LeZhuan",o[o.PlatType_WeChat=68]="PlatType_WeChat",o[o.PlatType_Play68=69]="PlatType_Play68",o[o.PlatType_AiBei=70]="PlatType_AiBei",o[o.PlatType_Facebook=71]="PlatType_Facebook",o[o.PlatType_GooglePlay=72]="PlatType_GooglePlay",o[o.PlatType_XingZhiZhu=73]="PlatType_XingZhiZhu",o[o.PlatType_HuoWu=74]="PlatType_HuoWu",o[o.PlatType_CaiGuo=77]="PlatType_CaiGuo",o[o.PlatType_1758=79]="PlatType_1758",o[o.PlatType_DAPAI=80]="PlatType_DAPAI",o[o.PlatType_HILE=82]="PlatType_HILE",o[o.PlatType_AAY=86]="PlatType_AAY",o[o.PlatType_WEIYOU=90]="PlatType_WEIYOU",o[o.PlatType_9g=99]="PlatType_9g",o[o.PlatType_MOBILE=129]="PlatType_MOBILE",o[o.PlatType_XueChi=133]="PlatType_XueChi",o[o.PlatType_Egret=134]="PlatType_Egret",o[o.PlatType_AoXin=140]="PlatType_AoXin",o[o.PlatType_HUOSU=145]="PlatType_HUOSU",o[o.PlatType_RONGQIANG=151]="PlatType_RONGQIANG",o[o.PlatType_WXApp=152]="PlatType_WXApp",o[o.PlatType_RongQiangApp=153]="PlatType_RongQiangApp",o[o.PlatType_YYGame=302]="PlatType_YYGame",(a=e.OnlineState||(e.OnlineState={}))[a.OnlineState_Offline=0]="OnlineState_Offline",a[a.OnlineState_Online=1]="OnlineState_Online",a[a.OnlineState_Slow=2]="OnlineState_Slow",a[a.OnlineState_Leave=3]="OnlineState_Leave",a[a.OnlineState_Calling=4]="OnlineState_Calling";var s,l,c=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.Login"},e}();e.Login=c,s=c=e.Login||(e.Login={}),(l=s.Param||(s.Param={}))[l.AccountTokenVerifyLoginUserPmd_CS=1]="AccountTokenVerifyLoginUserPmd_CS",l[l.AccountTokenVerifyReturnLoginUserPmd_S=2]="AccountTokenVerifyReturnLoginUserPmd_S",l[l.ZoneInfoListLoginUserPmd_S=3]="ZoneInfoListLoginUserPmd_S",l[l.UserLoginRequestLoginUserPmd_C=4]="UserLoginRequestLoginUserPmd_C",l[l.UserLoginReturnFailLoginUserPmd_S=5]="UserLoginReturnFailLoginUserPmd_S",l[l.UserLoginReturnOkLoginUserPmd_S=6]="UserLoginReturnOkLoginUserPmd_S",l[l.UserLoginTokenLoginUserPmd_C=7]="UserLoginTokenLoginUserPmd_C",l[l.ClientLogUrlLoginUserPmd_S=8]="ClientLogUrlLoginUserPmd_S",l[l.MessageBoxLoginUserPmd_S=9]="MessageBoxLoginUserPmd_S",l[l.RequestAccountRegisterLoginUserPmd_C=10]="RequestAccountRegisterLoginUserPmd_C",l[l.ReturnAccountRegisterLoginUserPmd_S=11]="ReturnAccountRegisterLoginUserPmd_S",l[l.UserLogoutTokenLoginUserPmd_C=12]="UserLogoutTokenLoginUserPmd_C",l[l.UserLoginReconnectLoginUserPmd_C=13]="UserLoginReconnectLoginUserPmd_C",l[l.ReconnectKickoutLoginUserPmd_S=14]="ReconnectKickoutLoginUserPmd_S",l[l.ServerKickoutLoginUserPmd_S=15]="ServerKickoutLoginUserPmd_S",l[l.RequestZoneInfoListLoginUserPmd_C=16]="RequestZoneInfoListLoginUserPmd_C",l[l.SetServerLangLoginUserPmd_C=17]="SetServerLangLoginUserPmd_C",l[l.RequestClientIPLoginUserPmd_C=18]="RequestClientIPLoginUserPmd_C",l[l.ReturnClientIPLoginUserPmd_S=19]="ReturnClientIPLoginUserPmd_S",l[l.ReconnectErrorLoginUserPmd_S=20]="ReconnectErrorLoginUserPmd_S",l[l.CheckVersionLoginUserPmd_C=21]="CheckVersionLoginUserPmd_C",l[l.PushAccountVerifyLoginUserPmd_C=22]="PushAccountVerifyLoginUserPmd_C",l[l.BehaviorClientVerifyLoginUserPmd_C=23]="BehaviorClientVerifyLoginUserPmd_C",l[l.RequestUserZoneInfoLoginUserPmd_C=24]="RequestUserZoneInfoLoginUserPmd_C",l[l.RequestUserZoneInfoLoginUserPmd_S=25]="RequestUserZoneInfoLoginUserPmd_S",l[l.MobileRegistRequestRandCodeLoginUserPmd_C=26]="MobileRegistRequestRandCodeLoginUserPmd_C",l[l.MobileRegistReturnRandCodeLoginUserPmd_S=27]="MobileRegistReturnRandCodeLoginUserPmd_S",l[l.MobileRegistRequestCreateAccountLoginUserPmd_C=28]="MobileRegistRequestCreateAccountLoginUserPmd_C",l[l.MobileRegistReturnCreateAccountFailLoginUserPmd_S=29]="MobileRegistReturnCreateAccountFailLoginUserPmd_S",l[l.RequestSupoortGameListLoginUserPmd_C=30]="RequestSupoortGameListLoginUserPmd_C",l[l.ReturnSupoortGameListLoginUserPmd_S=31]="ReturnSupoortGameListLoginUserPmd_S",l[l.UserRequestPlatTokenByPasswordLoginUserPmd_C=32]="UserRequestPlatTokenByPasswordLoginUserPmd_C",l[l.UserRequestPlatTokenByThirdLoginUserPmd_C=33]="UserRequestPlatTokenByThirdLoginUserPmd_C",l[l.UserRequestPlatTokenLoginOkLoginUserPmd_S=34]="UserRequestPlatTokenLoginOkLoginUserPmd_S",l[l.UserRequestPlatTokenLoginFailLoginUserPmd_S=35]="UserRequestPlatTokenLoginFailLoginUserPmd_S",l[l.EmailRegistRequestCreateAccountLoginUserPmd_C=36]="EmailRegistRequestCreateAccountLoginUserPmd_C",l[l.EmailRegistReturnCreateAccountLoginUserPmd_S=37]="EmailRegistReturnCreateAccountLoginUserPmd_S",l[l.UserLoginReconnectOkLoginUserPmd_S=38]="UserLoginReconnectOkLoginUserPmd_S",l[l.GameServerShutDownLoginUserPmd_S=39]="GameServerShutDownLoginUserPmd_S",l[l.OnlineNumWaitingLoginUserPmd_S=40]="OnlineNumWaitingLoginUserPmd_S",l[l.OnlineStateLoginUserPmd_CS=41]="OnlineStateLoginUserPmd_CS",l[l.ServerDebugLevelLoginUserPmd_S=42]="ServerDebugLevelLoginUserPmd_S",l[l.ServerShutDownLoginUserPmd_S=43]="ServerShutDownLoginUserPmd_S",l[l.RequestZoneStateLoginUserPmd_CS=44]="RequestZoneStateLoginUserPmd_CS",l[l.ClientConfigUpdateLoginUserPmd_S=45]="ClientConfigUpdateLoginUserPmd_S",l[l.EmailRegistRequestRandCodeLoginUserPmd_C=46]="EmailRegistRequestRandCodeLoginUserPmd_C",l[l.EmailRegistRequestRandCodeLoginUserPmd_S=47]="EmailRegistRequestRandCodeLoginUserPmd_S";var u=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.AccountTokenVerifyLoginUserPmd_CS"},e}();e.AccountTokenVerifyLoginUserPmd_CS=u;var d=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PushAccountVerifyLoginUserPmd_C"},e}();e.PushAccountVerifyLoginUserPmd_C=d;var h=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.AccountTokenVerifyReturnLoginUserPmd_S"},e}();e.AccountTokenVerifyReturnLoginUserPmd_S=h;var p=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ZoneInfo"},e}();e.ZoneInfo=p;var g=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ZoneInfoListLoginUserPmd_S"},e}();e.ZoneInfoListLoginUserPmd_S=g;var f=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestZoneInfoListLoginUserPmd_C"},e}();e.RequestZoneInfoListLoginUserPmd_C=f;var m=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUserZoneInfoLoginUserPmd_C"},e}();e.RequestUserZoneInfoLoginUserPmd_C=m;var _=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserZoneInfo"},e}();e.UserZoneInfo=_;var y=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUserZoneInfoLoginUserPmd_S"},e}();e.RequestUserZoneInfoLoginUserPmd_S=y;var S=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MobileRegistRequestRandCodeLoginUserPmd_C"},e}();e.MobileRegistRequestRandCodeLoginUserPmd_C=S;var b=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MobileRegistReturnRandCodeLoginUserPmd_S"},e}();e.MobileRegistReturnRandCodeLoginUserPmd_S=b;var P=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MobileRegistRequestCreateAccountLoginUserPmd_C"},e}();e.MobileRegistRequestCreateAccountLoginUserPmd_C=P;var v=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MobileRegistReturnCreateAccountFailLoginUserPmd_S"},e}();e.MobileRegistReturnCreateAccountFailLoginUserPmd_S=v;var C=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.EmailRegistRequestRandCodeLoginUserPmd_C"},e}();e.EmailRegistRequestRandCodeLoginUserPmd_C=C;var T=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.EmailRegistRequestRandCodeLoginUserPmd_S"},e}();e.EmailRegistRequestRandCodeLoginUserPmd_S=T;var E=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.EmailRegistRequestCreateAccountLoginUserPmd_C"},e}();e.EmailRegistRequestCreateAccountLoginUserPmd_C=E;var L=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.EmailRegistReturnCreateAccountLoginUserPmd_S"},e}();e.EmailRegistReturnCreateAccountLoginUserPmd_S=L;var R=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C"},e}();e.UserRequestPlatTokenByPasswordLoginUserPmd_C=R;var U=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenByThirdLoginUserPmd_C"},e}();e.UserRequestPlatTokenByThirdLoginUserPmd_C=U;var w=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenLoginOkLoginUserPmd_S"},e}();e.UserRequestPlatTokenLoginOkLoginUserPmd_S=w;var k=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenLoginFailLoginUserPmd_S"},e}();e.UserRequestPlatTokenLoginFailLoginUserPmd_S=k;var G=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginRequestLoginUserPmd_C"},e}();e.UserLoginRequestLoginUserPmd_C=G;var I=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginReturnFailLoginUserPmd_S"},e}();e.UserLoginReturnFailLoginUserPmd_S=I;var O=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginReturnOkLoginUserPmd_S"},e}();e.UserLoginReturnOkLoginUserPmd_S=O;var N=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginTokenLoginUserPmd_C"},e}();e.UserLoginTokenLoginUserPmd_C=N;var D=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginReconnectLoginUserPmd_C"},e}();e.UserLoginReconnectLoginUserPmd_C=D;var x=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ClientLogUrlLoginUserPmd_S"},e}();e.ClientLogUrlLoginUserPmd_S=x;var M=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MessageBoxLoginUserPmd_S"},e}();e.MessageBoxLoginUserPmd_S=M;var A=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestAccountRegisterLoginUserPmd_C"},e}();e.RequestAccountRegisterLoginUserPmd_C=A;var B=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnAccountRegisterLoginUserPmd_S"},e}();e.ReturnAccountRegisterLoginUserPmd_S=B;var H=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLogoutTokenLoginUserPmd_C"},e}();e.UserLogoutTokenLoginUserPmd_C=H;var F=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReconnectKickoutLoginUserPmd_S"},e}();e.ReconnectKickoutLoginUserPmd_S=F;var q=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReconnectErrorLoginUserPmd_S"},e}();e.ReconnectErrorLoginUserPmd_S=q;var V=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerKickoutLoginUserPmd_S"},e}();e.ServerKickoutLoginUserPmd_S=V;var Z=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatInfo"},e}();e.PlatInfo=Z;var j=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ThirdPlatLoginUserPmd_C"},e}();e.ThirdPlatLoginUserPmd_C=j;var W=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SetServerLangLoginUserPmd_C"},e}();e.SetServerLangLoginUserPmd_C=W;var z=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestClientIPLoginUserPmd_C"},e}();e.RequestClientIPLoginUserPmd_C=z;var Y=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnClientIPLoginUserPmd_S"},e}();e.ReturnClientIPLoginUserPmd_S=Y;var J=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CheckVersionLoginUserPmd_C"},e}();e.CheckVersionLoginUserPmd_C=J;var X=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BehaviorClientVerifyLoginUserPmd_C"},e}();e.BehaviorClientVerifyLoginUserPmd_C=X;var K=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestSupoortGameListLoginUserPmd_C"},e}();e.RequestSupoortGameListLoginUserPmd_C=K;var Q=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnSupoortGameListLoginUserPmd_S_Game"},e}();e.ReturnSupoortGameListLoginUserPmd_S_Game=Q;var $=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnSupoortGameListLoginUserPmd_S"},e}();e.ReturnSupoortGameListLoginUserPmd_S=$;var ee=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginReconnectOkLoginUserPmd_S"},e}();e.UserLoginReconnectOkLoginUserPmd_S=ee;var te=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GameServerShutDownLoginUserPmd_S"},e}();e.GameServerShutDownLoginUserPmd_S=te;var ne=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.OnlineNumWaitingLoginUserPmd_S"},e}();e.OnlineNumWaitingLoginUserPmd_S=ne;var ie=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.OnlineStateLoginUserPmd_CS"},e}();e.OnlineStateLoginUserPmd_CS=ie;var re=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerDebugLevelLoginUserPmd_S"},e}();e.ServerDebugLevelLoginUserPmd_S=re;var oe=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerShutDownLoginUserPmd_S"},e}();e.ServerShutDownLoginUserPmd_S=oe;var ae=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestZoneStateLoginUserPmd_CS"},e}();e.RequestZoneStateLoginUserPmd_CS=ae;var se=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ClientConfigUpdateLoginUserPmd_S"},e}();e.ClientConfigUpdateLoginUserPmd_S=se}(Pmd||(Pmd={})),function(e){var t;(t=e.FrameHeader||(e.FrameHeader={}))[t.Bitmask_None=0]="Bitmask_None",t[t.Bitmask_Compress=1]="Bitmask_Compress",t[t.Bitmask_Encrypt=2]="Bitmask_Encrypt",t[t.Bitmask_Header=4]="Bitmask_Header",t[t.Bitmask_NoHeadLen=8]="Bitmask_NoHeadLen",t[t.Bitmask_Reconnect=16]="Bitmask_Reconnect";var n,i,r=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.Null"},e}();e.Null=r,n=r=e.Null||(e.Null={}),(i=n.Param||(n.Param={}))[i.ForwardNullUserPmd_CS=0]="ForwardNullUserPmd_CS",i[i.TickRequestNullUserPmd_CS=1]="TickRequestNullUserPmd_CS",i[i.TickReturnNullUserPmd_CS=2]="TickReturnNullUserPmd_CS",i[i.RequestCloseNullUserPmd_CS=3]="RequestCloseNullUserPmd_CS",i[i.FrameHeaderNullUserPmd_CS=4]="FrameHeaderNullUserPmd_CS",i[i.CheckVersionUserPmd_CS=5]="CheckVersionUserPmd_CS",i[i.ForwardBwNullUserPmd_CS=6]="ForwardBwNullUserPmd_CS",i[i.SetTickTimeoutNullUserPmd_CS=7]="SetTickTimeoutNullUserPmd_CS",i[i.SetPingTimeNullUserPmd_CS=8]="SetPingTimeNullUserPmd_CS",i[i.ForwardToZoneNullUserPmd_CS=9]="ForwardToZoneNullUserPmd_CS",i[i.MaxDefualtNullUserPmd=15]="MaxDefualtNullUserPmd",i[i.StartFrameSyncNullUserPmd_CS=16]="StartFrameSyncNullUserPmd_CS",i[i.BroadListFrameSyncNullUserPmd_S=17]="BroadListFrameSyncNullUserPmd_S",i[i.RequestUpFrameSyncNullUserPmd_C=18]="RequestUpFrameSyncNullUserPmd_C",i[i.HistoryListFrameSyncNullUserPmd_S=19]="HistoryListFrameSyncNullUserPmd_S",i[i.StopFrameSyncNullUserPmd_SC=20]="StopFrameSyncNullUserPmd_SC",i[i.ForwardNullUserListPmd_CS=21]="ForwardNullUserListPmd_CS",i[i.JsonCompressNullUserPmd_CS=101]="JsonCompressNullUserPmd_CS";var o=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ForwardNullUserPmd_CS"},e}();e.ForwardNullUserPmd_CS=o;var a=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ForwardNullUserListPmd_CS"},e}();e.ForwardNullUserListPmd_CS=a;var s=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.TickRequestNullUserPmd_CS"},e}();e.TickRequestNullUserPmd_CS=s;var l=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.TickReturnNullUserPmd_CS"},e}();e.TickReturnNullUserPmd_CS=l;var c=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SetPingTimeNullUserPmd_CS"},e}();e.SetPingTimeNullUserPmd_CS=c;var u=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SetTickTimeoutNullUserPmd_CS"},e}();e.SetTickTimeoutNullUserPmd_CS=u;var d=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestCloseNullUserPmd_CS"},e}();e.RequestCloseNullUserPmd_CS=d;var h=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.FrameHeaderNullUserPmd_CS"},e}();e.FrameHeaderNullUserPmd_CS=h;var p=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CheckVersionUserPmd_CS"},e}();e.CheckVersionUserPmd_CS=p;var g=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ForwardBwNullUserPmd_CS"},e}();e.ForwardBwNullUserPmd_CS=g;var f=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ForwardToZoneNullUserPmd_CS"},e}();e.ForwardToZoneNullUserPmd_CS=f;var m=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserInitData"},e}();e.UserInitData=m;var _=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.FrameSyncData"},e}();e.FrameSyncData=_;var y=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.MaxDefualtNullUserPmd"},e}();e.MaxDefualtNullUserPmd=y;var S=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.StartFrameSyncNullUserPmd_CS"},e}();e.StartFrameSyncNullUserPmd_CS=S;var b=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BroadListFrameSyncNullUserPmd_S"},e}();e.BroadListFrameSyncNullUserPmd_S=b;var P=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUpFrameSyncNullUserPmd_C"},e}();e.RequestUpFrameSyncNullUserPmd_C=P;var v=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.HistoryFrameSyncData"},e}();e.HistoryFrameSyncData=v;var C=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.HistoryListFrameSyncNullUserPmd_S"},e}();e.HistoryListFrameSyncNullUserPmd_S=C;var T=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.StopFrameSyncNullUserPmd_SC"},e}();e.StopFrameSyncNullUserPmd_SC=T;var E=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.JsonCompressKey"},e}();e.JsonCompressKey=E;var L=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.JsonCompressNullUserPmd_CS"},e}();e.JsonCompressNullUserPmd_CS=L}(Pmd||(Pmd={})),function(e){var t,n,i,r,o,a;(t=e.PlatCommand||(e.PlatCommand={}))[t.PlatCommand_Null=0]="PlatCommand_Null",t[t.PlatCommand_Logger=245]="PlatCommand_Logger",t[t.PlatCommand_Lobby=246]="PlatCommand_Lobby",t[t.PlatCommand_Push=247]="PlatCommand_Push",t[t.PlatCommand_Gm=248]="PlatCommand_Gm",t[t.PlatCommand_Monitor=249]="PlatCommand_Monitor",t[t.PlatCommand_Login=250]="PlatCommand_Login",t[t.PlatCommand_Forward=251]="PlatCommand_Forward",t[t.PlatCommand_Sdk=252]="PlatCommand_Sdk",t[t.PlatCommand_Chat=253]="PlatCommand_Chat",t[t.PlatCommand_Image=254]="PlatCommand_Image",(n=e.HttpReturnCode||(e.HttpReturnCode={}))[n.HttpReturnCode_Null=0]="HttpReturnCode_Null",n[n.HttpReturnCode_DbError=2]="HttpReturnCode_DbError",n[n.HttpReturnCode_NeedBind=3]="HttpReturnCode_NeedBind",n[n.HttpReturnCode_LuaScriptError=4]="HttpReturnCode_LuaScriptError",n[n.HttpReturnCode_GameZoneListError=5]="HttpReturnCode_GameZoneListError",n[n.HttpReturnCode_SignError=11]="HttpReturnCode_SignError",n[n.HttpReturnCode_ServerShutDown=12]="HttpReturnCode_ServerShutDown",n[n.HttpReturnCode_JsonSyntaxError=13]="HttpReturnCode_JsonSyntaxError",n[n.HttpReturnCode_JsonMessageError=14]="HttpReturnCode_JsonMessageError",n[n.HttpReturnCode_TokenValueError=15]="HttpReturnCode_TokenValueError",n[n.HttpReturnCode_WaiGuaUidError=16]="HttpReturnCode_WaiGuaUidError",n[n.HttpReturnCode_NoGatewaytDown=17]="HttpReturnCode_NoGatewaytDown",n[n.HttpReturnCode_NoGatewayDown=17]="HttpReturnCode_NoGatewayDown",n[n.HttpReturnCode_NoSdkServer=18]="HttpReturnCode_NoSdkServer",n[n.HttpReturnCode_SdkCheckSignErr=19]="HttpReturnCode_SdkCheckSignErr",n[n.HttpReturnCode_Sdk3PartyServerErr=20]="HttpReturnCode_Sdk3PartyServerErr",n[n.HttpReturnCode_ProtobufErr=21]="HttpReturnCode_ProtobufErr",n[n.HttpReturnCode_GatewayErr=22]="HttpReturnCode_GatewayErr",n[n.HttpReturnCode_Timeout=23]="HttpReturnCode_Timeout",n[n.HttpReturnCode_AccountUsing=24]="HttpReturnCode_AccountUsing",n[n.HttpReturnCode_OnlinePlatidErr=25]="HttpReturnCode_OnlinePlatidErr",n[n.HttpReturnCode_BindAccountErr=26]="HttpReturnCode_BindAccountErr",(i=e.TaskType||(e.TaskType={}))[i.TaskType_Null=0]="TaskType_Null",i[i.TaskType_Monitor=1]="TaskType_Monitor",i[i.TaskType_Login=2]="TaskType_Login",i[i.TaskType_NameS=3]="TaskType_NameS",i[i.TaskType_Sdk=4]="TaskType_Sdk",i[i.TaskType_Gm=5]="TaskType_Gm",i[i.TaskType_Gateway=6]="TaskType_Gateway",i[i.TaskType_GameZone=7]="TaskType_GameZone",(r=e.ServerType||(e.ServerType={}))[r.UNKNOWNSERVER=0]="UNKNOWNSERVER",r[r.SUPERSERVER=1]="SUPERSERVER",r[r.LOGINSERVER=10]="LOGINSERVER",r[r.RECORDSERVER=11]="RECORDSERVER",r[r.SESSIONSERVER=20]="SESSIONSERVER",r[r.SCENESSERVER=21]="SCENESSERVER",r[r.GATEWAYSERVER=22]="GATEWAYSERVER",r[r.INFOSERVER=23]="INFOSERVER",r[r.HTTPSERVER=24]="HTTPSERVER",r[r.CHANGESERVER=25]="CHANGESERVER",r[r.USERSERVER=26]="USERSERVER",r[r.BILLSERVER=27]="BILLSERVER",r[r.NAMESERVER=28]="NAMESERVER",r[r.MONITORSERVER=29]="MONITORSERVER",r[r.GMSERVER=30]="GMSERVER",r[r.STATERSERVER=31]="STATERSERVER",r[r.SOUNDSERVER=32]="SOUNDSERVER",r[r.BILLSERVER_ALIPAY=33]="BILLSERVER_ALIPAY",r[r.BILLSERVER_JUNKA=34]="BILLSERVER_JUNKA",r[r.BILLSERVER_TIANXIATONG=35]="BILLSERVER_TIANXIATONG",r[r.BILLSERVER_ZONGYOU=36]="BILLSERVER_ZONGYOU",r[r.BILLSERVER_OFFLINE=37]="BILLSERVER_OFFLINE",r[r.BILLSERVER_MESSAGE=38]="BILLSERVER_MESSAGE",r[r.BILLSERVER_ZQB=39]="BILLSERVER_ZQB",r[r.WEBGATESERVER=40]="WEBGATESERVER",r[r.BILLSERVER_BAIDU=41]="BILLSERVER_BAIDU",r[r.BILLSERVER_SHUN=42]="BILLSERVER_SHUN",r[r.SDKSERVER=43]="SDKSERVER",r[r.LOGGERSERVER=44]="LOGGERSERVER",r[r.UNILIGHT=45]="UNILIGHT",r[r.MAX_SERVERTYPE=46]="MAX_SERVERTYPE",r[r.UnknownServer=0]="UnknownServer",r[r.LoginServer=10]="LoginServer",r[r.GatewayServer=22]="GatewayServer",r[r.InfoServer=23]="InfoServer",r[r.HttpsServer=24]="HttpsServer",r[r.ChangeServer=25]="ChangeServer",r[r.UserServer=26]="UserServer",r[r.BillServer=27]="BillServer",r[r.NameServer=28]="NameServer",r[r.MonitorServer=29]="MonitorServer",r[r.GmServer=30]="GmServer",r[r.StateServer=31]="StateServer",r[r.SoundServer=32]="SoundServer",r[r.WebGateServer=40]="WebGateServer",r[r.SdkServer=43]="SdkServer",r[r.LoggerServer=44]="LoggerServer",r[r.UniServer=45]="UniServer",(o=e.NetType||(e.NetType={}))[o.NetType_near=0]="NetType_near",o[o.NetType_far=1]="NetType_far",o[o.NetType_CTC=2]="NetType_CTC",o[o.NetType_CNC=3]="NetType_CNC",(a=e.RobotUid||(e.RobotUid={}))[a.RobotUid_begin=1e4]="RobotUid_begin",a[a.RobotUid_end=2e4]="RobotUid_end";var s=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GameZoneInfo"},e}();e.GameZoneInfo=s;var l=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerName"},e}();e.ServerName=l;var c=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerInfo"},e}();e.ServerInfo=c}(Pmd||(Pmd={})),function(e){var t,n,i=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.Sdk"},e}();e.Sdk=i,t=i=e.Sdk||(e.Sdk={}),(n=t.Param||(t.Param={}))[n.StartUpGameRequestSdkPmd_C=1]="StartUpGameRequestSdkPmd_C",n[n.StartUpGameReturnSdkPmd_S=2]="StartUpGameReturnSdkPmd_S",n[n.SupportGamePlatListSdkPmd_S=3]="SupportGamePlatListSdkPmd_S",n[n.UserLoginPlatRequestSdkPmd_C=4]="UserLoginPlatRequestSdkPmd_C",n[n.UserLoginPlatReturnSdkPmd_S=5]="UserLoginPlatReturnSdkPmd_S",n[n.CreatePlatOrderRequestSdkPmd_C=6]="CreatePlatOrderRequestSdkPmd_C",n[n.CreatePlatOrderReturnSdkPmd_S=7]="CreatePlatOrderReturnSdkPmd_S",n[n.NotifyRechargeRequestSdkPmd_S=8]="NotifyRechargeRequestSdkPmd_S",n[n.NotifyRechargeReturnSdkPmd_C=9]="NotifyRechargeReturnSdkPmd_C",n[n.RechargeQueryRequestIOSSdkPmd_C=10]="RechargeQueryRequestIOSSdkPmd_C",n[n.RequestQueryPlatPointSdkPmd_C=11]="RequestQueryPlatPointSdkPmd_C",n[n.ReturnQueryPlatPointSdkPmd_S=12]="ReturnQueryPlatPointSdkPmd_S",n[n.RequestRedeemPlatPointSdkPmd_C=13]="RequestRedeemPlatPointSdkPmd_C",n[n.ReturnRedeemPlatPointSdkPmd_S=14]="ReturnRedeemPlatPointSdkPmd_S",n[n.ReturnErrorCodeSdkPmd_S=15]="ReturnErrorCodeSdkPmd_S",n[n.RequestBindAccountSdkPmd_CS=16]="RequestBindAccountSdkPmd_CS",n[n.RequestBindPlatInfoSdkPmd_CS=17]="RequestBindPlatInfoSdkPmd_CS",n[n.RequestAccidByPlatinfoSdkPmd_CS=18]="RequestAccidByPlatinfoSdkPmd_CS",n[n.RequestRedeemBackPlatPointSdkPmd_C=19]="RequestRedeemBackPlatPointSdkPmd_C",n[n.ReturnRedeemBackPlatPointSdkPmd_S=20]="ReturnRedeemBackPlatPointSdkPmd_S",n[n.RequestUnbindAccountSdkPmd_CS=21]="RequestUnbindAccountSdkPmd_CS",n[n.NotifyTapJoyRequestSdkPmd_S=22]="NotifyTapJoyRequestSdkPmd_S",n[n.PushMsgRequestSdkPmd_C=23]="PushMsgRequestSdkPmd_C",n[n.PushMsgReturnSdkPmd_S=24]="PushMsgReturnSdkPmd_S",n[n.BindAccountPhoneSdkPmd_CS=25]="BindAccountPhoneSdkPmd_CS",n[n.RequestMobileRegistRandCodeSdkPmd_CS=26]="RequestMobileRegistRandCodeSdkPmd_CS",n[n.RequestWechatMsgSdkPmd_CS=27]="RequestWechatMsgSdkPmd_CS",n[n.SearchUserListSdkPmd_CS=28]="SearchUserListSdkPmd_CS",n[n.NotifyPreLoginInfoSdkPmd_CS=29]="NotifyPreLoginInfoSdkPmd_CS",n[n.RequestQrcodeURLSdkPmd_CS=30]="RequestQrcodeURLSdkPmd_CS",n[n.DiamondConsumSdkPmd_CS=31]="DiamondConsumSdkPmd_CS",n[n.RewardUserSdkPmd_CS=32]="RewardUserSdkPmd_CS",n[n.SendRedPackSdkPmd_CS=43]="SendRedPackSdkPmd_CS",n[n.PlatSignDataSdkPmd_CS=44]="PlatSignDataSdkPmd_CS",n[n.RequestUserInfoSdkPmd_SC=45]="RequestUserInfoSdkPmd_SC",n[n.CheckUserInfoBindSdkPmd_CS=46]="CheckUserInfoBindSdkPmd_CS",n[n.QueryGamezoneListSdkPmd_CS=75]="QueryGamezoneListSdkPmd_CS",n[n.ServerRegisterSdkPmd_CS=76]="ServerRegisterSdkPmd_CS",n[n.ServerHeartBeatSdkPmd_CS=77]="ServerHeartBeatSdkPmd_CS",n[n.BookTransactionSdkPmd_CS=78]="BookTransactionSdkPmd_CS",n[n.BatchTransactionSdkPmd_CS=79]="BatchTransactionSdkPmd_CS",n[n.AndroidConfigSdkPmd_CS=80]="AndroidConfigSdkPmd_CS",n[n.RequestC2CSendRedPackSdkPmd_CS=81]="RequestC2CSendRedPackSdkPmd_CS",n[n.ReturnC2CSendRedPackSdkPmd_CS=82]="ReturnC2CSendRedPackSdkPmd_CS",n[n.RecvC2CRedPackSdkPmd_CS=83]="RecvC2CRedPackSdkPmd_CS",n[n.RefundC2CRedPackSdkPmd_CS=84]="RefundC2CRedPackSdkPmd_CS",n[n.RequestReAuthSdkPmd_C=85]="RequestReAuthSdkPmd_C",n[n.ReturnReAuthSdkPmd_S=86]="ReturnReAuthSdkPmd_S",n[n.PlatRequestPunishSdkPmd_CS=87]="PlatRequestPunishSdkPmd_CS",n[n.RequestUnbundingSdkPmd_CS=88]="RequestUnbundingSdkPmd_CS",n[n.PlatRedeemSdkPmd_CS=33]="PlatRedeemSdkPmd_CS",n[n.PlatQueryBalanceSdkPmd_CS=34]="PlatQueryBalanceSdkPmd_CS",n[n.PlatQueryGamerecordSdkPmd_CS=35]="PlatQueryGamerecordSdkPmd_CS",n[n.GameRecord=36]="GameRecord",n[n.PlatQueryUserListSdkPmd_CS=37]="PlatQueryUserListSdkPmd_CS",n[n.PlatQueryPlatReportSdkPmd_CS=38]="PlatQueryPlatReportSdkPmd_CS",n[n.PlatQueryPlatDailySdkPmd_CS=39]="PlatQueryPlatDailySdkPmd_CS",n[n.PlatUserInfo=40]="PlatUserInfo",n[n.PlatReport=41]="PlatReport",n[n.PlatDailyData=42]="PlatDailyData",n[n.PlatUserDailySdkPmd_CS=50]="PlatUserDailySdkPmd_CS",n[n.PlatUserReportSdkPmd_CS=52]="PlatUserReportSdkPmd_CS",n[n.UserDailyData=51]="UserDailyData",n[n.ForwardCommandSdkPmd_CS=53]="ForwardCommandSdkPmd_CS",n[n.UserBettingDetailSdkPmd_CS=60]="UserBettingDetailSdkPmd_CS",n[n.UserPurchaseRecordSdkPmd_CS=61]="UserPurchaseRecordSdkPmd_CS",n[n.PlatCreateRoleSdkPmd_CS=62]="PlatCreateRoleSdkPmd_CS",n[n.CreatePlatAccountSdkPmd_CS=63]="CreatePlatAccountSdkPmd_CS",n[n.PurchaseData=64]="PurchaseData",n[n.UserBettingData=65]="UserBettingData",n[n.PlatQueryCoinRecordSdkPmd_CS=66]="PlatQueryCoinRecordSdkPmd_CS",n[n.UserCoinRecord=67]="UserCoinRecord",n[n.ChangePlatPasswdSdkPmd_CS=68]="ChangePlatPasswdSdkPmd_CS",n[n.PlatQueryRoundDetailSdkPmd_CS=69]="PlatQueryRoundDetailSdkPmd_CS",n[n.RoundData=70]="RoundData";var r=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.StartUpGameRequestSdkPmd_C"},e}();e.StartUpGameRequestSdkPmd_C=r;var o=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.StartUpGameReturnSdkPmd_S"},e}();e.StartUpGameReturnSdkPmd_S=o;var a=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SdkPlatInfo"},e}();e.SdkPlatInfo=a;var s=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GamePlatList"},e}();e.GamePlatList=s;var l=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SupportGamePlatListSdkPmd_S"},e}();e.SupportGamePlatListSdkPmd_S=l;var c=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatBaseData"},e}();e.PlatBaseData=c;var u=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginPlatRequestSdkPmd_C"},e}();e.UserLoginPlatRequestSdkPmd_C=u;var d=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestReAuthSdkPmd_C"},e}();e.RequestReAuthSdkPmd_C=d;var h=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnReAuthSdkPmd_S"},e}();e.ReturnReAuthSdkPmd_S=h;var p=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUnbundingSdkPmd_CS"},e}();e.RequestUnbundingSdkPmd_CS=p;var g=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatRequestPunishSdkPmd_CS"},e}();e.PlatRequestPunishSdkPmd_CS=g;var f=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserLoginPlatReturnSdkPmd_S"},e}();e.UserLoginPlatReturnSdkPmd_S=f;var m=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CreatePlatOrderRequestSdkPmd_C"},e}();e.CreatePlatOrderRequestSdkPmd_C=m;var _=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CreatePlatOrderReturnSdkPmd_S"},e}();e.CreatePlatOrderReturnSdkPmd_S=_;var y=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.NotifyRechargeRequestSdkPmd_S"},e}();e.NotifyRechargeRequestSdkPmd_S=y;var S=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.NotifyRechargeReturnSdkPmd_C"},e}();e.NotifyRechargeReturnSdkPmd_C=S;var b=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RechargeQueryRequestIOSSdkPmd_C"},e}();e.RechargeQueryRequestIOSSdkPmd_C=b;var P=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestQueryPlatPointSdkPmd_C"},e}();e.RequestQueryPlatPointSdkPmd_C=P;var v=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnQueryPlatPointSdkPmd_S"},e}();e.ReturnQueryPlatPointSdkPmd_S=v;var C=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestRedeemPlatPointSdkPmd_C"},e}();e.RequestRedeemPlatPointSdkPmd_C=C;var T=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnRedeemPlatPointSdkPmd_S"},e}();e.ReturnRedeemPlatPointSdkPmd_S=T;var E=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestRedeemBackPlatPointSdkPmd_C"},e}();e.RequestRedeemBackPlatPointSdkPmd_C=E;var L=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnRedeemBackPlatPointSdkPmd_S"},e}();e.ReturnRedeemBackPlatPointSdkPmd_S=L;var R=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnErrorCodeSdkPmd_S"},e}();e.ReturnErrorCodeSdkPmd_S=R;var U=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestBindAccountSdkPmd_CS"},e}();e.RequestBindAccountSdkPmd_CS=U;var w=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatAccountInfo"},e}();e.PlatAccountInfo=w;var k=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestBindPlatInfoSdkPmd_CS"},e}();e.RequestBindPlatInfoSdkPmd_CS=k;var G=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestAccidByPlatinfoSdkPmd_CS"},e}();e.RequestAccidByPlatinfoSdkPmd_CS=G;var I=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUnbindAccountSdkPmd_CS"},e}();e.RequestUnbindAccountSdkPmd_CS=I;var O=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.NotifyTapJoyRequestSdkPmd_S"},e}();e.NotifyTapJoyRequestSdkPmd_S=O;var N=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PushMsgRequestSdkPmd_C"},e}();e.PushMsgRequestSdkPmd_C=N;var D=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PushMsgReturnSdkPmd_S"},e}();e.PushMsgReturnSdkPmd_S=D;var x=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BindAccountPhoneSdkPmd_CS"},e}();e.BindAccountPhoneSdkPmd_CS=x;var M=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestMobileRegistRandCodeSdkPmd_CS"},e}();e.RequestMobileRegistRandCodeSdkPmd_CS=M;var A=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestWechatMsgSdkPmd_CS"},e}();e.RequestWechatMsgSdkPmd_CS=A;var B=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SdkUserInfo"},e}();e.SdkUserInfo=B;var H=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SearchUserListSdkPmd_CS"},e}();e.SearchUserListSdkPmd_CS=H;var F=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.QueryGamezoneListSdkPmd_CS"},e}();e.QueryGamezoneListSdkPmd_CS=F;var q=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RoomNode"},e}();e.RoomNode=q;var V=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerRegisterSdkPmd_CS"},e}();e.ServerRegisterSdkPmd_CS=V;var Z=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ServerHeartBeatSdkPmd_CS"},e}();e.ServerHeartBeatSdkPmd_CS=Z;var j=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BookData"},e}();e.BookData=j;var W=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BookTransactionSdkPmd_CS"},e}();e.BookTransactionSdkPmd_CS=W;var z=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BatchData"},e}();e.BatchData=z;var Y=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.BatchTransactionSdkPmd_CS"},e}();e.BatchTransactionSdkPmd_CS=Y;var J=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.AndroidData"},e}();e.AndroidData=J;var X=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.AndroidConfigSdkPmd_CS"},e}();e.AndroidConfigSdkPmd_CS=X;var K=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.NotifyPreLoginInfoSdkPmd_CS"},e}();e.NotifyPreLoginInfoSdkPmd_CS=K;var Q=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatCreateRoleSdkPmd_CS"},e}();e.PlatCreateRoleSdkPmd_CS=Q;var $=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CreatePlatAccountSdkPmd_CS"},e}();e.CreatePlatAccountSdkPmd_CS=$;var ee=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ChangePlatPasswdSdkPmd_CS"},e}();e.ChangePlatPasswdSdkPmd_CS=ee;var te=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryCoinRecordSdkPmd_CS"},e}();e.PlatQueryCoinRecordSdkPmd_CS=te;var ne=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserCoinRecord"},e}();e.UserCoinRecord=ne;var ie=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ForwardCommandSdkPmd_CS"},e}();e.ForwardCommandSdkPmd_CS=ie;var re=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestQrcodeURLSdkPmd_CS"},e}();e.RequestQrcodeURLSdkPmd_CS=re;var oe=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.DiamondConsumSdkPmd_CS"},e}();e.DiamondConsumSdkPmd_CS=oe;var ae=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RewardData"},e}();e.RewardData=ae;var se=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RewardUserSdkPmd_CS"},e}();e.RewardUserSdkPmd_CS=se;var le=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatRedeemSdkPmd_CS"},e}();e.PlatRedeemSdkPmd_CS=le;var ce=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryBalanceSdkPmd_CS"},e}();e.PlatQueryBalanceSdkPmd_CS=ce;var ue=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.GameRecord"},e}();e.GameRecord=ue;var de=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryGamerecordSdkPmd_CS"},e}();e.PlatQueryGamerecordSdkPmd_CS=de;var he=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatUserInfo"},e}();e.PlatUserInfo=he;var pe=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryUserListSdkPmd_CS"},e}();e.PlatQueryUserListSdkPmd_CS=pe;var ge=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatReport"},e}();e.PlatReport=ge;var fe=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryPlatReportSdkPmd_CS"},e}();e.PlatQueryPlatReportSdkPmd_CS=fe;var me=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatDailyData"},e}();e.PlatDailyData=me;var _e=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryPlatDailySdkPmd_CS"},e}();e.PlatQueryPlatDailySdkPmd_CS=_e;var ye=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatUserDailySdkPmd_CS"},e}();e.PlatUserDailySdkPmd_CS=ye;var Se=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatUserReportSdkPmd_CS"},e}();e.PlatUserReportSdkPmd_CS=Se;var be=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserDailyData"},e}();e.UserDailyData=be;var Pe=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.SendRedPackSdkPmd_CS"},e}();e.SendRedPackSdkPmd_CS=Pe;var ve=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestC2CSendRedPackSdkPmd_CS"},e}();e.RequestC2CSendRedPackSdkPmd_CS=ve;var Ce=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.ReturnC2CSendRedPackSdkPmd_CS"},e}();e.ReturnC2CSendRedPackSdkPmd_CS=Ce;var Te=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RecvC2CRedPackSdkPmd_CS"},e}();e.RecvC2CRedPackSdkPmd_CS=Te;var Ee=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RefundC2CRedPackSdkPmd_CS"},e}();e.RefundC2CRedPackSdkPmd_CS=Ee;var Le=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatSignDataSdkPmd_CS"},e}();e.PlatSignDataSdkPmd_CS=Le;var Re=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestUserInfoSdkPmd_SC"},e}();e.RequestUserInfoSdkPmd_SC=Re;var Ue=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.CheckUserInfoBindSdkPmd_CS"},e}();e.CheckUserInfoBindSdkPmd_CS=Ue;var we=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserBettingDetailSdkPmd_CS"},e}();e.UserBettingDetailSdkPmd_CS=we;var ke=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserBettingData"},e}();e.UserBettingData=ke;var Ge=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatQueryRoundDetailSdkPmd_CS"},e}();e.PlatQueryRoundDetailSdkPmd_CS=Ge;var Ie=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RoundData"},e}();e.RoundData=Ie;var Oe=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.UserPurchaseRecordSdkPmd_CS"},e}();e.UserPurchaseRecordSdkPmd_CS=Oe;var Ne=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PurchaseData"},e}();e.PurchaseData=Ne}(Pmd||(Pmd={})),function(e){var t=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.HttpPackage"},e}();e.HttpPackage=t;var n=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.HttpPackageReturn"},e}();e.HttpPackageReturn=n;var i=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestZoneList"},e}();e.RequestZoneList=i;var r=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestSelectZone"},e}();e.RequestSelectZone=r;var o=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.RequestSelectZoneReturn"},e}();e.RequestSelectZoneReturn=o;var a=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatTokenLogin"},e}();e.PlatTokenLogin=a;var s=function(){function e(){}return e.prototype.GetType=function(){return"Pmd.PlatTokenLoginReturn"},e}();e.PlatTokenLoginReturn=s}(Pmd||(Pmd={})),function(e){var t=function(){function e(e){this.parse(e)}return e.prototype.parse=function(e){for(var t in e)this[t]=e[t]},e}();e.Reflect=t}(uniLib||(uniLib={})),function(s){var e=function(){this.compressType=0,this.logLevel=7,this.lobbyMode=!1,this.scaleMode="fixedWidth",this.needbackReconnect=!1};s.initOptions=e,s.init=function(e,t,n,i,r){if(void 0===i&&(i="fixedWidth"),void 0===r&&(r=!1),e instanceof Object||"function"==typeof t){if(s.Console.init(e.debug,e.logLevel),(l.initOpt=e).designWidth&&(l.designWidth=e.designWidth),e.designHeight&&(l.designHeight=e.designHeight),e.reloadDefine&&(l.reloadDefine=e.reloadDefine),s.ScreenUtils&&s.ScreenUtils.init(e.scaleMode),s.PayMgr.Instance.isOpen=e.openPay,e.shareData&&(l.shareData=e.shareData),l.lobbyMode=e.lobbyMode,e.nativeStorage&&(l.nativeStorage=e.nativeStorage),e.msgTimeOutSec&&(l.msgTimeOutSec=e.msgTimeOutSec),e.CdnDomains){l.CdnDomains=e.CdnDomains;for(var o=0;o<l.CdnDomains.length;o++)l.CdnDomains[o]=s.StringUtils.validNetUrl(l.CdnDomains[o])}if(e.platId&&(l.platId=e.platId),e.gameRemotePaths&&(s.GameModuleUtils.gameLoadRemote=!0,s.GameModuleUtils.gameRemotePaths=e.gameRemotePaths),e.appId)l.appId=e.appId,1==s.Global.isH5&&(l.reLoginUrl="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+l.appId+"&redirect_uri=http%3a%2f%2fwx.zqgame.com%2faddons%2fzqgame%2fgamelogin.php&response_type=code&scope=snsapi_userinfo&state="+l.appId+"#wechat_redirect");else if(1==s.Global.isH5){var a=s.BrowersUtils.GetRequest("appid");s.StringUtils.stringIsNullOrEmpty(a)||(l.appId=s.BrowersUtils.GetRequest("appid")),l.reLoginUrl="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+l.appId+"&redirect_uri=http%3a%2f%2fwx.zqgame.com%2faddons%2fzqgame%2fgamelogin.php&response_type=code&scope=snsapi_userinfo&state="+l.appId+"#wechat_redirect"}e.reLoginUrl&&(l.reLoginUrl=e.reLoginUrl),e.compressType?s.CompressUtil.init(e.compressType,t,n):t&&t.call(n)}else s.Console.init(e),s.ScreenUtils&&s.ScreenUtils.init(i),s.PayMgr.Instance.isOpen=t,n&&(l.shareData=n),l.lobbyMode=r;s.ResUtils&&s.ResUtils.init(),s.ZQGameSdk&&(s.ZQGameSdk.getCallStatus(l.PhoneCallStatus,l),s.ZQGameSdk.hideVk())},s.cloneObj=function e(t){if("object"==typeof t)for(var n in t)(void 0)[n]="object"==typeof t[n]?e(t[n]):t[n]};var l=function(){function o(){}return o.PhoneCallStatus=function(e){"callDisconnected"==e.data.callState&&egret.Capabilities.supportVersion<"3.2.6"&&setTimeout(function(){s.ZQGameSdk&&s.ZQGameSdk.speakerActive()},4e3)},o.Event=function(e,t,n,i){return void 0===t&&(t=null),void 0===n&&(n=!1),void 0===i&&(i=!1),new s.ZqEvent(e,t)},o.dispatchEvent=function(e,t,n,i){void 0===t&&(t=null),void 0===n&&(n=!1),void 0===i&&(i=!1);var r=new s.ZqEvent(e,t,n,i);s.ZqListener.getInstance().dispatchEvent(r)},o.hasEventListener=function(e){return s.ZqListener.getInstance().hasEventListener(e)},o.addEventListener=function(e,t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=0),s.ZqListener.getInstance().addEventListener(e,t,n,i,r)},o.removeEventListener=function(e,t,n,i){void 0===i&&(i=!1),s.ZqListener.getInstance().removeEventListener(e,t,n,i)},o.Compress=function(e){if(!o.jsonCompress){for(var t=0;t<o.jsonCompress.msglist.length;t++)o.jsonCompress.msglist[t]==e.do&&(e.do=t+1);return e}return e},o.DeCompress=function(e){for(var t=0;t<o.jsonCompress.msglist.length;t++)if(t+1==e.do){e.do=o.jsonCompress.msglist[t];break}return e},o.DeCompressDefult=function(e){for(var t=0;t<o.jsonCompressDefault.msglist.length;t++)if(t+1==e.do){e.do=o.jsonCompressDefault.msglist[t];break}return e},Object.defineProperty(o,"lobbyMode",{get:function(){return this._lobbyMode},set:function(e){this._lobbyMode=e},enumerable:!0,configurable:!0}),o.getZoneInfo=function(e){if(null!=this.zoneList){for(var t=this.zoneList.length,n=0;n<t;n++)if(this.zoneList[n].gameid==e)return this.zoneList[n];return s.Console.error("找不到游戏区信息 gameId:"+e),null}},o.isTestServer=function(){return!s.Global.gameConfig||!s.Global.gameConfig.login_url||(0<=s.Global.gameConfig.login_url.indexOf("14.17.104")||0<=s.Global.gameConfig.login_url.indexOf("server.login.bwgame"))},Object.defineProperty(o,"resVersion",{get:function(){var e="";if(s.Global.isH5){var t=document.querySelector('meta[name="res-version"]');null!=t&&(e=t.getAttribute("content")),null!=e&&""!=e&&(e="_"+e)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(o,"thmVersion",{get:function(){var e="";if(s.Global.isH5){var t=document.querySelector('meta[name="thm-version"]');null!=t&&(e=t.getAttribute("content")),null!=e&&""!=e&&(e="_"+e)}return e},enumerable:!0,configurable:!0}),o.initPlatInfo=function(e,t,n){return null==o.platInfo&&(o.platInfo=new Pmd.PlatInfo,e&&null!=e?(o.platInfo=e,o.gameConfig&&o.gameConfig.wx_appid&&(263==o.platInfo.platid||311==o.platInfo.platid?o.gameConfig.pt_appid?o.platInfo.platappid=o.gameConfig.pt_appid:console.error("pt_appid not found"):o.gameConfig.wx_appid&&1!=o.platInfo.platid&&1e4!=o.platInfo.platid?o.platInfo.platappid=o.gameConfig.wx_appid:console.error("wx_appid not found"))):o.isH5&&s.Utils.getLocalStorage("platStr",function(e){var t,n=e;for(var i in t=s.StringUtils.stringIsNullOrEmpty(n)?s.BrowersUtils.GetRequests():s.BrowersUtils.GetRequests(n))"debug"!=i&&(o.platInfo[i]="extData"==i?decodeURIComponent(t[i]):t[i]),"code"==i&&(o.platInfo.sign=t[i]),"appid"==i&&(o.platInfo.platappid=t[i]);var r=Number(o.platInfo.platid);r&&0!=r?o.platInfo.platid=r:o.platInfo.platappid&&!s.StringUtils.stringIsNullOrEmpty(o.platInfo.platappid)?o.platInfo.platid=68:o.platInfo.platid=r})),s.Global.isH5?o.defaultConfig&&s.PayMgr.Instance.initPayPlatById(Number(o.defaultConfig.pay_platid),t,n):null!=t&&(n?t.call(n,o.platInfo.platid):t(o.platInfo.platid)),o.platInfo},o.isWxGame=function(){if(egret.hasDefinition("wx")&&wx.env&&wx.env.USER_DATA_PATH){var e=wx.env.USER_DATA_PATH;if(e&&(0<=e.indexOf("wxfile://")||0<=e.indexOf("http://")))return!0}return!1},o.setPlatInfo=function(e,t,n){s.Utils.setLocalStorage(n+"|"+(t||0)+"|platToken",e)},o.setPlatToken=function(e,t,n){o.platId=t,o.gameId=n,o.lobbyGameId=n,e&&e.platinfo?e.platinfo.account?s.NetMgr.PlatUID=e.platinfo.account:s.NetMgr.PlatUID=e.platinfo.uid:s.NetMgr.PlatUID=s.NetMgr.UID+"",console.log("cache_platinfo:"+JSON.stringify(e)),s.Utils.setLocalStorage(n+"|"+(t||0)+"|platToken",encodeURIComponent(JSON.stringify(e)))},o.getPlatToken=function(n,i){var e=o.getPlatId();return s.Utils.getLocalStorage(o.lobbyGameId+"|"+(e||0)+"|platToken",function(e){var t;if(console.log("get_platinfo:"+e),e&&1==o.isCacheToken){try{e=decodeURIComponent(e)}catch(e){console.error("decode_error")}t=JSON.parse(e),s.NetMgr.UID=Number(t.uid),t.platinfo?t.platinfo.account?s.NetMgr.PlatUID=t.platinfo.account:s.NetMgr.PlatUID=t.platinfo.uid:s.NetMgr.PlatUID=t.uid,s.BrowersUtils.extData.inviter=s.NetMgr.UID.toString(),s.NetMgr.SID=t.sid,s.NetMgr.PlatToken=t.unigame_plat_login,s.NetMgr.PlatKey=t.unigame_plat_key,s.NetMgr.platTokenTimeOut=t.unigame_plat_login_life,null!=t.platinfo&&null!=o.platInfo&&(o.platInfo.platid=t.platinfo.platid,t.platinfo&&(t.platinfo.account?s.NetMgr.PlatUID=t.platinfo.account:s.NetMgr.PlatUID=t.platinfo.uid),s.NetMgr.PlatSession=t.platinfo.sign),t.GatewayUrl&&s.NetMgr.http&&(s.NetMgr.http.GatewayUrl=t.GatewayUrl)}n&&n.call(i,t)})},o.openAgent=function(e,t){var n,i=this.getPlatToken(),r=s.Global.platId,o=s.Global.lobbyGameId;n=0<=e.indexOf("?")?e+"&code="+s.CompressUtil.base64encode(i)+"&platid="+r+"&gameid="+o:e+"?code="+s.CompressUtil.base64encode(i)+"&platid="+r+"&gameid="+o,console.error("agentUrl:"+n),s.ZQGameSdk&&s.ZQGameSdk.openWeb(n,t)},o.getPlatId=function(){var n=0;return 0!=this.platId?this.platId:(o.isH5?null==o.platInfo?s.Utils.getLocalStorage("platStr",function(e){var t=e;n=s.StringUtils.stringIsNullOrEmpty(t)?s.BrowersUtils.GetRequest("platid")?parseInt(s.BrowersUtils.GetRequest("platid")):Pmd.PlatType.PlatType_Normal:Number(s.BrowersUtils.GetRequest("platid",t))}):o.platInfo.platid&&(n=o.platInfo.platid):n=o.platInfo&&o.platInfo.platid?o.platInfo.platid:Pmd.PlatType.PlatType_Normal,n)},o.isActive=!0,o.debugLevel=0,o.version=161128235600,o.appVersion="1.0.0",o.compressType=0,o.compressMin=0,o.msgTimeOutSec=0,o.designWidth=1280,o.designHeight=720,o.isRestarting=!1,o.PLAT_TOKEN_KEY="plat_token_key",o.gameId=0,o.lobbyGameId=0,o.is_sandbox=0,o.appId="wx0e52b1eba8f9fb14",o.thirdPlatDir="thirdPlatDir/",o._lobbyMode=!1,o.isInGame=!1,o.reLoginUrl="",o.CdnDomains=["http://h5.publish.gamelaoyou.com/","http://h5.publish.bwgame.com.cn/"],o.payPlatId=0,o.bundleId="",o.zipmd5="",o.configmd5="",o.isCacheToken=!0,o.logUrl="http://server.login.bwgame.com.cn:8020/logger/clientlog",o.ipUrl="http://ipserv.gamelaoyou.com:5999/http/remoteip/json",o.gmlevel=0,o.token="",o.platId=0,o.zoneId=0,o}();s.Global=l}(uniLib||(uniLib={})),void 0===global)var global=window;if(void 0===__global)var __global=global;var testh5=function(){return egret.Capabilities.runtimeType!=egret.RuntimeType.NATIVE};uniLib.Global.isH5=testh5();var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(e){var t=function(r){function e(e,t,n){void 0===n&&(n=!0);var i=r.call(this)||this;return i._target=e,i._time=t,n&&i.start(),i}return __extends(e,r),e.prototype.start=function(){this._currTime=egret.getTimer(),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this)},e.prototype.runDown=function(e){this._target.alpha-=.045,this.checkOver()||this._target.alpha<=.6&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runUp,this))},e.prototype.runUp=function(e){this._target.alpha+=.045,this.checkOver()||1<=this._target.alpha&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this))},e.prototype.checkOver=function(){return egret.getTimer()-this._currTime>=this._time&&(this.destroy(),!0)},e.prototype.destroy=function(){this._target.alpha=1,this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,this._target),this._target=null},e}(egret.EventDispatcher);e.BitmapBlink=t}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;uniLib||(uniLib={}),function(l){function e(e,t,n,i,r,o,a){void 0===n&&(n=null),void 0===i&&(i=""),void 0===r&&(r=30),void 0===o&&(o=1),void 0===a&&(a="assets");var s=l.call(this)||this;return s.assets=RES.getRes("assets"),s.isPlayCartoon=!1,s.cartoonType=1,s.param={context:null,data:null},s.param.context=e,s.init(t,n,i,r,o,a),s}__extends(e,l),e.prototype.init=function(e,t,n,i,r,o){void 0===t&&(t=null),void 0===n&&(n=""),void 0===i&&(i=30),void 0===r&&(r=1),void 0===o&&(o="assets"),this.cartoonType=r,this.backFun=t,this.btnImg=new egret.Bitmap,"assets"!=o&&(this.assets=RES.getRes(o)),this.btnImg.texture=this.assets.getTexture(e),this.addChild(this.btnImg),""!=n&&(this.textField=new egret.TextField,this.addChild(this.textField),this.textField.size=i,this.textField.textAlign="center",this.textField.stroke=1,this.textField.strokeColor=0,this.textField.text=n,this.textField.width=this.btnImg.width,this.textField.x=this.btnImg.width/2-this.textField.width/2,this.textField.y=this.btnImg.height/2-this.textField.height/2),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuttonTouchTap,this)},e.prototype.onbuttonTouchTap=function(e){if(!this.isPlayCartoon){this.isPlayCartoon=!0;var t=function(){this.isPlayCartoon=!1};egret.Tween.get(this).to({scaleX:.5,scaleY:.5,x:this.x+this.btnImg.width/4,y:this.y+this.btnImg.height/4},100,egret.Ease.sineIn).call(function(){1==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.elasticOut).call(t,this):2==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.backOut).call(t,this):3==this.cartoonType&&egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},100).call(t,this)},this),egret.setTimeout(function(){null!=this.backFun&&this.backFun.apply(this.param.context,[this.param.data])},this,300)}},e.prototype.setBindData=function(e){this.param.data=e},e.prototype.getBindData=function(){return this.param.data},e.prototype.getBitmap=function(){return this.btnImg}}(egret.DisplayObjectContainer);var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(d){var e=function(h){function e(e,t,n,i,r,o,a,s,l,c,u){void 0===a&&(a=30),void 0===s&&(s=0),void 0===l&&(l=null),void 0===c&&(c=null),void 0===u&&(u=null);var d=h.call(this)||this;return d.isSelected=!1,d.liveSelected=!1,d.touchEnabled=!0,d.touchChildren=!1,d.init(e,t,n,i,r,o,a,s,l,c,u),d}return __extends(e,h),e.prototype.init=function(e,t,n,i,r,o,a,s,l,c,u){void 0===a&&(a=30),void 0===s&&(s=0),void 0===l&&(l=null),void 0===c&&(c=null),void 0===u&&(u=null),this._nomal_bg="string"==typeof e?d.DisplayUtils.createBitmapByName(e):e,l&&(this._nomal_bg.scale9Grid=l),i&&(this._nomal_bg.width=i),r&&(this._nomal_bg.height=r),this.addChild(this._nomal_bg),t&&(this._selected_bg=d.DisplayUtils.createBitmapByName(t),c&&(this._selected_bg.scale9Grid=c),i&&(this._selected_bg.width=i),r&&(this._selected_bg.height=r),this.addChild(this._selected_bg),this._selected_bg.visible=!1),n&&(this._disable_bg=d.DisplayUtils.createBitmapByName(n),u&&(this._disable_bg.scale9Grid=u),i&&(this._disable_bg.width=i),r&&(this._disable_bg.height=r),this.addChild(this._disable_bg),this._disable_bg.visible=!1),o&&(this._lableNomalColor=s,this._lable=d.DisplayUtils.createTextLabel(s,"center",o,a),this._lable.x=this.width-this._lable.width>>1,this._lable.y=this.height-this._lable.height>>1,this.addChild(this._lable)),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this)},Object.defineProperty(e.prototype,"fontFamily",{set:function(e){this._lable.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSelectedColor",{set:function(e){this._lableSelectedColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"select",{get:function(){return this.isSelected},set:function(e){1==e?this.selected():this.unselected()},enumerable:!0,configurable:!0}),e.prototype.selected=function(){this.isSelected=!0,this._selected_bg&&(this._selected_bg.visible=!0,this._nomal_bg.visible=!1),this._lableSelectedColor&&(this._lable.textColor=this._lableSelectedColor)},Object.defineProperty(e.prototype,"text",{set:function(e){null==this._lable&&(this._lableNomalColor=0,this._lable=d.DisplayUtils.createTextLabel(this._lableNomalColor,"center",e,30),this._lable.x=this.width-this._lable.width>>1,this._lable.y=this.height-this._lable.height>>1,this.addChild(this._lable)),this._lable.text=e},enumerable:!0,configurable:!0}),e.prototype.unselected=function(){this.isSelected=!1,this.liveSelected=!1,this._selected_bg&&(this._selected_bg.visible=!1,this._nomal_bg.visible=!0),this._lableSelectedColor&&(this._lable.textColor=this._lableNomalColor)},e.prototype.onbuttonBegin=function(e){0==this.isSelected&&this.selected()},e.prototype.onbuttonEnd=function(e){0==this.liveSelected&&this.unselected()},Object.defineProperty(e.prototype,"disable",{get:function(){return this._disable},set:function(e){this._disable=e,this._disable_bg&&(this._disable_bg.visible=e,1==this._disable?(this.touchEnabled=!1,this._nomal_bg.visible=!1,this._selected_bg.visible=!1):(this.touchEnabled=!0,this._nomal_bg.visible=!0))},enumerable:!0,configurable:!0}),e.prototype.setBottomLabel=function(e,t,n,i,r,o){var a=new egret.TextField;-1!=r&&(a.width=r),a.fontFamily="微软雅黑",a.textColor=t,a.textAlign=egret.HorizontalAlign.CENTER,a.text=e,a.size=n,a.x=i,a.y=this._nomal_bg.y+this._nomal_bg.height+o,this.addChild(a)},Object.defineProperty(e.prototype,"toggle",{set:function(e){e?(this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this)):(this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this)},e}(egret.DisplayObjectContainer);d.CommonButton=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(s){var e=function(a){function e(e){var t=a.call(this)||this;t._isShow=!0,t.isInStage=!1,t._rect=e,t.ChatHeight=0,t.message=[],t.downPoint=new egret.Point,t.isFriend=t.isMove=!1,t.ChatHeight=t._rect.height,t._touchBg=new egret.Sprite,t._touchBg.graphics.clear(),t._touchBg.graphics.beginFill(0,.7),t._touchBg.graphics.drawRect(0,0,t._rect.width,t._rect.height),t._touchBg.graphics.endFill(),t._touchBg.width=t._rect.width,t._touchBg.height=t._rect.height,t._touchBg.touchEnabled=!1,t.addChild(t._touchBg);var n=(s.Global.screenWidth-10)/3,i=s.DisplayUtils.createShape(1,n,30,16777215);i.cacheAsBitmap=!0,t.close_btn=new s.CommonButton(i),t.close_btn.text="关闭",t.close_btn.y=s.Global.screenHeight-30,t.addChild(t.close_btn);var r=s.DisplayUtils.createShape(1,n,30,16777215);r.cacheAsBitmap=!0,t.clear_btn=new s.CommonButton(r),t.clear_btn.x=s.Global.screenWidth/3,t.clear_btn.text="清空",t.clear_btn.y=s.Global.screenHeight-30,t.addChild(t.clear_btn);var o=s.DisplayUtils.createShape(1,n,30,16777215);return o.cacheAsBitmap=!0,t.ignore_btn=new s.CommonButton(o),t.ignore_btn.x=s.Global.screenWidth/3*2,t.ignore_btn.text="不再提示",t.ignore_btn.y=s.Global.screenHeight-30,t.addChild(t.ignore_btn),t.add(),t}return __extends(e,a),Object.defineProperty(e,"Instance",{get:function(){return null==this._self&&(this._self=new e(new egret.Rectangle(0,0,s.Global.screenWidth,s.Global.screenHeight))),this._self},enumerable:!0,configurable:!0}),e.prototype.resize=function(){this._rect=new egret.Rectangle(0,0,s.Global.screenWidth,s.Global.screenHeight),this.ChatHeight=this._rect.height,this._touchBg.graphics.clear(),this._touchBg.graphics.beginFill(0,.7),this._touchBg.graphics.drawRect(0,0,this._rect.width,this._rect.height),this._touchBg.graphics.endFill(),this._touchBg.width=this._rect.width,this._touchBg.height=this._rect.height,this._touchBg.touchEnabled=!1;s.Global.screenWidth;this.close_btn.text="关闭",this.close_btn.y=s.Global.screenHeight-30,this.addChild(this.close_btn),this.clear_btn.x=s.Global.screenWidth/3,this.clear_btn.text="清空",this.clear_btn.y=s.Global.screenHeight-30,this.addChild(this.clear_btn),this.ignore_btn.x=s.Global.screenWidth/3*2,this.ignore_btn.text="不再提示",this.ignore_btn.y=s.Global.screenHeight-30,this.addChild(this.ignore_btn)},e.prototype.add=function(){this.close_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClose,this),this.ignore_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHideNever,this),this.clear_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClear,this),this.x=this._rect.x,this.y=this._rect.y,this.messageSprite=new egret.Sprite,this.messageSprite.touchChildren=!1,this.messageSprite.touchEnabled=!1,this.addChild(this.messageSprite),this.messageSprite.mask=this._rect},e.prototype.onTouchClose=function(e){this.hide()},e.prototype.onTouchHideNever=function(e){this.hide(),this._isShow=!1},e.prototype.onTouchClear=function(e){this.clear(),this.add(),this.hide()},e.prototype.check=function(){1==this._isShow&&this.isInStage&&this.message&&0<this.message.length&&this.show()},e.prototype.clear=function(){this.message=[],this.removeChild(this.messageSprite),this.close_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClose,this),this.ignore_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHideNever,this),this.clear_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClear,this)},e.prototype.show=function(){this.message&&0<this.message.length&&(egret.MainContext.instance.stage.addChildAt(this,egret.MainContext.instance.stage.numChildren),this.isInStage=!0)},e.prototype.hide=function(){s.DisplayUtils.removeFromParent(this),this.isInStage=!1},e.prototype.addLog=function(e){if(0!=s.Global.debugLevel&&0!=this._isShow){var t=new egret.TextField;t.multiline=!0,t.width=s.Global.screenWidth,t.y=this.messageSprite.height,t.textColor=16711680,t.text=e,this.messageSprite.addChild(t),this.message.push(t),this.messageSprite.height>this.ChatHeight-20&&!this.isMove&&(this.messageSprite.y=-(this.messageSprite.height-this.ChatHeight)-40,this.messageSprite.mask.y=this.messageSprite.height-this.ChatHeight+45),this._isShow&&this.show()}},e.prototype.addTxt=function(e,t,n){e.addChild(t),t.x=5,t.y=(t.height+8)*n},e.prototype.onMessageSpriteDown=function(e){this.isMove=!0,this.downPoint=new egret.Point(e.stageX,e.stageY)},e.prototype.onTouchMove=function(e){var t=e.stageY-this.downPoint.y;(e.stageY>this.downPoint.y||e.stageY<this.downPoint.y)&&(this.messageSprite.y+=t,this.messageSprite.mask.y-=t),this.downPoint=new egret.Point(e.stageX,e.stageY)},e.prototype.onChatTouchUp=function(e){15<=this.messageSprite.y||this.messageSprite.height<this.ChatHeight?(egret.Tween.get(this.messageSprite).to({y:0},100),egret.Tween.get(this.messageSprite.mask).to({y:0},100)):(this.messageSprite.y<-(this.messageSprite.height-this.ChatHeight-20)&&(egret.Tween.get(this.messageSprite).to({y:-(this.messageSprite.height-this.ChatHeight)-40},100),egret.Tween.get(this.messageSprite.mask).to({y:this.messageSprite.height-this.ChatHeight+45},100)),this.isMove=!1)},e._self=null,e}(egret.Sprite);s.DebugView=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(t){var e=function(i){function e(e,t){var n=i.call(this)||this;return n.guideHand=e,n.circle=t,n.addListener(),n}return __extends(e,i),e.prototype.initStatus=function(e){this.createBaseScene(),1==e?this.createBetScene():this.createSlipScene()},e.prototype.onShowSlipGuide=function(){this.disposeScene(),this.createSlipScene()},e.prototype.onShowBetGuide=function(){this.disposeScene(),this.createBetScene()},e.prototype.createBaseScene=function(){this.cirPanel||(this.cirPanel=new egret.Sprite,this.addChild(this.cirPanel)),this.handPanel||(this.handPanel=new egret.Sprite,this.addChild(this.handPanel))},e.prototype.createBetScene=function(){this.tips||(this.tips=this.createTextField("点击这里下注",35,108,58623,30),this.handPanel.addChild(this.tips)),this.betGuideEffect()},e.prototype.createSlipScene=function(){0!=t.UserInfo.slipStatus?1==t.UserInfo.slipStatus?this.leftSlipGuideEffect():2==t.UserInfo.slipStatus&&this.rightSlipGuideEffect():this.dispose()},e.prototype.addListener=function(){t.ZqListener.getInstance().addEventListener(t.ZqEvent.HIDE_SLIP_GAME_GUIDE,this.onHideSlipHandler,this)},e.prototype.removeListener=function(){t.ZqListener.getInstance().removeEventListener(t.ZqEvent.HIDE_SLIP_GAME_GUIDE,this.onHideSlipHandler,this)},e.prototype.onHideSlipHandler=function(){this.disposeScene(),this.createSlipScene()},e.prototype.createGuideHand=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=.8),this.guideHand&&(this.guideHand.scaleX=i,this.guideHand.scaleY=i,this.guideHand.x=e,this.guideHand.y=t,this.guideHand.rotation=n,this.handPanel.addChild(this.guideHand))},e.prototype.addCircleEffect=function(e,t){this.circle&&(this.circle.alpha=1,this.circle.scaleX=.2,this.circle.scaleY=.2,this.circle.x=e,this.circle.y=t,this.cirPanel.addChild(this.circle))},e.prototype.betGuideEffect=function(){this.createGuideHand(80,155),this.addCircleEffect(92,258),egret.Tween.get(this.guideHand,{loop:!0}).wait(200).to({y:125},400,egret.Ease.sineIn).wait(500).to({y:155},300,egret.Ease.sineIn),egret.Tween.get(this.circle,{loop:!0}).to({scaleX:1,scaleY:1,x:45,y:222,alpha:0},1400,egret.Ease.sineIn)},e.prototype.leftSlipGuideEffect=function(){this.tips||(this.tips=this.createTextField("向右滑动屏幕",35,880,58623,30),this.handPanel.addChild(this.tips)),this.createGuideHand(100,870,180,1),this.addCircleEffect(55,710),egret.Tween.get(this.guideHand,{loop:!0}).wait(200).to({x:270},1200,egret.Ease.sineIn).wait(300).to({x:100},100,egret.Ease.sineIn),egret.Tween.get(this.circle,{loop:!0}).wait(200).to({scaleX:1,scaleY:1,x:225,y:650,alpha:0},1400,egret.Ease.sineIn).wait(200)},e.prototype.rightSlipGuideEffect=function(){this.tips||(this.tips=this.createTextField("向左滑动屏幕",350,880,58623,30),this.handPanel.addChild(this.tips)),this.createGuideHand(550,870,180,1),this.addCircleEffect(500,710),egret.Tween.get(this.guideHand,{loop:!0}).wait(200).to({x:380},1200,egret.Ease.sineIn).wait(300).to({x:550},100,egret.Ease.sineIn),egret.Tween.get(this.circle,{loop:!0}).wait(200).to({scaleX:1,scaleY:1,x:240,y:650,alpha:0},1400,egret.Ease.sineIn).wait(200)},e.prototype.createTextField=function(e,t,n,i,r){var o=new egret.TextField;return o.x=t,o.y=n,o.fontFamily="微软雅黑",o.textColor=i,o.text=e,o.size=r,o.lineSpacing=2,o},e.prototype.disposeScene=function(){this.guideHand&&egret.Tween.removeTweens(this.guideHand),this.circle&&egret.Tween.removeTweens(this.circle),this.tips&&t.DisplayUtils.removeFromParent(this.tips),this.tips=null,this.handPanel&&t.DisplayUtils.removeAllChildren(this.handPanel),this.cirPanel&&t.DisplayUtils.removeAllChildren(this.cirPanel)},e.prototype.dispose=function(){this.removeListener(),this.disposeScene(),this.handPanel&&(t.DisplayUtils.removeAllChildren(this.handPanel),t.DisplayUtils.removeFromParent(this.handPanel)),this.handPanel=null,this.cirPanel&&(t.DisplayUtils.removeAllChildren(this.cirPanel),t.DisplayUtils.removeFromParent(this.cirPanel)),this.cirPanel=null,this.circle=null,this.guideHand=null},e}(egret.Sprite);t.GameGuide=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(t){var e=function(c){function u(e,t,n,i,r,o,a,s){void 0===t&&(t="温馨提示"),void 0===n&&(n="确定");var l=c.call(this)||this;return l.skinName=u.exml,l.title=t,r||o?(o&&(l._cacelCall=o),r&&(l.cacelButton.label=r),l.cacelButton.visible=!0):(l.cacelButton.visible=!1,l.okButton.horizontalCenter=0),i&&(l._okCall=i),a&&(l._callObj=a),l.okButton.label=n,-1!=e.indexOf("<font color=")?l.contentText.textFlow=(new egret.HtmlTextParser).parser(e):l.contentText.text=e,l.addEventListener(egret.TouchEvent.TOUCH_TAP,l.onTouch,l),l}return __extends(u,c),u.setDefaultSkin=function(e){u.exml=e},u.prototype.onTouch=function(e){switch(e.target){case this.okButton:t.PopUpMgr.removePopUp(this),this._okCall&&this._okCall.call(this._callObj);break;case this.cacelButton:t.PopUpMgr.removePopUp(this),this._cacelCall&&this._cacelCall.call(this._callObj)}},u.prototype.cacel=function(){this._cacelCall&&this._cacelCall.call(this._callObj)},u.exml='<e:Skin class="Test" width="400" height="300" xmlns:e="http://ns.egret.com/eui">\n    <e:Rect left="0" right="0" top="0" bottom="0" fillColor="0xffffff" />\n    <e:Group id="moveArea" top="0" right="0" left="0" height="45">\n        <e:Image width="100%" height="100%"></e:Image>\n        <e:Label id="titleDisplay" textColor="0x000000" horizontalCenter="0" verticalCenter="0" size="20"></e:Label>\n    </e:Group>\n    <e:Button id="okButton" label="确定" bottom="9" horizontalCenter="0" width="106" height="49"></e:Button>\n    <e:Button id="cacelButton" label="取消" bottom="9" horizontalCenter="0" width="106" height="49"></e:Button>\n    <e:Label id="contentText" textColor="0x000000" text="标签" y="65" width="357" textAlign="center" height="165"\n             horizontalCenter="0" />\n</e:Skin>',u}(eui.Panel);t.MsgBox=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib,uniLib,uniLib;!function(e){var t=function(n){function i(e){var t=n.call(this)||this;return t.skinName=e||i.exmls,t}return __extends(i,n),i.prototype.childrenCreated=function(){n.prototype.childrenCreated.call(this),this.str_lb&&(this.str_lb.text=this._label),this._color&&(this.str_lb.textColor=this._color)},Object.defineProperty(i.prototype,"label",{set:function(e){this._label=e,this.str_lb&&(this.str_lb.text=this._label)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textColor",{set:function(e){this._color=e,this._color&&(this.str_lb.textColor=this._color)},enumerable:!0,configurable:!0}),i.exmls='<e:Skin class="tipstest" xmlns:e="http://ns.egret.com/eui" xmlns:w="http://ns.egret.com/wing">\n\t<e:Label id="str_lb" text="Label" horizontalCenter="4" size="22" verticalCenter="0"/>\n</e:Skin>',i}(eui.Component);e.MsgTips=t}(uniLib||(uniLib={})),function(e){var t=function(){function e(e,t,n){void 0===t&&(t=5),void 0===n&&(n=10),this._prexKey="",this._minCount=0,this._maxCount=0,this.m_FishFactory={},this._prexKey=e,this._minCount=t,this._maxCount=n}return e.prototype.free=function(e){var t=this.createArray(this.key(!1)),n=t.indexOf(e);if(-1!=n){t.splice(n,1);var i=this.createArray(this.key(!0));i.push(e);for(var r=i.length>this._maxCount?i.length-this._minCount:0,o=0;o<r;)i.shift(),null,o++}},e.prototype.setCount=function(e,t){void 0===t&&(t=0),this._minCount=e,this._maxCount=t},e.prototype.active=function(e){var t,n=this.createArray(this.key(!0));return t=0==n.length?new e:n.shift(),this.createArray(this.key(!1)).push(t),t},e.prototype.isNew=function(){return 0==this.createArray(this.key(!0)).length},e.prototype.empty=function(){null!=this.m_FishFactory[this.key(!0)]&&(this.m_FishFactory[this.key(!0)]=null,delete this.m_FishFactory[this.key(!0)])},e.prototype.createArray=function(e){var t=this.m_FishFactory[e];return null==t&&(t=new Array,this.m_FishFactory[e]=t),t},e.prototype.key=function(e){return this._prexKey+"&"+(e?"free":"atv")},e.prototype.getKey=function(){return this._prexKey},e}();e.ObjectFactory=t}(uniLib||(uniLib={})),function(r){var e=function(){function e(e,t,n){void 0===t&&(t=5),void 0===n&&(n=10),this._mainKey="",this._min=0,this._max=0,this.vector=new Array,this.subKey=new Array,this._clazz=e,this._mainKey=this._clazz,this._min=t,this._max=n}return e.prototype.free=function(e,t){this.getFactory(t).free(e)},e.prototype.active=function(e){return this.getFactory(e).active(this._clazz)},e.prototype.isNew=function(e){return this.getFactory(e).isNew()},e.prototype.setCount=function(e,t,n){void 0===n&&(n=0),this.getFactory(e).setCount(t,n)},e.prototype.empty=function(e){this.getFactory(e).empty()},e.prototype.setAllCount=function(e,t){void 0===t&&(t=0);for(var n=this.vector.length,i=0;i<n;i++)this.vector[i].setCount(e,t)},e.prototype.getFactory=function(e){for(var t,n=this.vector.length,i=0;i<n;i++)if((t=this.vector[i]).getKey()==this.key(e))return t;return t=new r.ObjectFactory(this.key(e),this._min,this._max),this.vector.push(t),t},e.prototype.key=function(e){return this._mainKey+"_"+e},e.prototype.createFactory=function(e,t,n){return void 0===n&&(n=0),new r.ObjectFactory(this.key(e),t,n)},e}();r.ObjectFactoryGroup=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib,uniLib;!function(i){var e=function(n){function e(e){var t=n.call(this)||this;return t.pages=[],t.selectIndex=-1,t.pageWidth=640,t.touchEnabled=!1,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onTouchBegin,t),t.addEventListener(egret.TouchEvent.TOUCH_MOVE,t.onTouchMove,t),t.addEventListener(egret.TouchEvent.TOUCH_END,t.onTouchEnd,t),t.mask=e,t.mask&&(t.pageWidth=t.mask.width),t.btnGroup=new i.StatusBtnGroup,t.btnGroup.x=300,t.btnGroup.y=e.height-20,t.addChild(t.btnGroup),t}return __extends(e,n),e.prototype.addPage=function(e){this.pages.push(e),this.childNum=this.pages.length,this.btnGroup.setChildNum(this.childNum),this.btnGroup.x=this.pageWidth/2-this.btnGroup.width/2,1<this.childNum?this.touchEnabled=!0:this.touchEnabled=!1},e.prototype.reset=function(){for(var e=0;e<this.childNum;e++)this.removePage(this.pages[e]);this.removePage(this.currentPage),this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,this.currentPage=null,this.pages.length=0,this.childNum=this.pages.length,this.btnGroup.setChildNum(0)},e.prototype.onTouchBegin=function(e){this.touchEnabled&&(this.startTouchX=e.stageX,this.currentPageX=this.currentPage.x)},e.prototype.onTouchMove=function(e){if(this.touchEnabled){var t=e.stageX-this.startTouchX;10<Math.abs(t)&&(this.touchChildren=!1,e.stopPropagation(),e.stopImmediatePropagation()),this.currentPage&&(this.currentPage.x=this.currentPageX+t,0<this.currentPage.x?(this.leftPage||0<this.selectIndex&&(this.leftPage=this.pages[this.selectIndex-1]),this.leftPage&&(this.leftPage.parent||this.addChild(this.leftPage),this.leftPage.x=this.currentPage.x-this.pageWidth)):this.currentPage.x<0&&(this.rightPage||this.selectIndex<this.childNum-1&&(this.rightPage=this.pages[this.selectIndex+1]),this.rightPage&&(this.rightPage.parent||this.addChild(this.rightPage),this.rightPage.x=this.currentPage.x+this.pageWidth)))}},e.prototype.onTouchEnd=function(e){if(this.touchEnabled){this.touchChildren=!0;var t=e.stageX-this.startTouchX;20<Math.abs(t)?(e.stopPropagation(),e.stopImmediatePropagation(),20<t?this.leftPage?(egret.Tween.get(this.currentPage).to({x:this.pageWidth},100),egret.Tween.get(this.leftPage).to({x:0},100).call(this.showLeftPageEnd,this)):(this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,egret.Tween.get(this.currentPage).to({x:0},100)):this.rightPage?(egret.Tween.get(this.currentPage).to({x:-this.pageWidth},100),egret.Tween.get(this.rightPage).to({x:0},100).call(this.showRightPageEnd,this)):(this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,egret.Tween.get(this.currentPage).to({x:0},100))):(this.leftPage&&egret.Tween.get(this.leftPage).to({x:-this.pageWidth},100),this.rightPage&&egret.Tween.get(this.rightPage).to({x:this.pageWidth},100),egret.Tween.get(this.currentPage).to({x:0},100).call(this.showCurrentPageEnd,this))}},e.prototype.showCurrentPageEnd=function(){this.leftPage=null,this.rightPage=null},e.prototype.showLeftPageEnd=function(){this.removePage(this.currentPage),this.removePage(this.rightPage),this.currentPage=this.leftPage,this.selectIndex=this.selectIndex-1,this.leftPage=null,this.rightPage=null,this.updateBtnGroupSelected()},e.prototype.showRightPageEnd=function(){this.removePage(this.currentPage),this.removePage(this.leftPage),this.currentPage=this.rightPage,this.selectIndex=this.selectIndex+1,this.leftPage=null,this.rightPage=null,this.updateBtnGroupSelected()},e.prototype.setSelectIndex=function(e){this.selectIndex=e,this.removePage(this.currentPage),this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,this.currentPage=this.pages[this.selectIndex],this.currentPage.x=0,this.addChild(this.currentPage),this.updateBtnGroupSelected()},e.prototype.getSelectIndex=function(){return this.selectIndex},e.prototype.updateBtnGroupSelected=function(){this.btnGroup.setSelectIndex(this.selectIndex)},e.prototype.setChildNum=function(e){this.childNum!=e&&(this.childNum=e)},e.prototype.getChildNum=function(){return this.childNum},e.prototype.removePage=function(e){e&&this.contains(e)&&this.removeChild(e)},e}(egret.Sprite);i.PageGroup=e}(uniLib||(uniLib={})),function(t){var e=function(){function e(e,t,n,i){this.curDir="center",this.left=t,this.right=n,this.center=e,this.stage=i,this.addListener()}return e.prototype.addListener=function(){this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},e.prototype.removeListener=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},e.prototype.initStatus=function(){"center"!=this.curDir&&("left"==this.curDir?(this.disposeLeftBar(),this.onTrunCenter()):"right"==this.curDir&&(this.disposeRightBar(),this.onTrunCenter()))},e.prototype.showLeftBar=function(){"left"!=this.curDir&&this.onTrunRight()},e.prototype.onTouchBegin=function(e){this.center.touchEnabled&&(this.startTouchPoint=new egret.Point(e.stageX,e.stageY))},e.prototype.onTouchMove=function(e){var t=e.stageX-this.startTouchPoint.x,n=e.stageY-this.startTouchPoint.y;20<=Math.abs(t)&&Math.abs(t)>=Math.abs(n)&&(this.canShowBar=!0,this.center.touchChildren=!1)},e.prototype.onTouchEnd=function(e){if(this.canShowBar&&(this.canShowBar=!1,this.center.touchEnabled)){this.center.touchChildren=!0;var t=e.stageX-this.startTouchPoint.x;20<Math.abs(t)?20<t?"center"==this.curDir?this.onTrunRight():"right"==this.curDir&&(this.disposeRightBar(),this.onTrunCenter()):"center"==this.curDir?this.onTrunLeft():"left"==this.curDir&&(this.disposeLeftBar(),this.onTrunCenter()):(this.disposeLeftBar(),this.disposeRightBar(),this.onTrunCenter())}},e.prototype.onTrunRight=function(){egret.Tween.get(this.center).to({x:this.left.width},500).call(this.disposeTween,this,[this.center]),1==t.UserInfo.slipStatus&&(t.UserInfo.slipStatus=2),this.curDir="left",egret.Tween.get(this.left).to({x:0},500).call(this.disposeTween,this,[this.left]),t.ZqListener.getInstance().dispatchEvent(new t.ZqEvent(t.ZqEvent.HIDE_SLIP_GAME_GUIDE))},e.prototype.onTrunLeft=function(){egret.Tween.get(this.center).to({x:-this.right.width},500).call(this.disposeTween,this,[this.center]),t.UserInfo.slipStatus=0,this.curDir="right",egret.Tween.get(this.right).to({x:t.Global.screenWidth-this.right.width},500).call(this.disposeTween,this,[this.right]),t.ZqListener.getInstance().dispatchEvent(new t.ZqEvent(t.ZqEvent.HIDE_SLIP_GAME_GUIDE))},e.prototype.onTrunCenter=function(){this.curDir="center",egret.Tween.get(this.center).to({x:0},500).call(this.disposeTween,this,[this.center])},e.prototype.disposeLeftBar=function(){this.left&&egret.Tween.get(this.left).to({x:-this.left.width},500).call(this.disposeTween,this,[this.left])},e.prototype.disposeRightBar=function(){this.right&&egret.Tween.get(this.right).to({x:t.Global.screenWidth},500).call(this.disposeTween,this,[this.right])},e.prototype.disposeTween=function(e){e&&egret.Tween.removeTweens(e)},e.prototype.dispose=function(){this.removeListener()},e}();t.SlideBar=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(e){var t=function(i){function e(e,t){var n=i.call(this)||this;return n.index=-1,n.normalTexture=e,n.selectedTexture=t,n.normalBitmap=new egret.Bitmap(n.normalTexture),n.selectedBitmap=new egret.Bitmap(n.selectedTexture),n.addChild(n.normalBitmap),n}return __extends(e,i),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!=e&&(this._selected=e,this._selected?(this.addChild(this.selectedBitmap),this.contains(this.normalBitmap)&&this.removeChild(this.normalBitmap)):(this.addChild(this.normalBitmap),this.contains(this.selectedBitmap)&&this.removeChild(this.selectedBitmap)))},enumerable:!0,configurable:!0}),e}(egret.Sprite);e.StatusBtn=t}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(t){var e=function(r){function e(e,t,n){void 0===n&&(n=10);var i=r.call(this)||this;return i.selectIndex=0,i.btns=[],i.gap=10,i.normalTexture=e,i.selectedTexture=t,i.gap=n,i.init(),i}return __extends(e,r),e.prototype.setSelectIndex=function(e){this.selectIndex=e,this.selectIndex>=this.btns.length&&(this.selectIndex=this.btns.length-1),this.currentSelecedBtn&&(this.currentSelecedBtn.selected=!1),this.currentSelecedBtn=this.btns[this.selectIndex],this.currentSelecedBtn.selected=!0},e.prototype.getSelectIndex=function(){return this.selectIndex},e.prototype.setChildNum=function(e){if(this.childNum!=e){if(this.childNum=e,this.childNum<=this.btns.length)this.btns.length=this.childNum;else for(var t=this.btns.length;t<this.childNum;t++)this.btns.push(this.getNewBtn());this.resetChildren()}},e.prototype.getChildNum=function(){return this.childNum},e.prototype.resetChildren=function(){if(this.removeChildren(),!(this.btns.length<2)){for(var e,t=0;t<this.btns.length;t++)(e=this.btns[t]).selected=!1,e.x=t*(e.width+this.gap),this.addChild(e);this.setSelectIndex(this.selectIndex)}},e.prototype.getNewBtn=function(){return new t.StatusBtn(this.normalTexture,this.selectedTexture)},e.prototype.init=function(){var e,t;this.normalTexture||((e=new egret.Shape).graphics.beginFill(11119017),e.graphics.drawCircle(5,5,5),e.graphics.endFill(),(t=new egret.RenderTexture).drawToTexture(e),this.normalTexture=t),this.selectedTexture||((e=new egret.Shape).graphics.beginFill(7172728),e.graphics.drawCircle(5,5,5),e.graphics.endFill(),(t=new egret.RenderTexture).drawToTexture(e),this.selectedTexture=t)},e}(egret.Sprite);t.StatusBtnGroup=e}(uniLib||(uniLib={}));var CommonConsts=function(){function e(){}return e.LOBBY_LASTGAME="lobby_lastGame",e.UNI_LAST_PLAT_INFO="uni_last_plat_info",e}(),uniLib,uniLib,uniLib,uniLib,uniLib;!function(e){var t;(t=e.TextColors||(e.TextColors={}))[t.WHITE=16777215]="WHITE",t[t.MILKWHITE=16511407]="MILKWHITE",t[t.GRAYWHITE=13547170]="GRAYWHITE",t[t.YELLOW=16776960]="YELLOW",t[t.LIGHTYELLOW=16765813]="LIGHTYELLOW",t[t.ORANGEYELLOW=16750848]="ORANGEYELLOW",t[t.RED=15799040]="RED",t[t.GREEN=58624]="GREEN",t[t.BLUE=1742039]="BLUE",t[t.GRAYBLUE=3101047]="GRAYBLUE",t[t.PURPLE=15284466]="PURPLE",t[t.PINK=16724016]="PINK",t[t.BLACK=3026221]="BLACK",t[t.GOLDEN=16766720]="GOLDEN"}(uniLib||(uniLib={})),function(e){var t=function(){function e(){this._funcMap={}}return e.prototype.dispatch=function(e,t){void 0===t&&(t=null);var n=this._funcMap[e],i=0;if(null!=n){for(;i<n.length;)n[i]&&n[i][0].call(n[i][1],t),i++;return!0}},e.prototype.addListener=function(e,t,n){this._funcMap[e]?-1==this.getNoticeIndex(e,t,n)&&this._funcMap[e].push([t,n]):(this._funcMap[e]=[],this._funcMap[e].push([t,n]))},e.prototype.hasListener=function(e){return!!(this._funcMap[e]&&0<this._funcMap[e].length)},e.prototype.removeListener=function(e,t,n){if(this._funcMap[e]){var i=this.getNoticeIndex(e,t,n);-1!=i&&this._funcMap[e].splice(i,1)}},e.prototype.getNoticeIndex=function(e,t,n){var i=this._funcMap[e];for(var r in i)if(i[r][0]==t&&i[r][1]==n)return Number(r);return-1},e}();e.Dispatcher=t}(uniLib||(uniLib={})),function(e){var t;(t=e.UserInfoEnum||(e.UserInfoEnum={}))[t.CHIPS=0]="CHIPS",t[t.FREECHIPS=1]="FREECHIPS",t[t.PLAT_POINT=2]="PLAT_POINT",t[t.BANK_CHIPS=3]="BANK_CHIPS",t[t.NICKNAME=4]="NICKNAME",t[t.GIFTCOUPON=5]="GIFTCOUPON",t[t.HEADURL=6]="HEADURL",t[t.GOLDCHIPS=7]="GOLDCHIPS",t[t.FANGKA=8]="FANGKA",t[t.DIAMOND=9]="DIAMOND"}(uniLib||(uniLib={})),function(e){var t=function(){function t(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.CLASS_NAME="ZqEvent",this.type=e,this._obj=t}return t.prototype.clone=function(e){return new t(this.type,e||this._obj)},t.prototype.toString=function(){e.Console.log(this.CLASS_NAME,"type","bubbles","cancelable")},Object.defineProperty(t.prototype,"param",{get:function(){return this._obj},enumerable:!0,configurable:!0}),t.CHAT_ROOM="chat_room",t.CHAT_PRIVATE="chat_private",t.CHAT_SYSTEM="chat_system",t.CHAT_IMPORTANT="chat_important",t.EVENT_L2G_NOTICE="event_l2g_notice",t.CHAT_GM="chat_gm",t.GM_BEFORE="gm_before",t.GM_END="gm_end",t.CHAT_HORN="chat_horn",t.USER_INFO="user_info",t.CHAT_HUNDRED="chat_hundred",t.CHAT_COMMONGAME="chat_commongame",t.CHAT_LOBBY="chat_lobby",t.UPDATE_USER_INFO="update_user_info",t.CHECK_VERSION_UPDATE="check_version_update",t.COMMON_MODEL="common_model",t.EVENT_L2G="event_l2g",t.EVENT_G2L="event_g2l",t.EVENT_ACTIVE_SOCKET_CACHE_OK="on_active_socket_cache_ok",t.EVENT_SERVER_SHUTDOWN="on_server_shutdown",t.EVENT_SERVER_DEBUG_LEVEL="on_server_debug_level",t.GM_INFO="gm_info",t.KICK_OUT="kick_out",t.ON_RECONNEC="on_reconnect",t.ON_SERVER_SHUTDOWN="on_server_shutdown",t.ON_GETZONEINFO="on_get_zoneinfo",t.ON_RESTART="on_restart",t.NET_ERRER="net_error",t.SHARE="share",t.TASK_EVENT="task_event",t.ONLINE_NUM="online_num",t.HIDE_SLIP_GAME_GUIDE="hide_slip_game_guide",t.NATIVE_TO_EGERET="native_to_egret",t}();e.ZqEvent=t}(uniLib||(uniLib={})),function(t){var e=function(){function e(){this.CLASS_NAME="ZqListener",this.isInit=!1,this.isInit,null==this._dispatcher&&(this._dispatcher=new t.Dispatcher,this.isInit=!0)}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.addEventListener=function(e,t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=0),this._dispatcher.addListener(e,t,n)},e.prototype.hasEventListener=function(e){return this._dispatcher.hasListener(e)},e.prototype.removeEventListener=function(e,t,n,i){void 0===i&&(i=!1),this._dispatcher.removeListener(e,t,n)},e.prototype.dispatchEvent=function(e){return this._dispatcher.dispatch(e.type,e)},e.prototype.toString=function(){return this._dispatcher.toString()},e}();t.ZqListener=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib,uniLib,uniLib,uniLib,uniLib,uniLib;!function(e){var t=function(){};e.RoomInfo=t;var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showBack=!0,e.defaultOrientation="auto",e.isLandscape=!0,e.preloadUIAutoHide=!0,e.candestroyGrps=[],e.hasTestChips=!1,e}return __extends(e,t),e}(e.Reflect);e.IGameConfig=n}(uniLib||(uniLib={})),function(e){var t=function(){};(uniLib||(uniLib={})).IUserInfo=t}(),function(l){var e=function(){function e(){this._models={}}return Object.defineProperty(e,"Instance",{get:function(){return null==this._self&&(this._self=new e),this._self},enumerable:!0,configurable:!0}),e.prototype.addEvents=function(){},e.prototype.registerCommonModel=function(e,t,n){null==this._models[e]?(this._models[e]=t,this._models["loadName_"+e]=n):l.Console.warn("registerCommonModel:公用模块只能注册一次")},e.prototype.openCommonModel=function(e,t,n,i,r){var o;if(void 0===t&&(t=0),this._models[e]){var a=this;return this._models["loadName_"+e]?l.ResLoadMgr.instance.load(this._models["loadName_"+e],s,function(){l.Console.error("加载资源组失败:loadName_"+e)},null,l.UIMgr.instance.tipsLoadUI,!0,!0):s(),o}function s(){i?(o=new a._models[e](n),i.call(r,o)):0==t?(o=new a._models[e](n),l.PopUpMgr.addPopUp(o,null,!0,!0)):l.UIMgr.instance.showUI(a._models[e],n)}},e.prototype.showCommonUI=function(e,t){if(this._models[e])return l.UIMgr.instance.showUI(this._models[e],t)},e.prototype.getCommonUI=function(e,t){if(this._models[e])return new this._models[e](t)},e._self=null,e}();l.CommonModelMgr=e}(uniLib||(uniLib={})),function(g){var e=function(){function p(){}return p.reQuestZoneList=function(e,t,n,i,r){if(this.http)this.http.requestZoneList(e,n,r);else{var o=new g.HttpClient;o.init(t,e),o.requestZoneList(e,n,r)}},p.init=function(e,t,n,i,r,o,a){if(this.LoginUrl=e,t&&(g.Global.gameId=t),t&&g.Global.zoneList)for(var s=g.Global.zoneList.length-1;0<=s;s--)t==g.Global.zoneList[s].gameid&&(n=g.Global.zoneList[s].zoneid);0==g.Global.lobbyGameId&&(g.Global.lobbyGameId=t),null==this.http||this.LoginUrl!=this.http.LoginUrl?(this.http=new g.HttpClient,this.http.init(e,t,n),a&&(this.http.GatewayUrl=a),i&&null!=i&&this.http.h5platLogin(null,i,r,o)):i&&i.call(o,g.Global.platInfo)},p.getPlatToken=function(n,i,e,t,r){g.Utils.getLocalStorage(t+"|"+e+"|platToken",function(e){var t;Pmd.PlatInfo,e&&(t=JSON.parse(e),p.UID=Number(t.uid),t.account&&(p.PlatUID=t.account?t.account:t.uid),g.BrowersUtils.extData.inviter=p.UID.toString(),p.SID=t.sid,t.GatewayUrl&&p.http&&(p.http.GatewayUrl=t.GatewayUrl),p.PlatToken=t.unigame_plat_login,p.PlatKey=t.unigame_plat_key,p.platTokenTimeOut=t.unigame_plat_login_life,null!=t.platinfo&&(g.Global.platInfo?g.Global.platInfo.platid=t.platinfo.platid:g.Global.platId=t.platinfo.platid,p.PlatUID=t.platinfo.account?t.platinfo.account:t.platinfo.uid,p.PlatSession=t.platinfo.sign)),n.call(i,t)})},p.h5platLogin=function(e,t,n,i){this.http?this.http.h5platLogin(e,t,n,i):g.Console.warn("请先使用NetMgr.init初始化网络模块!")},p.initSocket=function(n,i,r,e,t,o,a,s,l){void 0===a&&(a=!1),void 0===s&&(s=!1);var c=this;if(this.ws&&0==this.ws.isConnected&&(this.ws.close(!1),this.ws=null),null==this.ws){if(r.loopback)return c.ws=new g.JsonSocket(null,c.http.GameID,0,!1),c.ws.login(n,null,r),void n.call(r);var u=function(e){return null==e?(g.Console.warn("initSocket:网络请求失败,请检查网络"),i&&i.call(r)):(g.Global.logintempid=e.logintempid,!g.Global.LobbyPlatInfo||l&&""!=l||(g.Global.LobbyPlatInfo.GatewayUrlWs=e.jsongatewayurl),c.ws=new g.JsonSocket(e.jsongatewayurl,c.http.GameID,c.http.ZoneID,a,this),(t=new Pmd.UserLoginTokenLoginUserPmd_C).gameid=c.http.GameID,t.zoneid=c.http.ZoneID,t.accountid=e.accountid,t.logintempid=e.logintempid,g.Global.zipmd5&&(t.zipmd5=g.Global.zipmd5),g.Global.configmd5&&(t.configmd5=g.Global.configmd5),g.Global.bundleId&&(t.bundlename=g.Global.bundleId),t.timestamp=Math.floor(Date.now()/1e3),s&&(t.lastseq=4294967295),null==p.PlatKey&&(p.PlatKey=""),t.tokenmd5=""+g.StringUtils.MD5(String(t.accountid)+String(t.logintempid)+String(t.timestamp)+p.PlatKey),t.compress=g.CompressUtil.compressStr[g.Global.compressType],0<g.Global.compressMin&&(t.compressmin=g.Global.compressMin),t.version=20160805,t.url=e.jsongatewayurl,c.ws.loginData=t,c.ws.login(n,i,r)),!0;var t};if(g.Global.LobbyPlatInfo&&(g.Global.LobbyPlatInfo.GatewayUrlWs||l&&""!=l)){var d=new Pmd.WebSocketForwardUserPmd_S;d.accountid=Number(p.UID),d.logintempid=g.Global.logintempid?g.Global.logintempid:0,d.jsongatewayurl=l&&""!=l?l:g.Global.LobbyPlatInfo.GatewayUrlWs,u(d)}else{var h=new Pmd.WebSocketForwardUserPmd_C;h.accountid=Number(p.UID),this.httpSend(h,function(e){return u(e)})}}},p.getThirdPlatId=function(){return p.PlatUID},p.getIp=function(e,t,n){var i=new g.HttpRequest(e,null,t);n||(n=g.Global.ipUrl),i.open(n),i.send()},p.post=function(e,t,n){var i=new g.HttpRequest(t,null,n);i.open(e),i.send()},p.logout=function(){g.Utils.clearLocalStorage(g.Global.lobbyGameId+"|"+g.Global.getPlatId()+"|platToken"),this.UID=0,this.ZoneUID="",this.SID="",this.PlatUID="",this.PlatSession="",this.PlatToken="",this.PlatKey="",this.platTokenTimeOut=0,this.http=null,this.closeSocket(),p.UID=0,p.ZoneUID="",p.SID="",p.PlatUID="",p.PlatSession="",p.PlatToken="",p.PlatKey="",p.platTokenTimeOut=0,p.http=null,p.closeSocket(),g.Global.platInfo=null,g.Global.LobbyPlatInfo=null,g.SceneMgr&&g.Global.LoginScene&&g.SceneMgr.instance.changeScene(g.Global.LoginScene),g.ZQGameSdk&&g.ZQGameSdk.Logout()},p.closeSocket=function(e){void 0===e&&(e=!1),this.ws&&(this.ws.close(e),this.ws=null)},p.httpSend=function(e,t,n){this.http?this.http.send(e,t,n):g.Console.warn("httpSend:网络不可用,请检查网络")},p.tcpSend=function(e){if(this.ws){var t=e.GetType?e.GetType():e.cmd_name||e.do;"Pmd.UserLoginTokenLoginUserPmd_C"!=t&&"Pmd.TickReturnNullUserPmd_CS"!=t&&"Pmd.PrivateChatUserPmd_CS"!=t&&"Pmd.GMCommandListChatUserPmd_S"!=t&&"Pmd.UserLoginReconnectLoginUserPmd_C"!=t&&"Pmd.SetTickTimeoutNullUserPmd_CS"!=t&&"Pmd.CommonChatUserPmd_CS"!=t&&"Pmd.GMCommandChatUserPmd_C"!=t?this.ws.send(e):this.ws.sendPlat(e)}else g.Utils.restart("网络不可用,点击确定重试","确定"),g.Console.warn("tcpSend:网络不可用,请检查网络:"+JSON.stringify(e))},p.sendEcho=function(e){void 0===e&&(e=8),this.ws&&this.ws.setMsgTimeout(e,"")&&this.ws.sendEcho()},p.setTickSec=function(e){void 0===e&&(e=30),this.ws&&this.ws.setTickSec(e)},p.sendChatVo=function(e,t){var n;switch(void 0===t&&(t=Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal),t){case Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal:case Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_None:(n=new Pmd.CommonChatUserPmd_CS).info=e.msg,n.chatpos=t,n.name=name;break;case Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Private:(n=new Pmd.PrivateChatUserPmd_CS).info=e.msg,n.id=e.userId,n.name=e.userName;break;default:(n=new Pmd.CommonChatUserPmd_CS).info=e.msg,n.chatpos=t}this.tcpSend(n)},p.sendChat=function(e,t,n){void 0===n&&(n=Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal);try{var i=0;if(e.match(/^[//]/)){var r,o=e.substring(2,e.length),a=(o.split(" "),new Pmd.GMCommandChatUserPmd_C);switch(a.method=a.method=o.substring(0,-1<o.indexOf(" ")?o.indexOf(" "):o.length),a.params=g.StringUtils.sTrim(o.substring(o.indexOf(" "),o.length)),a.method){case"peer":var s=g.StringUtils.getVariables(a.params);g.UserInfo&&(g.UserInfo.uid=Number(s.id))}if(r=g.getDefinitionByName("uniLib.GM_Before"))try{r(a,function(){p.tcpSend(a)})}catch(e){}else p.tcpSend(a)}else{var l;e.match(/^\[.+\]:/)&&(i=Number(e.substring(0,e.indexOf(":")).slice(1,-1)),e=e.substring(e.indexOf(":")+1,e.length)),0!=i?((l=new Pmd.PrivateChatUserPmd_CS).info=e,l.id=i):((l=new Pmd.CommonChatUserPmd_CS).info=e,l.chatpos=n),l.name=t,this.tcpSend(l)}}catch(e){g.Console.warn("ws网络不可用,请检查网络")}},p.GetPhoneCode=function(e,t,n,i,r){var o=new Pmd.MobileRegistRequestRandCodeLoginUserPmd_C,a=o.GetType?o.GetType():o.cmd_name||o.do;o.mobilenum=e,o.gameid=this.http.GameID;var s=r||this.http.LoginUrl;this.http.sendTo(s,a,o,n)},p.CodeLogin=function(e,t,n,i,r,o,a,s,l){void 0===r&&(r=0);var c=this,u=new Pmd.MobileRegistRequestCreateAccountLoginUserPmd_C;u.mobilenum=e,u.randcode=t,u.password=n,u.optype=r,i&&(u.parent=i),this.http.initCallBack(o,a,s);var d=l||this.http.LoginUrl;this.http.sendTo(d,u.GetType(),u,function(e){return c.http.cachePhoneLoginInfo(e,Pmd.PlatType.PlatType_MOBILE),c.http.h5platLogin(),!0})},p.getEmailCode=function(e,t,n,i,r,o){var a=new Pmd.EmailRegistRequestRandCodeLoginUserPmd_C;a.email=e,a.gameid=this.http.GameID,a.optype=t,this.http.initCallBack(n,i,r);var s=o||this.http.LoginUrl;this.http.sendTo(s,a.GetType(),a,function(e){return!0})},p.emailLogin=function(e,t,n,i,r,o,a,s,l,c){void 0===i&&(i=0);var u=this,d=new Pmd.EmailRegistRequestCreateAccountLoginUserPmd_C;d.email=e,d.parent=r,d.password=t,d.mobilenum=o,d.randcode=n,i&&(d.optype=i),this.http.initCallBack(a,s,l),g.Utils.clearLocalStorage(this.http.GameID+"|128|platToken");var h=c||this.http.LoginUrl;this.http.sendTo(h,d.GetType(),d,function(e){return e?(u.http.cachePhoneLoginInfo(e,128),u.http.h5platLogin(),!0):s(e)})},p.LoginByTel=function(e,t,n,i,r,o){var a=this,s=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;s.platid=129,s.gameid=this.http.GameID,s.account=e,s.password=t,this.http.initCallBack(n,i,r),g.Utils.clearLocalStorage(this.http.GameID+"|129|platToken");var l=o||this.http.LoginUrl;this.http.sendTo(l,s.GetType(),s,function(e){if(e)return a.http.cachePhoneLoginInfo(e,s.platid),a.http.h5platLogin(),!0})},p.LoginByEmail=function(e,t,n,i,r,o){var a=this,s=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;s.platid=128,s.gameid=this.http.GameID,s.account=e,s.password=t,this.http.initCallBack(n,i,r),g.Utils.clearLocalStorage(this.http.GameID+"|128|platToken");var l=o||this.http.LoginUrl;this.http.sendTo(l,s.GetType(),s,function(e){return a.http.cachePhoneLoginInfo(e,s.platid),a.http.h5platLogin(),!0})},p.clearGateWay=function(){g.Global.LobbyPlatInfo.GatewayUrl&&delete g.Global.LobbyPlatInfo.GatewayUrl,g.Global.LobbyPlatInfo.GatewayUrlWs&&delete g.Global.LobbyPlatInfo.GatewayUrlWs;var e=g.Utils.getLocalStorage(g.Global.lobbyGameId+"|"+g.Global.getPlatId()+"|platToken");e&&(e.GatewayUrlWs&&delete e.GatewayUrlWs,e.GatewayUrl&&delete e.GatewayUrl,g.Global.setPlatToken(e,g.Global.getPlatId(),g.Global.lobbyGameId))},p.LoginByAccount=function(e,t,n,i,r,o){var a=this,s=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;s.platid=Pmd.PlatType.PlatType_MOBILE,g.StringUtils.checkPhone(e)?s.platid=Pmd.PlatType.PlatType_MOBILE:s.platid=128,s.gameid=this.http.GameID,s.account=e,s.password=t,g.Utils.clearLocalStorage(this.http.GameID+"|128|platToken"),this.http.initCallBack(n,i,r);var l=o||this.http.LoginUrl;this.http.sendTo(l,s.GetType(),s,function(e){if(e)return a.http.cachePhoneLoginInfo(e,s.platid),a.http.h5platLogin(),!0;i&&i.call(r)})},p.bindAccount=function(e,t,n,i,r,o){var a=new Pmd.EmailRegistRequestCreateAccountLoginUserPmd_C;a.email=e,a.password=t,a.isbind=!0,a.uid=this.UID;var s=o||this.http.LoginUrl;this.http.sendTo(s,a.GetType(),a,function(e){return 0==e.retcode?n.call(r):i.call(r),!0})},p.accountLogin=function(e,t,n,i,r,o){var a=this,s=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;s.platid=128,s.gameid=this.http.GameID,s.account=e,s.password=t,g.Utils.clearLocalStorage(this.http.GameID+"|128|platToken"),this.http.initCallBack(n,i,r);var l=o||this.http.LoginUrl;this.http.sendTo(l,s.GetType(),s,function(e){return a.http.cachePhoneLoginInfo(e,s.platid),a.http.h5platLogin(),!0})},p.checkMsgTimeout=function(e){return null==this.ws||(new Date).getTime()-this.ws.lastRecvTime>=e},p.setMsgTimeout=function(e,t){return null!=this.ws&&this.ws.setMsgTimeout(e,t)},p.getToken=function(e){var t,n=Number(g.Utils.getLocalStorage(CommonConsts.UNI_LAST_PLAT_INFO));if(!e&&g.Global.gameConfig&&(e=g.Global.gameConfig.gameid),0<=n){var i=g.Utils.getCachedPlatInfo(null,e,n);i&&(t=JSON.parse(i),g.Global.initPlatInfo(t.platinfo))}return t},p}();g.NetMgr=e;var t=function(){this.userId="",this.type=0,this.userName=""};g.ChatMsgItemVo=t}(uniLib||(uniLib={})),function(h){var e=function(){function d(){}return Object.defineProperty(d,"Instance",{get:function(){return null==this._self&&(this._self=new d),this._self},enumerable:!0,configurable:!0}),d.prototype.initPayPlatById=function(e,t,n){var i=this;if(0!=this.isOpen&&(e&&null!=e||(e=h.Global.platInfo.platid),h.Global.isH5))switch(e){case Pmd.PlatType.PlatType_AiBei:case Pmd.PlatType.PlatType_LeZhuan:h.BrowersUtils.LoadJS("aibei",h.BrowersUtils.getPlatLibDir()+"aibei_v1.1.0.js"),null!=t&&(n?t.call(n,e):t(e));break;case Pmd.PlatType.PlatType_Play68:h.BrowersUtils.LoadJS("play68",h.BrowersUtils.getPlatLibDir()+"play68_sdk.js",t,n);break;case Pmd.PlatType.PlatType_WeChat:h.BrowersUtils.LoadJS("weixin",h.BrowersUtils.getPlatLibDir()+"weixinapi.min.js",function(){i.initWechat(t,n)});break;case Pmd.PlatType.PlatType_WEIYOU:h.Global.appId="wxa569805aa50c7fa7",h.BrowersUtils.LoadJS("weixin",h.BrowersUtils.getPlatLibDir()+"weixinapi.min.js",function(){i.initWechat(t,n)});break;case Pmd.PlatType.PlatType_RONGQIANG:h.Global.appId="wx463fb53ff525bbaa",h.BrowersUtils.LoadJS("weixin",h.BrowersUtils.getPlatLibDir()+"weixinapi.min.js",function(){i.initWechat(t,n)});break;case Pmd.PlatType.PlatType_DAPAI:h.BrowersUtils.LoadJS("dapai",h.BrowersUtils.getPlatLibDir()+"dapaisdk.js",t,n);break;case Pmd.PlatType.PlatType_AoXin:h.BrowersUtils.LoadJS("aoxin","http://libs.baidu.com/jquery/1.10.2/jquery.min.js",function(){h.BrowersUtils.LoadJS("aoxin","http://res.wx.qq.com/open/js/jweixin-1.0.0.js",function(){h.BrowersUtils.LoadJS("aoxin",h.BrowersUtils.getPlatLibDir()+"aoxinShare.js",t,n)})});break;case Pmd.PlatType.PlatType_HUOSU:h.BrowersUtils.LoadJS("huosu","http://yun.huosu.com/src/api/js/huosuh5sdk.js",function(){n?t.call(n,e):t(e)},n);break;case Pmd.PlatType.PlatType_Egret:h.BrowersUtils.LoadJS("nest",h.BrowersUtils.getPlatLibDir()+"nest.min.js",function(){n?t.call(n,e):t(e)},n);break;case Pmd.PlatType.PlatType_9g:window.parent.postMessage({action:"share",data:{},imgurl:h.Global.shareData.imgUrl,title:h.Global.shareData.title,content:h.Global.shareData.desc},"*");break;case Pmd.PlatType.PlatType_YYGame:h.BrowersUtils.LoadJS("YYGpay","http://f2e.yy.com/s/lib/sdk/h5/yy-gpay.min.js");break;default:null!=t&&(n?t.call(n,e):t(e))}},d.prototype.initWechat=function(e,t){if(null!=h.Global.shareData){var n="http://weixin.zqgame.com/GetJsSdkTicket?appid="+h.Global.appId+"&url="+encodeURIComponent(location.href.split("#")[0]),i=h.BrowersUtils.getXHR();i.open("GET",n,!0),i.setRequestHeader("Content-Type","multipart/form-data"),i.responseType="text",i.send();var r=this;i.onreadystatechange=function(){4==i.readyState&&(400<=i.status||0==i.status||0<i.responseText.length&&r.initWechatInfo(i.responseText,e,t))}}},d.prototype.initWechatInfo=function(e,t,n){try{this.signPackage=JSON.parse(e),this.getWeiXinConfig(),wx.ready(function(){h.BrowersUtils.setShareInfo()})}catch(e){console.error("获取微信权限失败")}t&&t.call(n)},d.prototype.getWeiXinConfig=function(){var e={debug:!1};e.appId=this.signPackage.appid,e.timestamp=this.signPackage.timestamp,e.nonceStr=this.signPackage.nonceStr,e.signature=this.signPackage.signature,e.jsApiList=["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","chooseWXPay","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","translateVoice","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"],wx.config(e)},d.prototype.pay=function(e,t,n){if(1==h.Global.isH5)switch(Number(e.payplatid)){case void 0:break;case Pmd.PlatType.PlatType_LeZhuan:case Pmd.PlatType.PlatType_AiBei:case Pmd.PlatType.PlatType_Normal:this.payAiBei(e.platOrder,h.BrowersUtils.getLocationUrl(),e.sign);break;case Pmd.PlatType.PlatType_Play68:Play68.onpaysucc=t,Play68.pay(e.gameOrder,e.goodName,e.price/100,e.count);break;case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_XingZhiZhu:case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_CaiGuo:case Pmd.PlatType.PlatType_XueChi:case Pmd.PlatType.PlatType_AoXin:h.BrowersUtils.redirectUrl(e.payUrl);break;case Pmd.PlatType.PlatType_9g:var i={action:"pay",orderid:e.gameOrder,money:e.price,product:e.goodName,spid:"aaayxzx",sign:e.sign,uid:h.Global.platInfo.uid,token:h.NetMgr.PlatSession};window&&window.parent&&window.parent.postMessage(i,"*");break;case Pmd.PlatType.PlatType_1758:h.BrowersUtils.parentRedirectUrl(h.BrowersUtils.getLocationUrl());break;case Pmd.PlatType.PlatType_WeChat:case Pmd.PlatType.PlatType_WEIYOU:case Pmd.PlatType.PlatType_RONGQIANG:var r=e.sign.split("|");this.payWechat(r[0],r[1],r[2],r[3]);break;case Pmd.PlatType.PlatType_DAPAI:yunyou.redirecturl=h.BrowersUtils.getLocationUrl(),yunyou.order_token=e.sign,yunyou.pay();break;case Pmd.PlatType.PlatType_HUOSU:var o={goodsId:e.goodId,goodsNum:e.count,out_orderno:e.gameOrder};HuoSuSdk.pay(o,t,"返回游戏");break;case Pmd.PlatType.PlatType_YYGame:var a=d.Instance.lastRechargeInfo.goodname,s={amount:e.price*e.count,game:h.BrowersUtils.GetRequest("game"),gamename:"好彩麻将H5",itemid:e.goodId,itemname:a,account:h.BrowersUtils.GetRequest("account"),cparam:e.gameOrder};YYGpay.openGpay(s)}else h.ZQGameSdk&&h.ZQGameSdk.pay(e,t,n)},d.prototype.payByPmd=function(e,n,i,r){var o=this,t=e;if(this._lastOrder_S=t,1==h.Global.isH5)switch(Number(t.payplatid)){case void 0:break;case Pmd.PlatType.PlatType_LeZhuan:case Pmd.PlatType.PlatType_AiBei:case Pmd.PlatType.PlatType_Normal:this.payAiBei(t.platorder,h.BrowersUtils.getLocationUrl(),t.sign);break;case Pmd.PlatType.PlatType_Play68:Play68.onpaysucc=n,Play68.pay(t.gameorder,t.gamemoney.toString(),t.ordermoney/100,t.goodnum);break;case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_XingZhiZhu:case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_CaiGuo:case Pmd.PlatType.PlatType_XueChi:case Pmd.PlatType.PlatType_AoXin:h.BrowersUtils.redirectUrl(t.redirecturl);break;case Pmd.PlatType.PlatType_9g:var a={action:"pay",orderid:t.gameorder,money:t.ordermoney,product:t.gamemoney,spid:"aaayxzx",sign:t.sign,uid:h.Global.platInfo.uid,token:r.PlatSession};window&&window.parent&&window.parent.postMessage(a,"*");break;case Pmd.PlatType.PlatType_1758:h.BrowersUtils.parentRedirectUrl(h.BrowersUtils.getLocationUrl());break;case Pmd.PlatType.PlatType_WeChat:case Pmd.PlatType.PlatType_WEIYOU:case Pmd.PlatType.PlatType_RONGQIANG:var s=t.sign.split("|");this.payWechat(s[0],s[1],s[2],s[3]);break;case Pmd.PlatType.PlatType_DAPAI:yunyou.redirecturl=h.BrowersUtils.getLocationUrl(),yunyou.order_token=t.sign,yunyou.pay();break;case Pmd.PlatType.PlatType_HUOSU:var l={goodsId:t.goodid,goodsNum:t.goodnum,out_orderno:t.gameorder};HuoSuSdk.pay(l,n,"返回游戏");break;case Pmd.PlatType.PlatType_YYGame:var c=d.Instance.lastRechargeInfo.goodname,u={amount:t.ordermoney/100,game:h.BrowersUtils.GetRequest("game"),gamename:"好彩麻将H5",itemid:t.goodid,itemname:c,account:h.BrowersUtils.GetRequest("account"),cparam:t.gameorder};YYGpay.openGpay(u)}else t.roleid=r.getThirdPlatId(),t.goodname=d.Instance.lastRechargeInfo.goodname,t.gooddesc=d.Instance.lastRechargeInfo.gooddesc,console.log("[PayMgr]:"+JSON.stringify(t)),h.ZQGameSdk&&h.ZQGameSdk.payByPmd(t,function(e){if(0==e.code){var t=new Pmd.RechargeQueryRequestIOSSdkPmd_C;t.gameorder=o._lastOrder_S.gameorder,t.originalmoney=o._lastOrder_S.ordermoney,t.roleid=r.UID,t.ordermoney=o._lastOrder_S.ordermoney,t.token=o._lastOrder_S.sign,e.data&&e.data.paytoken&&(t.token=e.data.paytoken),e.data&&e.data.purchaseData?t.extdata=e.data.purchaseData:t.extdata=o._lastOrder_S.data.extdata,t.payplatid=o._lastOrder_S.payplatid,r.tcpSend(t)}n&&n(e,i)},i)},d.prototype.payCallBack=function(e){},d.prototype.weChatPay=function(e,t,n){if(1==h.Global.isH5)switch(Number(h.Global.platInfo.platid)){case void 0:break;case Pmd.PlatType.PlatType_LeZhuan:case Pmd.PlatType.PlatType_Normal:this.payAiBei(e.platorder,h.BrowersUtils.getLocationUrl(),e.sign);break;case Pmd.PlatType.PlatType_Play68:Play68.onpaysucc=t,Play68.pay(e.gameorder,"",e.ordermoney/100,e.goodnum);break;case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_XingZhiZhu:case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_CaiGuo:case Pmd.PlatType.PlatType_XueChi:case Pmd.PlatType.PlatType_AoXin:h.BrowersUtils.redirectUrl(e.redirecturl);break;case Pmd.PlatType.PlatType_9g:var i={action:"pay",orderid:e.gameorder,money:e.ordermoney,product:e.goodnum,spid:"aaayxzx",sign:e.sign,uid:h.Global.platInfo.uid,token:h.NetMgr.PlatSession};window&&window.parent&&window.parent.postMessage(i,"*");break;case Pmd.PlatType.PlatType_1758:h.BrowersUtils.parentRedirectUrl(h.BrowersUtils.getLocationUrl());break;case Pmd.PlatType.PlatType_WeChat:case Pmd.PlatType.PlatType_WEIYOU:case Pmd.PlatType.PlatType_RONGQIANG:var r=e.sign.split("|");this.payWechat(r[0],r[1],r[2],r[3]);break;case Pmd.PlatType.PlatType_DAPAI:yunyou.redirecturl=h.BrowersUtils.getLocationUrl(),yunyou.order_token=e.sign,yunyou.pay();break;case Pmd.PlatType.PlatType_HUOSU:var o={goodsId:e.goodid,goodsNum:e.goodnum,out_orderno:e.gameorder};HuoSuSdk.pay(o,t,"返回游戏");break;case Pmd.PlatType.PlatType_YYGame:var a=d.Instance.lastRechargeInfo.goodname,s={amount:e.ordermoney/100,game:h.BrowersUtils.GetRequest("game"),gamename:"好彩麻将H5",itemid:e.goodid,itemname:a,account:h.BrowersUtils.GetRequest("account"),cparam:e.gameorder};YYGpay.openGpay(s)}},d.prototype.payAiBei=function(e,t,n,i,r){if(null==this.aibeiPay&&(this.aibeiPay=new AiBeiPay,window.aibeiBack=r),null!=e){var o={};o.transId=e,o.baseZIndex=100,o.closeTxt="返回游戏",o.redirecturl=t,o.sign=n,this.aibeiPay.clickAibei(o)}},d.prototype.payWechat=function(e,t,n,i){var r=function(){window.WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:h.Global.appId,timeStamp:i,nonceStr:t,package:"prepay_id="+n,signType:"MD5",paySign:e},function(e){e.err_msg})};void 0===window.WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",r,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",r),document.attachEvent("onWeixinJSBridgeReady",r)):r()},d._self=null,d}();h.PayMgr=e}(uniLib||(uniLib={})),function(P){var v,e,t=function(){function b(){}return b.init=function(e){e&&(this._container=e),P.SceneMgr.instance.currentScene&&(P.SceneMgr.instance.currentScene.topLayer?this._container=P.SceneMgr.instance.currentScene.topLayer:this._container=P.SceneMgr.instance.currentScene)},b.addPopUp=function(t,e,n,i,r,o,a,s,l){void 0===e&&(e=null),void 0===n&&(n=!1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0);var c,u=P.Global.screenWidth,d=P.Global.screenHeight;1==this.outSideHide&&(c=!0),"boolean"==typeof r&&(c=r);t.prototype&&(t=new t(l));var h=t.scaleX,p=t.scaleY;1==b.autoScale&&(p=P.Global.designHeight>P.Global.screenHeight?P.Global.screenHeight/P.Global.designHeight:P.Global.designHeight/P.Global.screenHeight);var g=egret.getQualifiedClassName(t);null==this.popupDic[g]&&(this.popupDic[g]=[]),this.popupDic[g].push(t),null!=this._container&&null!=this._container.parent||(P.SceneMgr.instance.currentScene?P.SceneMgr.instance.currentScene.topLayer?this._container=P.SceneMgr.instance.currentScene.topLayer:this._container=P.SceneMgr.instance.currentScene:this._container=egret.MainContext.instance.stage),P.SceneMgr.instance.currentScene&&1!=P.SceneMgr.instance.currentScene.scaleX&&(u=P.Global.designHeight/P.SceneMgr.instance.currentScene.scaleX,d=P.Global.designWidth/P.SceneMgr.instance.currentScene.scaleY),P.SceneMgr.instance.currentScene&&1!=P.SceneMgr.instance.currentScene.scaleY&&(d=egret.MainContext.instance.stage.stageHeight/P.SceneMgr.instance.currentScene.scaleY);var f=null==e?this._container:e;if(!f.contains(t)){var m;if(m="number"==typeof i?i:this.maskAlpha,i){var _=egret.getQualifiedClassName(t)+t.hashCode;this.darkSpriteDic[_]=P.DisplayUtils.createMask(m,u,d),f.contains(this.darkSpriteDic[_])||(P.SceneMgr.instance.currentScene&&0!=P.SceneMgr.instance.currentScene.x&&(this.darkSpriteDic[_].x=(P.Global.designWidth-P.Global.screenWidth)/2),f.addChild(this.darkSpriteDic[_])),this.darkSpriteDic[_].touchEnabled=!0,1==c&&this.darkSpriteDic[_].once(egret.TouchEvent.TOUCH_TAP,function(e){e.stopPropagation(),e.stopImmediatePropagation();e.target;P.PopUpMgr.removePopUp(t)},this),egret.Tween.get(this.darkSpriteDic[_]).to({alpha:1},150),this.darkSpriteDic[_].visible=!0}"number"==typeof r&&0<r?f.addChildAt(t,r):f.addChild(t),this.curPanel=t,0!=a&&f?(t.x=u/2-a/2,t.y=d/2-s/2):0==t.anchorOffsetX&&(a=t.width,s=t.height);var y=u/2-a/2;P.SceneMgr.instance.currentScene&&0!=P.SceneMgr.instance.currentScene.x&&(y=P.Global.designWidth/2-a/2);var S=d/2-s*p/2;switch(s*=p,o){case v.NOMAL:n&&(t.x=y,t.y=S),t.scaleX=h,t.scaleY=p;break;case v.CENTER:n&&(t.x=y,t.y=S),t.alpha=0,t.scaleX=.5,t.scaleY=.5,t.x=t.x+a/4,t.y=t.y+s/4,egret.Tween.get(t).to({alpha:1,scaleX:h,scaleY:p,x:t.x-a/4,y:t.y-s/4},300,egret.Ease.backOut);break;case v.CENTER_S:t.alpha=0,t.scaleX=.5,t.scaleY=.5,s*=p,t.x=t.x+a/4,t.y=t.y+s/4,egret.Tween.get(t).to({alpha:1,scaleX:h,scaleY:p,x:t.x-a/4,y:t.y-s/4},600,egret.Ease.elasticOut);break;case v.LEFT:n?(t.x=-a,egret.Tween.get(t).to({x:y},500,egret.Ease.cubicOut)):(t.x=-a,egret.Tween.get(t).to({x:0},500,egret.Ease.cubicOut)),t.scaleX=h,t.scaleY=p;break;case v.RIGHT:n?(t.x=a,egret.Tween.get(t).to({x:y},500,egret.Ease.cubicOut)):(t.x=a,egret.Tween.get(t).to({x:0},500,egret.Ease.cubicOut)),t.scaleX=h,t.scaleY=p;break;case v.TOP:n?(t.y=-s,egret.Tween.get(t).to({y:S},500,egret.Ease.cubicOut)):(t.y=-s,egret.Tween.get(t).to({y:0},500,egret.Ease.cubicOut)),t.scaleX=h,t.scaleY=p;break;case v.BOTTOM:n?(t.y=f.stage.stageHeight,egret.Tween.get(t).to({y:S},500,egret.Ease.cubicOut)):(t.y=s,egret.Tween.get(t).to({y:0},500,egret.Ease.cubicOut)),t.scaleX=h,t.scaleY=p;break;case v.LARGER:n&&(t.x=u/2,t.y=d/2),t.alpha=0,t.scaleX=0,t.scaleY=0,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:y,y:S},500,egret.Ease.backInOut);break;case v.MIDDLE_TO_LEFT:n&&(t.x=u/2,t.y=d/2),t.alpha=0,t.scaleX=0,t.scaleY=0,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:0,y:0},600,egret.Ease.backInOut)}return t}},b.removePopUp=function(e,t){void 0===t&&(t=0);var n=!0;n=!e.prototype;var i=egret.getQualifiedClassName(e);if(this.popupDic[i])if(n)for(var r=0;r<this.popupDic[i].length;r++)this.popupDic[i][r]==e&&(this.removePanel(this.popupDic[i][r],t),this.popupDic[i].splice(r,1));else for(r=0;r<this.popupDic[i].length;r++)this.removePanel(this.popupDic[i][r],t),this.popupDic[i].shift()},b.clearPopus=function(){if(this.popupDic)for(var e in this.popupDic)for(var t=0;t<this.popupDic[e].length;t++)this.removePanel(this.popupDic[e][t]),this.popupDic[e].shift()},b.removePanel=function(e,t){void 0===t&&(t=0);var n=egret.getQualifiedClassName(e)+e.hashCode;this.darkSpriteDic[n]&&egret.Tween.get(this.darkSpriteDic[n]).to({alpha:0},100).call(function(){this.darkSpriteDic[n]&&this.darkSpriteDic[n].parent&&this.darkSpriteDic[n].parent.removeChild(this.darkSpriteDic[n]),this.darkSpriteDic[n]=null,delete this.darkSpriteDic[n]},this);var i=600;switch(t){case v.NOMAL:i=0;break;case v.CENTER:egret.Tween.get(e).to({alpha:0,scaleX:0,scaleY:0,x:e.x+e.width/2,y:e.y+e.height/2},300);break;case v.CENTER_S:egret.Tween.get(e).to({alpha:0,scaleX:0,scaleY:0,x:e.x+e.width/2,y:e.y+e.height/2},600,egret.Ease.elasticOut);break;case v.LEFT:egret.Tween.get(e).to({x:-e.width},600,egret.Ease.cubicOut);break;case v.RIGHT:egret.Tween.get(e).to({x:e.width},600,egret.Ease.cubicOut);break;case v.TOP:egret.Tween.get(e).to({y:-e.height},600,egret.Ease.cubicOut);break;case v.BOTTOM:egret.Tween.get(e).to({y:e.height},600,egret.Ease.cubicOut);break;case v.LARGER:egret.Tween.get(e).to({alpha:0,scaleX:0,scaleY:0,x:e.x+e.width/2,y:e.y+e.height/2},300,egret.Ease.sineIn);break;case v.MIDDLE_TO_LEFT:var r=P.Global.screenWidth,o=P.Global.screenHeight;P.SceneMgr.instance.currentScene&&1!=P.SceneMgr.instance.currentScene.scaleX&&(r=P.Global.designHeight/P.SceneMgr.instance.currentScene.scaleX,o=P.Global.designWidth/P.SceneMgr.instance.currentScene.scaleY),egret.Tween.get(e).to({alpha:0,scaleX:0,scaleY:0,x:r/2,y:o/2},600,egret.Ease.sineIn)}egret.setTimeout(function(){e.destroy&&e.destroy(),P.DisplayUtils.removeFromParent(e)},this,i)},b.hasPopup=function(e){var t=egret.getQualifiedClassName(e);if(!("object"!=typeof e||!e.prototype)){if(!e.stage)return!1;for(var n=0;n<this.popupDic[t].length;n++)if(this.popupDic[t][n]==e)return!0}else if(this.popupDic[t]&&0<this.popupDic[t].length)for(n=0;n<this.popupDic[t].length;n++){if(this.popupDic[t][n].stage)return!0;P.DisplayUtils.removeFromParent(this.popupDic[t][n])}return!1},b.resize=function(){},b.darkSpriteDic={},b.popupDic=new Object,b.maskAlpha=.7,b.outSideHide=!1,b.autoScale=!1,b}();P.PopUpMgr=t,(e=v=P.PopUpEffect||(P.PopUpEffect={}))[e.NOMAL=0]="NOMAL",e[e.CENTER=1]="CENTER",e[e.CENTER_S=2]="CENTER_S",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e[e.TOP=5]="TOP",e[e.BOTTOM=6]="BOTTOM",e[e.LARGER=7]="LARGER",e[e.MIDDLE_TO_LEFT=8]="MIDDLE_TO_LEFT"}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib,uniLib,uniLib;!function(u){var e=function(t){function c(){var e=null!==t&&t.apply(this,arguments)||this;return e._autoHide=!0,e._curLoadingId=0,e.itemErrorLister=!1,e._isCacelLoading=!1,e.curLoadingGrp="",e.hasItemLoadErr=!1,e._currentLoadIndex=0,e}return __extends(c,t),Object.defineProperty(c,"instance",{get:function(){return null==this._self&&(this._self=new c,this._self.initLoadingUI()),this._self},enumerable:!0,configurable:!0}),c.prototype.initLoadingUI=function(){this._loadingMap={},this._thisObj={},this._loadSucc={},this._loadError={}},c.prototype.loadGrps=function(e,t,n,i,r,o,a,s){if(void 0===o&&(o=!0),void 0===a&&(a=!0),""==this.curLoadingGrp){var l="merge_"+e.join("|");return RES.createGroup(l,e,!0),c.instance.load(l,function(e){u.ResUtils.removeGroup(l),t&&t.call(i,e)},function(e){u.ResUtils.removeGroup(l),n&&n.call(i,e)},i,r,o,a,s)}u.Console.warn("资源组 ["+this.curLoadingGrp+"] 正在加载,请等待后台加载完成")},c.prototype.loadReses=function(e,t,n,i,r,o,a,s){if(void 0===o&&(o=!0),void 0===a&&(a=!0),""==this.curLoadingGrp){var l="merge_"+e.join("|");return RES.createGroup(l,e,!0),c.instance.load(l,function(e){u.ResUtils.removeGroup(l),t&&t.call(i,e)},n,i,r,o,a,s)}u.Console.warn("资源组 ["+this.curLoadingGrp+"] 正在加载,请等待后台加载完成")},c.prototype.cacelLoad=function(e){e||(e=this.curLoadingGrp),this._isCacelLoading=!0},c.prototype.load=function(e,t,n,i,r,o,a,s){if(void 0===o&&(o=!0),void 0===a&&(a=!0),""==this.curLoadingGrp)return a&&null!=a||(a=!0),r?(this._loadingClass=r,this._loadingClass.prototype||(a?u.UIMgr.instance.showProcessBar(r):u.UIMgr.instance.showLoadingTimeout(r))):this._loadingClass=u.UIMgr.instance.commonLoadUI,s&&null!=s&&u.ResUtils.setMustRes(s),t&&(this._loadSucc[e]=t),n&&(this._loadError[e]=n),i&&(this._thisObj[e]=i),this._autoHide=null==o||o,this.curLoadingGrp=e,this._isCacelLoading=!1,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUniLibResLoadComplete,this),1==c.instance.itemErrorLister&&RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onUniLibResLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onUniLibResProgress,this),u.Console.log("RES.loadGroup ["+e+"] 开始加载"),RES.loadGroup(e);u.Console.warn("资源组 ["+this.curLoadingGrp+"] 正在加载,请等待后台加载完成")},c.prototype.loadArr=function(e,t,n,i,r){this._currentLoadArr&&0<this._currentLoadArr.length?this._currentLoadArr.concat(e):(this._currentLoadArr=e,this._currentLoadIndex=0)},c.prototype.onUniLibResLoadComplete=function(e){this.curLoadingGrp="";var t=e.groupName;e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUniLibResLoadComplete,this),1==c.instance.itemErrorLister&&RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onUniLibResLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onUniLibResProgress,this)),this._loadingClass&&1==this._autoHide&&egret.is(this._loadingClass.prototype,"egret.DisplayObjectContainer")&&u.UIMgr.instance.hideLoading(this._loadingClass),this._loadingClass&&(this._loadingClass=null),this._loadSucc[t]&&0==this._isCacelLoading?this._loadSucc[t].call(this._thisObj[t],e):this._isCacelLoading=!1,this.removeLoadDic(t)},c.prototype.onItemLoadError=function(e){var t=e.resItem;this.hasItemLoadErr=!0,u.Console.error("resItem load err:"+t.url)},c.prototype.onUniLibResLoadError=function(e){this.curLoadingGrp="";var t=e.groupName;u.Console.warn("Group:"+e.groupName+" has failed to load"),e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUniLibResLoadComplete,this),1==c.instance.itemErrorLister&&RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onUniLibResLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onUniLibResProgress,this),this._loadError[t]&&0==this._isCacelLoading?this._loadError[t].call(this._thisObj[t],e):this._isCacelLoading=!1,this.removeLoadDic(t))},c.prototype.removeLoadDic=function(e){this._loadError[e]=null,delete this._loadError[e],this._thisObj[e]=null,delete this._thisObj[e],this._loadSucc[e]=null,delete this._loadSucc[e],this.hasItemLoadErr=!1},c.prototype.onUniLibResProgress=function(e){var t=e.groupName;this._loadingClass&&0==this._isCacelLoading&&(egret.is(this._loadingClass.prototype,"egret.DisplayObjectContainer")?u.UIMgr.instance.showProcessBar(this._loadingClass,e.itemsLoaded,e.itemsTotal,"",e.groupName):this._loadingClass.call(this._thisObj[t],e)),e.itemsLoaded==e.itemsTotal&&1==this.hasItemLoadErr&&this._loadError[t]&&(this.hasItemLoadErr=!1,RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUniLibResLoadComplete,this),1==c.instance.itemErrorLister&&RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onUniLibResLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onUniLibResProgress,this),this._loadError[t]&&0==this._isCacelLoading?this._loadError[t].call(this._thisObj[t],e):this._isCacelLoading=!1,this.removeLoadDic(t))},c.prototype.loadConfig=function(t,n,i,r){-1==t.indexOf("http:")&&RES.destroyRes(t),u.ResUtils.getRes(t,function(e){e&&e.groups?(RES.hasOwnProperty("parseConfig")&&RES.parseConfig(e,n),RES.destroyRes(t),i.call(r)):console.error("游戏config加载失败:"+t)},this,RES.ResourceItem.TYPE_JSON)},c.prototype.loadedCfg=function(e){},c.prototype.removeRefrence=function(){this._loadSucc&&(this._loadSucc=null),this._loadingClass&&(this._loadingClass=null),this._loadError&&(this._loadSucc=null),this._thisObj&&(this._thisObj=null)},c._self=null,c}(egret.EventDispatcher);u.ResLoadMgr=e}(uniLib||(uniLib={})),function(s){var e=function(){function e(){this._currentScene=null,this._lastScene=null}return Object.defineProperty(e,"instance",{get:function(){return null==this._self&&(this._self=new e,null==this._self.sceneLayer&&(this._self.sceneLayer=new egret.DisplayObjectContainer,egret.MainContext.instance.stage.addChild(this._self.sceneLayer))),this._self},enumerable:!0,configurable:!0}),e.prototype.init=function(e){null==this._currentScene&&(this._currentScene=e)},e.prototype.changeScene=function(e,t,n,i){var r=this;if(n&&s.Global.isInGame){var o=this._currentScene.currentGame;return null!=o&&(o.parent&&o.parent.removeChild(o),o.destroy()),o=new e(t),this._currentScene.currentGame=o,this._currentScene.gameLayer.addChild(o),s.PopUpMgr.clearPopus(),s.PopUpMgr.init(),o}s.PopUpMgr.clearPopus();var a=new e(t);return null!=this._currentScene&&(this._lastScene=this._currentScene),this._currentScene=a,this._currentScene.once(egret.Event.ADDED_TO_STAGE,function(e){r._lastScene&&r._lastScene!=r._currentScene&&(s.DisplayUtils.removeFromParent(this._lastScene),r._lastScene.destroy?r._lastScene.destroy():s.Console.warn("场景销毁方法不存在"),r._lastScene=null)},this),this.sceneLayer.addChild(this._currentScene),s.DebugView.Instance.check(),s.PopUpMgr.init(),this._currentScene},Object.defineProperty(e.prototype,"currentScene",{get:function(){return this._currentScene},enumerable:!0,configurable:!0}),e.prototype.lastSceneLeave=function(){null!=this._lastScene&&(this._lastScene.parent&&this._lastScene.parent.removeChild(this._lastScene),this._lastScene.destroy(),this._lastScene=null)},e._self=null,e}();s.SceneMgr=e}(uniLib||(uniLib={})),function(u){var i=function(){function e(){this.isStopped=!1,this.isMusic=!1,this.name="",this.position=0,this.egret_channel=null}return e.prototype.stop=function(){this.egret_channel&&(this.egret_channel.position&&(this.position=this.egret_channel.position),this.egret_channel.stop(),this.isStopped=!0,this.egret_channel=null)},e}(),e=function(){function n(){this._soundRes={},this._musicVolume=1,this._soundVolume=1,this._musicOpen=!0,this._soundOpen=!0,this._soundChanelDic={},this._activeSound={},this._activeSoundLoop={},this._soundPause=!1,this.loadTimeDic={},this._currentMusicIndex=0,this._currentMusicChanel=null}return Object.defineProperty(n,"instance",{get:function(){var t=this;return null==this._instance&&(this._instance=new n,u.Utils.getLocalStorage(n.SOUND_TOGGLE,function(e){null!=e&&(t._instance.soundOpen=Boolean(e))}),u.Utils.getLocalStorage(n.MUSIC_TOGGLE,function(e){null!=e&&(t._instance.musicOpen=Boolean(e))}),u.Utils.getLocalStorage(n.SOUND_VOLUME,function(e){null!=e&&(t._instance.soundVolume=Number(e))}),u.Utils.getLocalStorage(n.MUSIC_VOLUME,function(e){null!=e&&(t._instance.musicVolume=Number(e))}),egret.Capabilities.supportVersion<"3.2.6"&&setTimeout(function(){u.ZQGameSdk.speakerActive()},1e4)),this._instance},enumerable:!0,configurable:!0}),n.prototype.onActive=function(e){this._musicOpen&&egret.Capabilities.supportVersion<"3.2.6"&&setTimeout(function(){u.ZQGameSdk.speakerActive(),n.instance.resumeBgMusic()},2e3)},n.prototype.onDeActive=function(e){egret.Capabilities.supportVersion<"3.2.6"&&n.instance.pauseBgMusic()},Object.defineProperty(n.prototype,"soundPause",{get:function(){return this._soundPause},set:function(e){this._soundPause=e},enumerable:!0,configurable:!0}),n.prototype.playSound2=function(e,t,n,i,r){return void 0===t&&(t=1),null==this._activeSound[e]?this.playSound(e,t,n,i,r):void 0},n.prototype.playSound=function(e,t,n,i,r){if(void 0===t&&(t=1),this._soundOpen&&1!=this._soundPause){var o,a=this;if(!this._activeSound[e]||0!=this._activeSound[e].$loops){if(i){o=this.play(e,t,n,[function(e,t){t.stop(),a.stopSound(e),i&&i.call(r)}],!1)}else o=this.play(e,t,n,[],!1);return null!=o&&(this._activeSound[e]=o),o}}},n.prototype.stopSounds=function(){for(var e in this._activeSound)this.stopSound(e)},n.prototype.stopSound=function(e){null!=this._activeSound[e]&&null!=this._activeSound[e]&&(0==this._activeSound[e].isStopped&&(this._activeSound[e].volume=0,this._activeSound[e].stop(),this._activeSound[e].dispatchEventWith(egret.Event.SOUND_COMPLETE)),this._activeSound[e]=null,delete this._activeSound[e])},n.prototype.play=function(i,r,o,a,s){void 0===r&&(r=1),void 0===s&&(s=!0);var n,l=this;a&&0<a.length&&(n=function(e){var t=e.currentTarget;null!=t&&null!=t&&(t.removeEventListener(egret.Event.SOUND_COMPLETE,n,l),null!=a&&null!=a&&(1<a.length?a[0].call(a[1],i,t):a[0](i,t)))});var e=0;if(null!=this.loadTimeDic[i]&&(e=this.loadTimeDic[i]),this.loadTimeDic[i]=(new Date).getTime(),null==this._soundRes[i]||null==this._soundRes[i])return u.ResUtils.getRes(i,function(e){if(1==u.Global.initOpt.useSoundPlugin&&(e=new Howl({src:[e.url],loop:!!s,volume:s?l._musicVolume:l._soundVolume})),e)if(l._soundRes[i]=e,1==s){var t=!0;if(l._currentMusicChanel&&null!=l.loadTimeDic[l._currentMusicChanel.name]&&null!=l.loadTimeDic[i]&&l.loadTimeDic[l._currentMusicChanel.name]>l.loadTimeDic[i]&&(t=!1),1==t){var n=l.play(i,r,o,a,s);l.resetCurrentMusic(n,i)}}else(new Date).getTime()-l.loadTimeDic[i]<=1e3&&(l.loadTimeDic[i]=0,l._activeSound[i]=l.play(i,r,o,a,s))},null,egret.URLLoaderDataFormat.SOUND),null;if(this._soundRes[i]){if(0==s&&(new Date).getTime()-e<125)return this.loadTimeDic[i]=e,null;if(1!=u.Global.initOpt.useSoundPlugin){var t=this._soundRes[i].play(o,r);if(null!=t&&null!=t){n&&t.addEventListener(egret.Event.SOUND_COMPLETE,n,l);var c=1==s?this._musicVolume:this._soundVolume;return t.volume=c,t}return null}this.howBgSoundId=this._soundRes[i].play()}return null},n.prototype.randomSounds=function(e){e&&(this._bgMusics=e);var t=Math.floor(this._bgMusics.length*Math.random());this.play(this._bgMusics[t],0)},n.prototype.playBgMusic=function(e,t){this.stopBgMusic();var n=this;if(n._bgMusics=e,t&&(n._currentMusicIndex=t),n._musicOpen&&0<n._bgMusics.length&&(n._currentMusicIndex>=n._bgMusics.length&&(n._currentMusicIndex=0),null==n._currentMusicChanel||n._bgMusics[n._currentMusicIndex]!=n._currentMusicChanel.name)){var i=n.play(n._bgMusics[n._currentMusicIndex],1,t,[n.onMusicEnd,n]);n.resetCurrentMusic(i,n._bgMusics[n._currentMusicIndex])}},n.prototype.onMusicEnd=function(e){var t=this;if(t._currentMusicIndex++,t._currentMusicIndex==t._bgMusics.length&&(t._currentMusicIndex=0),t._musicOpen&&0<t._bgMusics.length){var n=t.play(t._bgMusics[t._currentMusicIndex],1,0,[t.onMusicEnd,t]);t.resetCurrentMusic(n,t._bgMusics[t._currentMusicIndex])}},n.prototype.resetCurrentMusic=function(e,t){if(null!=e&&null!=e||0!=u.Global.initOpt.useSoundPlugin){var n=new i;n.name=t,n.isMusic=!0,1==u.Global.initOpt.useSoundPlugin?n.egret_channel=this._soundRes[t]:n.egret_channel=e,n.res=this._soundRes[t],null!=this._currentMusicChanel&&this._currentMusicChanel!=n&&this._currentMusicChanel.name!=n.name&&this.stopBgMusic(),this._currentMusicChanel=n,this._currentMusicChanel.isStopped=!1,this._currentMusicChanel.egret_channel&&this._currentMusicChanel.egret_channel.volume&&(this._currentMusicChanel.egret_channel.volume=this._musicVolume)}},n.prototype.stopBgMusic=function(e){1==u.Global.initOpt.useSoundPlugin?e&&"string"==typeof e?this._soundRes[e]&&this._soundRes.stop():this._currentMusicChanel&&this._currentMusicChanel.stop():e&&this._currentMusicChanel?"string"==typeof e?e==this._currentMusicChanel.name&&(this._currentMusicChanel.stop(),this.loadTimeDic[this._currentMusicChanel.name]=0,this._currentMusicChanel=null):0<=e.indexOf(this._currentMusicChanel.name)&&(this._currentMusicChanel.stop(),this.loadTimeDic[this._currentMusicChanel.name]=0,this._currentMusicChanel=null):this._currentMusicChanel&&(this._currentMusicChanel.stop(),this.loadTimeDic[this._currentMusicChanel.name]=0,this._currentMusicChanel=null)},n.prototype.pauseBgMusic=function(){this._currentMusicChanel&&this._currentMusicChanel.stop()},n.prototype.resumeBgMusic=function(){if(this._musicOpen&&(!this._currentMusicChanel||this._currentMusicChanel.isStopped)){var e=0;if(this._currentMusicChanel&&(e=this._currentMusicChanel.position),this._bgMusics&&0<this._bgMusics.length){var t=this.play(this._bgMusics[this._currentMusicIndex],1,e,[this.onMusicEnd,this]);this.resetCurrentMusic(t,this._bgMusics[this._currentMusicIndex])}}},n.prototype.isPlayingBgMusic=function(){return!(!this._currentMusicChanel||0!=this._currentMusicChanel.isStopped)},n.prototype.isSoundPlaying=function(e){return!(!this._activeSound[e]||!this._activeSound[e].position)},Object.defineProperty(n.prototype,"musicVolume",{get:function(){return this._musicVolume},set:function(e){this._musicVolume=e,this._currentMusicChanel&&this._currentMusicChanel.egret_channel&&(1==u.Global.initOpt.useSoundPlugin?Howler.volume(e):this._currentMusicChanel.egret_channel.volume=e),u.Utils.setLocalStorage(n.MUSIC_VOLUME,this._musicVolume)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"soundVolume",{get:function(){return this._soundVolume},set:function(e){this._soundVolume=e,u.Utils.setLocalStorage(n.SOUND_VOLUME,this._soundVolume)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"musicOpen",{get:function(){return this._musicOpen},set:function(e){(this._musicOpen=e)?this.resumeBgMusic():this.pauseBgMusic(),u.Utils.setLocalStorage(n.MUSIC_TOGGLE,this._musicOpen)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"soundOpen",{get:function(){return this._soundOpen},set:function(e){this._soundOpen=e,u.Utils.setLocalStorage(n.SOUND_TOGGLE,this._soundOpen)},enumerable:!0,configurable:!0}),n.isFirst=!0,n.SOUND_TOGGLE="sound_toggle",n.MUSIC_TOGGLE="music_toggle",n.SOUND_VOLUME="sound_volume",n.MUSIC_VOLUME="music_volume",n}();u.SoundMgr=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib,Pmd,uniLib,uniLib,uniLib,uniLib,uniLib,SockType,SockByinaryType,Pmd,uniLib;!function(l){var e=function(e){function s(){return e.call(this)||this}return __extends(s,e),Object.defineProperty(s,"instance",{get:function(){return null==this._self&&(this._self=new s),this._self},enumerable:!0,configurable:!0}),s.prototype.init=function(){this.sendedKb=0,this.receiveKb=0,this.sendB=0,this.receiveB=0,this.secondTimer=new egret.Timer(1e3,0),this.secondTimer.addEventListener(egret.TimerEvent.TIMER,this.dispatchSecondEvent,this),this.secondTimer.start(),this.requestPing()},s.prototype.dispatchSecondEvent=function(e){l.Console.isDevMode||(this.dispatchEventWith(s.SENDANDRECEIVE,!1,{send:this.sendB,receive:this.receiveB}),this.sendB=this.receiveB=0)},s.prototype.requestPing=function(){var e=new Pmd.SetPingTimeNullUserPmd_CS;l.NetMgr.ws.sendPlat(e)},Object.defineProperty(s.prototype,"socketStatus",{set:function(e){this.dispatchEventWith(s.SOCKETSTATUS,!1,e)},enumerable:!0,configurable:!0}),s.prototype.messageCharStatistics=function(e,t,n){if(void 0===n&&(n="utf-8"),!l.Console.isDevMode){var i,r,o,a=0;if("utf-16"===(n=n?n.toLowerCase():"")||"utf16"===n)for(r=0,o=e.length;r<o;r++)a+=(i=e.charCodeAt(r))<=65535?2:4;else for(r=0,o=e.length;r<o;r++)a+=(i=e.charCodeAt(r))<=127?1:i<=2047?2:i<=65535?3:4;"send"==t?(this.sendB+=a,this.sendedKb+=a/1024):(this.receiveB+=a,this.receiveKb+=a/1024),this.dispatchEventWith(s.SENDEDANDRECEIVED,!1,{sended:this.sendedKb,received:this.receiveKb})}},s.prototype.destroy=function(){this.secondTimer&&(this.secondTimer.removeEventListener(egret.TimerEvent.TIMER,this.dispatchSecondEvent,this),this.secondTimer.stop())},s.PING="ping",s.SENDANDRECEIVE="sendAndReceive",s.SENDEDANDRECEIVED="sendedAndReceived",s.SOCKETSTATUS="socketStatus",s._self=null,s}(egret.EventDispatcher);l.StatistcsMgr=e}(uniLib||(uniLib={})),(Pmd||(Pmd={})).OnSetPingTimeNullUserPmd_CS=function(e){uniLib.StatistcsMgr.instance.dispatchEventWith(uniLib.StatistcsMgr.PING,!1,e.pingmsec)},function(u){var e=function(){function e(){this._uis=new Object,this._loadings=new Object,this._effects={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._self&&(this._self=new e),this._self},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DefaultLoading",{set:function(e){this.defaultLoadingView=e},enumerable:!0,configurable:!0}),e.prototype.showUI=function(e,t,n,i,r,o,a){void 0===i&&(i=!1),void 0===r&&(r=!1);var s=this,l=egret.getQualifiedClassName(e),c=function(e){s._uis[l]&&s._uis[l].hasEventListener(egret.Event.REMOVED_FROM_STAGE,c,s)&&s._uis[l].removeEventListener(egret.Event.REMOVED_FROM_STAGE,c,s),s._uis[l].destroy&&s._uis[l].destroy(),0==i&&(s._uis[l]=null,delete s._uis[l])};if(null==this._uis[l]?(this._uis[l]=new e(t),o&&(this._uis[l].x=o),a&&(this._uis[l].y=a)):this._uis[l].updateUIData&&this._uis[l].updateUIData(t),this._uis[l])return 0==i&&(this._uis[l].hasEventListener(egret.Event.REMOVED_FROM_STAGE,c,this)||this._uis[l].addEventListener(egret.Event.REMOVED_FROM_STAGE,c,this)),null!=this._uis[l].stage&&null!=this._uis[l].parent||(n&&null!=n&&n instanceof egret.DisplayObjectContainer?n.addChild(this._uis[l]):u.SceneMgr.instance.currentScene&&u.SceneMgr.instance.currentScene.topLayer?u.SceneMgr.instance.currentScene.topLayer.addChild(this._uis[l]):egret.MainContext.instance.stage.addChild(this._uis[l])),this._uis[l]},Object.defineProperty(e.prototype,"commonLoadUI",{get:function(){return this._commonLoadUI},set:function(e){this._commonLoadUI=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tipsLoadUI",{get:function(){return this._tipsLoadUI},set:function(e){this._tipsLoadUI=e},enumerable:!0,configurable:!0}),e.prototype.showProcessBar=function(e,t,n,i,r,o,a){return void 0===o&&(o=!1),this.showLoading(e,t,n,i,r,o,"",a)},e.prototype.showLoadingParam=function(e,t,n){return this.showLoading(e,2,100,"","",!1,"",n,t)},e.prototype.showLoadingTimeout=function(e,t,n,i){void 0===t&&(t=""),void 0===n&&(n=2e4),void 0===i&&(i=""),this.showLoading(e||this._tipsLoadUI,null,null,i,null,!1,t);var r=this;n&&setTimeout(function(){r.hideLoading(e,t)},n)},e.prototype.showLoading=function(e,t,n,i,r,o,a,s,l){void 0===o&&(o=!1),void 0===a&&(a=""),""==a?e&&null!=e?a=egret.getQualifiedClassName(e):(a=egret.getQualifiedClassName(this._commonLoadUI),e=this._commonLoadUI):null==e&&(a=egret.getQualifiedClassName(this._tipsLoadUI),e=this._tipsLoadUI),u.StringUtils.stringIsNullOrEmpty(a)||null==e||(null==this._loadings[a]?this._loadings[a]=new e(l):this._loadings[a].update&&l&&this._loadings[a].update(l),null==this._loadings[a].stage&&(this._loadings[a].setProgress&&this._loadings[a].setProgress(2,100),s?s.addChild(this._loadings[a]):u.SceneMgr.instance.currentScene?u.SceneMgr.instance.currentScene.currentGame&&u.SceneMgr.instance.currentScene.currentGame.parent?u.SceneMgr.instance.currentScene.currentGame.addChild(this._loadings[a]):u.SceneMgr.instance.currentScene.tipsLayer?u.SceneMgr.instance.currentScene.tipsLayer.addChild(this._loadings[a]):egret.MainContext.instance.stage.addChild(this._loadings[a]):egret.MainContext.instance.stage.addChild(this._loadings[a])),this._loadings[a]&&this._loadings[a].setProgress&&this._loadings[a].setProgress(t,n,i,r,o))},e.prototype.showParticle=function(t,e,n,i){var r=function(e){this._effects[t].removeEventListener(egret.Event.COMPLETE,r,this),u.DisplayUtils.removeFromParent(e.target)};try{null==this._effects[t]&&(this._effects[t]=u.DisplayUtils.createParticle(t)),n&&(this._effects[t].emitterX=n),i&&(this._effects[t].emitterY=i),null==this._effects[t].stage&&(u.SceneMgr.instance.currentScene.effectLayer?u.SceneMgr.instance.currentScene.effectLayer.addChild(this._effects[t]):u.SceneMgr.instance.currentScene.addChild(this._effects[t]),this._effects[t].start(e),this._effects[t].addEventListener(egret.Event.COMPLETE,r,this))}catch(e){u.Console.error("找不到粒子效果")}return this._effects[t]||null},e.prototype.hideLoading=function(e,t,n,i){if(void 0===t&&(t=""),void 0===n&&(n=!0),void 0===i&&(i=!0),""==t&&(e&&null!=e?t=egret.getQualifiedClassName(e):(t=egret.getQualifiedClassName(this._commonLoadUI),e=this._commonLoadUI)),null!=this._loadings[t]){if(1==i){u.DisplayUtils.removeFromParent(this._loadings[t]);try{this._loadings[t].destroy&&this._loadings[t].destroy()}catch(e){}}else this._loadings[t].destroy?this._loadings[t].destroy():u.DisplayUtils.removeFromParent(this._loadings[t]);n&&(this._loadings[t]=null,delete this._loadings[t])}},e.prototype.hideUI=function(e,t){void 0===t&&(t=!0);var n=egret.getQualifiedClassName(e);u.DisplayUtils.removeFromParent(this._uis[n]),t&&(this._uis[n]=null,delete this._uis[n])},e.prototype.destroyUI=function(e){var t=egret.getQualifiedClassName(e);null!=this._uis[t]&&null!=this._uis[t]&&(u.DisplayUtils.removeFromParent(this._uis[t]),delete this._uis[t])},e.prototype.clearOldSceneUis=function(){if(this._uis)for(var e in this._uis){(t=this._uis[e])&&null==t.parent&&delete this._uis[e]}if(this._loadings)for(var e in this._loadings){var t;(t=this._loadings[e])&&null==t.parent&&delete this._loadings[e]}},e._self=null,e}();u.UIMgr=e}(uniLib||(uniLib={})),function(n){n.checkServerReturnCodeError=function(e,t){return null==e||!n.StringUtils.stringIsNullOrEmpty(e.errno)&&"0"!=e.errno},n.doServerReturnCodeError=function(e,t){if(null==e)return!0;switch(e.errno||(e.errno="0"),Number(e.errno)){case Pmd.HttpReturnCode.HttpReturnCode_SignError:n.Global.isH5?(n.HttpClient._reconnectTimes++,5<n.HttpClient._reconnectTimes?(n.Utils.clearLocalStorage(n.Global.lobbyGameId+"|"+n.Global.getPlatId()+"|platToken"),n.Global.LobbyPlatInfo=null,n.Utils.restart("登录服务器失败,请重新登录!","确定")):t.reLogin()):(n.Utils.clearLocalStorage(n.Global.lobbyGameId+"|"+n.Global.getPlatId()+"|platToken"),n.Global.LobbyPlatInfo=null,n.Utils.restart("欢迎回来，点击确定将登录游戏","确定"));break;case Pmd.HttpReturnCode.HttpReturnCode_ServerShutDown:n.Global.hasEventListener(n.ZqEvent.ON_SERVER_SHUTDOWN)?n.Global.dispatchEvent(n.ZqEvent.ON_SERVER_SHUTDOWN,{gameId:t.GameID,zoneId:t.ZoneID}):n.Utils.restart("连接服务器失败,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_GameZoneListError:n.Utils.clearLocalStorage(n.Global.lobbyGameId+"|"+n.Global.getPlatId()+"|platToken"),n.Global.LobbyPlatInfo=null,n.Utils.restart("找不到游戏区列个,请重新登录!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_JsonSyntaxError:case Pmd.HttpReturnCode.HttpReturnCode_JsonMessageError:n.Utils.clearLocalStorage(n.Global.lobbyGameId+"|"+n.Global.getPlatId()+"|platToken"),n.Global.LobbyPlatInfo=null,n.Utils.restart("登陆协议语法错误,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_TokenValueError:n.Utils.clearLocalStorage(n.Global.lobbyGameId+"|"+n.Global.getPlatId()+"|platToken"),n.Global.LobbyPlatInfo=null,n.Utils.restart("认证信息为空 ,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_LuaScriptError:0<n.Global.debugLevel&&n.Utils.restart("游戏服务器脚本出错,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_SdkCheckSignErr:return n.Utils.clearLocalStorage(n.Global.lobbyGameId+"|"+n.Global.getPlatId()+"|platToken"),n.Global.LobbyPlatInfo=null,n.Utils.restart("第三方认证错误 ,请重新尝试!","确定"),!1;case Pmd.HttpReturnCode.HttpReturnCode_NoSdkServer:case Pmd.HttpReturnCode.HttpReturnCode_Sdk3PartyServerErr:return n.Utils.clearLocalStorage(n.Global.lobbyGameId+"|"+n.Global.getPlatId()+"|platToken"),n.Global.LobbyPlatInfo=null,n.Utils.restart("第三方认证服务器未开 ,请重新尝试!","确定"),!1;case Pmd.HttpReturnCode.HttpReturnCode_NoGatewaytDown:n.Utils.restart("没有可用网关,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_ProtobufErr:n.Utils.clearLocalStorage(n.Global.lobbyGameId+"|"+n.Global.getPlatId()+"|platToken"),n.Global.LobbyPlatInfo=null,n.Utils.restart("协议语法错误,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_GatewayErr:n.Utils.clearLocalStorage(n.Global.lobbyGameId+"|"+n.Global.getPlatId()+"|platToken"),n.Global.LobbyPlatInfo=null,n.Utils.restart("网关错误,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_Timeout:return n.Utils.restart("登陆协议返回超时,请重新尝试!","确定"),!1;default:n.Utils.clearLocalStorage(n.Global.lobbyGameId+"|"+n.Global.getPlatId()+"|platToken"),n.Global.LobbyPlatInfo=null,n.Utils.restart("登录服务器失败,请重新登录!","确定")}return!0}}(uniLib||(uniLib={})),function(h){var e=function(){function l(){this.checkingGateWayUrl=!1,this.OnResponse=function(t){var e,n=t.do.split(".");n[n.length-1]="On"+n[n.length-1];for(var i="",r=0;r<n.length;r++)i+=n[r]+(r==n.length-1?"":".");if(null!=h.getDefinitionByName(i)&&(e=h.getDefinitionByName(i)),null==e)return h.Console.warn("[HTTP RUN] unprocessed network message: "+JSON.stringify(t)),!1;try{return e(t.data),!0}catch(e){h.Console.error("[HTTP RUN ERROR]"+e.toString()+"\n"+JSON.stringify(t))}return!1}}return l.prototype.init=function(e,t,n){this.LoginUrl=e,this.GameID=Number(t),this.ZoneID=Number(n),"true"==h.BrowersUtils.GetRequest("debug")&&(h.BrowersUtils.GetRequest("loginUrl")&&(this.LoginUrl=h.BrowersUtils.GetRequest("loginUrl")),0==h.Global.isInGame&&(h.StringUtils.stringIsNullOrEmpty(h.BrowersUtils.GetRequest("gameid"))||(this.GameID=Number(h.BrowersUtils.GetRequest("gameid"))),null!=h.BrowersUtils.GetRequest("zoneid")&&NaN!=h.BrowersUtils.GetRequest("zoneid")&&(this.ZoneID=Number(h.BrowersUtils.GetRequest("zoneid"))))),"false"==h.BrowersUtils.GetRequest("cacheToken")&&(h.Global.isCacheToken=!1)},l.prototype.initCallBack=function(e,t,n){e&&(this._loginCallBackFunction=e),t&&(this._loginFail=t),n&&(this._loginCallBackObj=n)},l.prototype.h5platLogin=function(e,t,n,i){e&&(this.ZoneID=e),t&&(this._loginCallBackFunction=t),n&&(this._loginFail=n),i&&(this._loginCallBackObj=i),!h.StringUtils.stringIsNullOrEmpty(this.LoginUrl)&&this.GameID?(this.platInfo=h.Global.initPlatInfo(),this.ZoneID?this.login(this.platInfo):this.requestZoneList(this.GameID,this.onGetZoneList,this)):h.Console.error("请先使用init方法初始化连接信息")},l.prototype.onGetZoneList=function(e){e&&e.zonelist&&0<e.zonelist.length&&(e.zonelist.sort(function(e,t){return e.onlinenum-t.onlinenum}),this.ZoneID=e.zonelist[0].zoneid),this.ZoneID?this.login(this.platInfo):h.Console.error("当前没有区服可用!!!")},l.prototype.login=function(e){if(h.Global.LobbyPlatInfo)h.NetMgr.UID=Number(h.Global.LobbyPlatInfo.uid),h.BrowersUtils.extData.inviter=h.NetMgr.UID.toString(),h.Global.LobbyPlatInfo.GatewayUrl&&(this.GatewayUrl=h.Global.LobbyPlatInfo.GatewayUrl),h.NetMgr.PlatToken=h.Global.LobbyPlatInfo.unigame_plat_login,h.NetMgr.PlatKey=h.Global.LobbyPlatInfo.unigame_plat_key,h.NetMgr.platTokenTimeOut=h.Global.LobbyPlatInfo.unigame_plat_login_life,h.Global.LobbyPlatInfo.platinfo?(this.platInfo=h.Global.LobbyPlatInfo.platinfo,this.platInfo.account?h.NetMgr.PlatUID=this.platInfo.account:h.NetMgr.PlatUID=this.platInfo.uid):h.NetMgr.PlatUID=h.NetMgr.UID.toString(),this.ZoneID&&(this._loginCallBackFunction&&this._loginCallBackFunction.call(this._loginCallBackObj,h.Global.LobbyPlatInfo.platinfo),h.Utils.setLocalStorage(CommonConsts.UNI_LAST_PLAT_INFO,h.Global.platId));else{var t=new Pmd.PlatTokenLogin;t.platinfo=e,this.initLogin(h.Global.platInfo.platid,t)}},l.prototype.sendTo=function(t,e,n,i,r){var o=this;void 0===r&&(r=h.CompressType.NONE);var a,s=new Pmd.HttpPackage;"Pmd.CreatePlatOrderRequestSdkPmd_C"==e&&(h.PayMgr.Instance.lastRechargeInfo=n),s.do=e,s.data=n,h.StringUtils.stringIsNullOrEmpty(h.NetMgr.ZoneUID)?h.NetMgr.UID&&(s.uid=h.NetMgr.UID.toString()):s.uid=h.NetMgr.ZoneUID,this.GameID&&(s.gameid=this.GameID),this.ZoneID&&-1!=this.ZoneID&&(s.zoneid=this.ZoneID),h.StringUtils.stringIsNullOrEmpty(h.NetMgr.PlatToken)||(s.unigame_plat_login=h.NetMgr.PlatToken,a=Math.floor((new Date).getTime()/1e3),s.unigame_plat_timestamp=a);var l,c=JSON.stringify(s),u="?";if(h.StringUtils.stringIsNullOrEmpty(h.NetMgr.PlatKey)||(t+=u+"unigame_plat_sign="+h.StringUtils.MD5(c+(a?a.toString():"")+h.NetMgr.PlatKey)+"&do="+s.do,u="?"),this._resq=new h.HttpRequest(function(e){return o.onHttpComplete(e,i,r)},function(e){null!=i&&0!=i(null)||(0==this.onHttpError()&&h.Utils.restart("登陆错误,请重新登陆","确定"),h.Console.error("网络请求失败,请检查网络:"+t))},this),l=c,r!=h.CompressType.NONE){t+=u+"compress="+h.CompressUtil.compressStr[r],u="?";var d=h.CompressUtil.stringToArray(c,new Array(c.length));c=h.CompressUtil.compressByType(d,r),this._resq.dataFormat="binary"}h.Global.platInfo&&h.Global.platInfo.imei&&(t+=u+"imei="+h.Global.platInfo.imei,u="&"),h.Console.isDevMode&&h.Console.log("[HTTP SEND] "+l+"\n"+t),this._resq.open(t),this._resq.send(c)},l.prototype.onHttpComplete=function(e,t,n){var i,r,o,a=this;if(i=a._resq.url,r=e,n!=h.CompressType.NONE){var s=new Uint8Array(r);r=h.CompressUtil.uncompressByType(s,n),r=h.CompressUtil.Utf8ArrayToStr(r)}if(h.Console.isDevMode&&h.Console.log("[HTTP RECV] "+r+"\n"+i),(o=JSON.parse(r)).gameid&&(a.GameID=o.gameid),o.zoneid&&(a.ZoneID=o.zoneid),h.checkServerReturnCodeError(o,a)){if(("Pmd.MobileRegeristReturnCreateAccountFailLoginUserPmd_S"==o.do||"Pmd.UserRequestPlatTokenLoginFailLoginUserPmd_S"==o.do||"plat-token-login"==o.do||"request-select-zone"==o.do||"Pmd.EmailRegeristReturnCreateAccountFailLoginUserPmd_S"==o.do)&&(h.Utils.clearLocalStorage(h.Global.lobbyGameId+"|"+h.Global.getPlatId()+"|platToken"),3==Number(o.errno)&&(h.Global.platInfo=null,console.error("bindcode:"+o.data.bindcode),o.data&&!h.StringUtils.stringIsNullOrEmpty(o.data.bindcode)&&h.Utils.setLocalStorage("bindcode",o.data.bindcode)),26==Number(o.errno)&&o&&o.data&&(o.data.retcode=26),1==a.onHttpError(null,o)))return;if(("Pmd.MobileRegistReturnRandCodeLoginUserPmd_S"==o.do||"Pmd.MobileRegeristReturnRandCodeLoginUserPmd_S"==o.do||"Pmd.MobileRegistRequestRandCodeLoginUserPmd_C"==o.do)&&1==t(o))return;return h.Console.error("[HTTP RECV ERROR] "+r+"\n"+i),void h.doServerReturnCodeError(o,a)}l._reconnectTimes=0,null!=t?t(o.data):null!=a.OnResponse&&a.OnResponse(o)},l.prototype.reLogin=function(){h.Utils.clearLocalStorage(h.Global.lobbyGameId+"|"+h.Global.getPlatId()+"|platToken"),h.Global.LobbyPlatInfo=null,this.h5platLogin()},l.prototype.onHttpError=function(e,t){if(void 0===e&&(e=null),this._loginFail){var n=this._loginFail.call(this._loginCallBackObj,t?t.data:0);if(this._loginFail=null,this._loginCallBackFunction=null,this._loginCallBackObj=null,1==n)return!0}else h.Console.log("onHttpError _loginFail nil");return!1},l.prototype.initLogin=function(e,r,o){void 0===o&&(o=h.CompressType.NONE);var a=this;h.Global.getPlatToken(function(e){if(null!=e&&1==h.Global.isCacheToken){var t=e;null==h.Global.LobbyPlatInfo&&1==h.Global.lobbyMode&&(h.Global.LobbyPlatInfo=t),t.GatewayUrl?(a.GatewayUrl=t.GatewayUrl,a._loginCallBackFunction&&a._loginCallBackFunction.call(a._loginCallBackObj,t.platinfo),a._loginFail&&(a._loginFail=null),a._loginCallBackObj&&(a._loginCallBackObj=null),h.Utils.setLocalStorage(CommonConsts.UNI_LAST_PLAT_INFO,h.Global.platId)):-1!=a.ZoneID&&a.selectZone(a.ZoneID,function(){a.loginSuccess(a.platInfo)},a)}else{if(r.platinfo&&1==h.Global.isCacheToken){if((!r.platinfo.platid||Number(0==r.platinfo.platid))&&(null==r.platinfo.account||""==r.platinfo.account))if(r.platinfo.imei)r.platinfo.account=r.platinfo.imei;else{var n=h.Utils.getLocalStorage("agent_user_Key");n||(n=Date.now()+"-"+Math.random(),h.Utils.setLocalStorage("agent_user_Key",n)),null!=r.platinfo.imei&&""!=r.platinfo.imei||(r.platinfo.imei=n),r.platinfo.account=n}r.platinfo.account&&(r.platinfo.account=r.platinfo.account.split(":")[0])}r.platinfo.osname=h.DeviceUtils.os_name+"_"+h.DeviceUtils.os_version;var i=h.Utils.getLocalStorage("bindcode");console.error("bindcode:"+i),h.StringUtils.stringIsNullOrEmpty(i)||(r.platinfo.bindcode=i),a.sendTo(a.LoginUrl,"plat-token-login",r,function(e){return 0!=a.cacheLoginInfo(e)&&(console.error("###clear bindcode###"),h.Utils.clearLocalStorage("bindcode"),-1!=a.ZoneID?a.selectZone(a.ZoneID,function(){a.loginSuccess(e.platinfo)},a,o):a.loginSuccess(e.platinfo),!0)},o)}h.Global.zoneId=a.ZoneID})},l.prototype.loginSuccess=function(e){this._loginCallBackFunction&&this._loginCallBackFunction.call(this._loginCallBackObj,e),this._loginFail&&(this._loginFail=null),h.Utils.setLocalStorage(CommonConsts.UNI_LAST_PLAT_INFO,h.Global.platId)},l.prototype.requestZoneList=function(e,t,n,i){var r=this,o=new Pmd.RequestZoneList;this.sendTo(this.LoginUrl,"request-zone-list",o,function(e){return r.ZoneList=e.zonelist,null!=t&&t.call(n,e),!0},i)},l.prototype.reSelectZone=function(e,t){this.GatewayUrl=null,h.Global.LobbyPlatInfo.GatewayUrl=null,this.selectZone(this.ZoneID,function(){e.call(t)},this)},l.prototype.selectZone=function(e,t,i,n){void 0===n&&(n=h.CompressType.NONE);var r=this;e&&(r.ZoneID=e);var o=new Pmd.RequestSelectZone;r.sendTo(r.LoginUrl,"request-select-zone",o,function(n){if(!h.checkServerReturnCodeError(n,r))return n&&n.gatewayurl&&(r.GatewayUrl=n.gatewayurl),h.Global.getPlatToken(function(e){if(null!=e&&1==h.Global.isCacheToken){var t=e;t&&(n&&n.gatewayurl&&(t.GatewayUrl=n.gatewayurl,t.GatewayUrlWs=n.gatewayurlws+"/json"),1==h.Global.isCacheToken&&h.Global.setPlatToken(t,h.Global.getPlatId(),r.GameID)),n&&n.zoneuid&&(h.NetMgr.ZoneUID=n.zoneuid),h.Global.LobbyPlatInfo=t}}),t&&t.call(i),!0;h.doServerReturnCodeError(n,r)},n)},l.prototype.sendMessage=function(n,i,r,o,e){var a=this;if(e)this.sendTo(e,n,i,r,o);else{var t;if(h.StringUtils.stringIsNullOrEmpty(this.GatewayUrl))if(0==this.checkingGateWayUrl)if(this.checkingGateWayUrl=!0,h.Global.LobbyPlatInfo){if(!(t=h.Global.LobbyPlatInfo)||!t.GatewayUrl)return void this.selectZone(null,function(){a.sendTo(this.GatewayUrl,n,i,r,o)},this,o);this.GatewayUrl=t.GatewayUrl}else h.Global.getPlatToken(function(e){if(null!=e&&1==h.Global.isCacheToken){var t=e;t&&t.GatewayUrl?a.GatewayUrl=t.GatewayUrl:h.Console.error("没有找到登录数据，请登录后再发送请求："+JSON.stringify(i))}else a.selectZone(null,function(){a.sendTo(a.GatewayUrl,n,i,r,o)},a,o)});this.sendTo(this.GatewayUrl,n,i,r,o)}},l.prototype.send=function(e,t,n,i){this.sendMessage(e.GetType?e.GetType():e.do||e.cmd_name,e,t,n,i)},l.prototype.sendToMe=function(e,t){if(null!=t)t(e);else if(null!=this.OnResponse){var n=new Pmd.HttpPackageReturn;n.gameid=this.GameID,n.zoneid=this.ZoneID,n.do=e.GetType(),n.data=e,this.OnResponse(n)}},l.prototype.cacheLoginInfo=function(e){if(!e)return!1;var t=0;e.platinfo&&(e.platinfo.account?h.NetMgr.PlatUID=e.platinfo.account:h.NetMgr.PlatUID=e.platinfo.uid,h.NetMgr.PlatSession=e.platinfo.sign,t=h.Global.getPlatId()),h.NetMgr.UID=Number(e.uid),h.BrowersUtils.extData.inviter=h.NetMgr.UID.toString(),h.NetMgr.SID=e.sid,h.NetMgr.PlatToken=e.unigame_plat_login,h.NetMgr.PlatKey=e.unigame_plat_key,h.NetMgr.platTokenTimeOut=e.unigame_plat_login_life,1==h.Global.lobbyMode&&(h.Global.LobbyPlatInfo=e);try{1==h.Global.isCacheToken?h.Global.setPlatToken(e,t,this.GameID):h.Global.platId=t}catch(e){}return!0},l.prototype.cachePhoneLoginInfo=function(e,t){h.NetMgr.UID=Number(e.uid),h.BrowersUtils.extData.inviter=h.NetMgr.UID.toString(),h.NetMgr.PlatToken=e.platlogin,h.NetMgr.PlatKey=e.platkey,h.NetMgr.platTokenTimeOut=e.platloginlife;var n={};n.uid=e.uid,n.unigame_plat_login=e.platlogin,n.unigame_plat_key=e.platkey,n.unigame_plat_login_life=e.platloginlife,h.Global.platId=t,1==h.Global.lobbyMode&&(h.Global.LobbyPlatInfo=n);try{1==h.Global.isCacheToken&&h.Global.setPlatToken(n,t,this.GameID)}catch(e){}},l.prototype.delLocalStoryge=function(){try{h.Utils.clearLocalStorage(h.Global.lobbyGameId+"|"+h.Global.getPlatId()+"|platToken")}catch(e){}},l.prototype.generateUUID=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})},l._reconnectTimes=0,l}();h.HttpClient=e}(uniLib||(uniLib={})),function(o){var e=function(){function e(e,t,n){this.isOriType=!0,this._dtype="text",this._call=e,this._err=t,this._this=n}return e.prototype.open=function(e,t,n){var i=this;void 0===n&&(n=!1);var r=this;r.url=e,this._xhr=o.BrowersUtils.getXHR(),window.XMLHttpRequest?this.isOriType=!0:this.isOriType=!1,this.isOriType?(this._xhr.open("post",e,!0),n||this._xhr.setRequestHeader("Content-Type","multipart/form-data"),this._xhr.responseType=this._dtype,this._xhr.onreadystatechange=function(){4==r._xhr.readyState?400<=r._xhr.status||0==r._xhr.status?r.onHttpError(r._xhr.status):"arraybuffer"==r._dtype&&0<r._xhr.response.byteLength?r.onCallBack(r._xhr.response):r.onCallBack(r._xhr.responseText):1==r._xhr.readyState&&t&&r._xhr.send(t)}):(this._xhr.dataFormat=this._dtype,this._xhr.addEventListener("complete",function(e){return i.onCallBack(e)},this),this._xhr.addEventListener("ioError",this.onHttpError,this))},Object.defineProperty(e.prototype,"dataFormat",{set:function(e){1==this.isOriType?("binary"==e&&(e="arraybuffer"),this._xhr&&(this._xhr.responseType=e)):this._xhr&&(this._xhr.dataFormat=e),this._dtype=e},enumerable:!0,configurable:!0}),e.prototype.onCallBack=function(e){void 0===e&&(e=null),this._call&&(1==this.isOriType?this._call.call(this._this,e):(console.error(e.currentTarget.data.byteLength),this._call.call(this._this,e.currentTarget.data)))},e.prototype.onHttpError=function(e){void 0===e&&(e=null),this._err&&this._err.call(this._this,e)},e.prototype.send=function(e){if(1==this.isOriType)this._xhr.send(e);else{var t=new egret.URLRequest(this.url);t.method="post",t.data=e,this._xhr.load(t)}},e.prototype.destroy=function(){this._call=null,this._err=null,this._this=null},e}();o.HttpRequest=e}(uniLib||(uniLib={})),function(g){var n=function(){};g.LoopbackSocket=n;var t=function(){function e(e,t){if(void 0===t&&(t=null),this._url="",this._url=e,t==SockType.LOOPBACK)this.sockType=t,this.socket=new n;else if(window.WebSocket){this.sockType=SockType.NORMAL;try{this.socket=new WebSocket(e)}catch(e){g.Console.error("[WS MyWebSocket ERROR] "+e.toString())}}else this.sockType=SockType.EGRET,this.socket=new egret.WebSocket,this.SetBinarytype(SockByinaryType.STRING),this.socket.connectByUrl(e)}return Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),e.prototype.SetBinarytype=function(e){this.sockType==SockType.EGRET?e==SockByinaryType.STRING?this.socket.type=egret.WebSocket.TYPE_STRING:e==SockByinaryType.BINARY&&(this.socket.type=egret.WebSocket.TYPE_BINARY):this.sockType==SockType.LOOPBACK||e==SockByinaryType.STRING||e==SockByinaryType.BINARY&&(this.socket.binaryType="arraybuffer")},e}();g.MyWebSocket=t;var e=function(){function p(e,t,n,i,r){void 0===i&&(i=!1),this.isOpenCompress=!1,this.lastEchoTime=0,this.reconnectDelay=5e3,this.isConnected=0,this.isConnecting=!1,this.needReconnect=!0,this._reconnectTimes=0,this._maxCeconnectTimes=10,this._active=!0,this._active_reconnect=!1,this._areconnect=!1,this._loseMsg=!1,this.tickSec=30,this.msgTimeoutMSec=0,this.tickTimes=2,this.lastRecvTime=0,this.lastSendMsgName="",this.lastseq=0,this.gameId=0,this.zoneId=0,this.isLobby=!1,this.wsurl=e;this._netMgr=r,this.gameId=Number(t),this.zoneId=Number(n),this.isLobby=i,this.isLobby?this.logName="[Lobby]":this.logName="[Game]",this.sendCache=new Array}return p.prototype.getSocket=function(){return this.mysocket.socket},p.prototype.checkNeedReconnect=function(){var e=this;if(0==g.Utils.isrebooting)if(1==e.isConnected){var t=!1;null!=e.mysocket?e.mysocket.sockType==SockType.EGRET?0==e.getSocket().connected&&(e.log("checkNeedReconnect0:"+e.isConnected),t=!0):1!=e.getSocket().readyState&&(e.log("checkNeedReconnect1::"+e.isConnected),t=!0):(e.log("checkNeedReconnect2::"+e.isConnected),t=!0),1==t&&e.reConnect()}else e.log("checkNeedReconnect3:"+e.isConnected)},p.prototype.resetReconnectNum=function(){this._reconnectTimes=0},p.prototype.pauseReconnect=function(){},p.prototype.login=function(e,t,n){e&&(this.socketLoginSuc=e),t&&(this.socketLoginFail=t),n&&(this.socketLoginObj=n),n.loopback&&(this.sockType=SockType.LOOPBACK),this.connect()},p.prototype.connect=function(){var e=this;if(this.sockType!=SockType.LOOPBACK&&e.close(!0),e.isConnecting=!0,g.ZQGameSdk.lastNetState&&g.ZQGameSdk.lastNetState.data&&g.ZQGameSdk.lastNetState.data[g.ZQGameSdk.NETSTATE]==g.NetState.NO_SIGNAL)return g.ZQGameSdk.getNetStateType(null,null,!0),clearTimeout(e.connectingTimeout),void(e.connectingTimeout=setTimeout(function(){e.log("[WS OPENING WAIT] "+e.wsurl),e.connect()},1e3));if(e.msgTimeoutMSec=0,null==this.sendCache&&(this.sendCache=new Array),this.log("[WS OPENING NEW1] "+this.wsurl),this.mysocket=new t(this.wsurl,this.sockType),this.sockType=this.mysocket.sockType,this.mysocket.sockType==SockType.NORMAL)this.getSocket().onopen=this.onSocketOpen.bind(this),this.getSocket().onmessage=this.onReceiveMessage.bind(this),this.getSocket().onclose=this.onSocketClose.bind(this),this.getSocket().onerror=this.onSocketError.bind(this);else{if(this.sockType==SockType.LOOPBACK)return;this.getSocket().addEventListener("socketData",this.onReceiveMessage,this),this.getSocket().addEventListener("connect",this.onSocketOpen,this),this.getSocket().addEventListener("close",this.onSocketClose,this),this.getSocket().addEventListener("ioError",this.onSocketError,this)}egret&&"true"!=g.BrowersUtils.GetRequest("debug")&&(egret.MainContext.instance.stage.addEventListener(egret.Event.DEACTIVATE,this.onDeactive,this),egret.MainContext.instance.stage.addEventListener(egret.Event.ACTIVATE,this.onActive,this)),e.connectingTimeout&&(clearTimeout(e.connectingTimeout),e.connectingTimeout=null),1==this.isLobby?e.connectingTimeout=setTimeout(function(){1==e.isConnecting&&(e.isConnecting=!1,e.socketLoginFail?(e.socketLoginFail.call(e.socketLoginObj),e.warn("connectingTimeout:self.socketLoginFail")):e.onCloseConnect(),e.connectingTimeout=null)},15e3):e.connectingTimeout=setTimeout(function(){1==e.isConnecting&&(e.isConnecting=!1,e.onCloseConnect(),e.connectingTimeout=null)},2e4)},p.prototype.onDeactive=function(e){this._deactiveTime=Date.now(),0!=this._active&&(this._active=!1,0==this.isLobby&&(this.recvCache=new Array),g.ScreenUtils.onDeactive(e))},p.prototype.showRecnectTip=function(){g.UIMgr&&1!=this.isConnected&&(1==g.Global.isInGame?0==this.isLobby&&g.UIMgr&&g.UIMgr.instance.tipsLoadUI&&g.UIMgr.instance.showLoadingTimeout(g.UIMgr.instance.tipsLoadUI,"reconnect",0):g.UIMgr.instance.showLoadingTimeout(g.UIMgr.instance.tipsLoadUI,"reconnect",0))},p.prototype.onActive=function(e){1==g.Global.initOpt.needbackReconnect&&3e3<Date.now()-this._deactiveTime&&(g.UIMgr&&g.UIMgr.instance.tipsLoadUI&&g.UIMgr.instance.showLoadingTimeout(g.UIMgr.instance.tipsLoadUI,"reconnect",0),1==this.isLobby||(this._loseMsg=!0,this.close(!0)));var t=this;if(1!=this._active){if(this.showRecnectTip(),this._active=!0,0==this.isLobby)this.recvCache&&this.recvCache.forEach(function(e){t.parseData(e)}),this.recvCache=null,1==this._active_reconnect&&(this._active_reconnect=!1,this.reConnect());else{var n=new Pmd.OnlineStateLoginUserPmd_CS;n.state=1,this.send(n)}if(this.lastRecvTime=(new Date).getTime(),this.setMsgTimeout(8,"")){var i=new Pmd.TickRequestNullUserPmd_CS;i.requesttime=Math.floor(Date.now()/1e3),this.sendPlat(i)}1==t.isConnecting&&t.connectingTimeout&&(clearTimeout(t.connectingTimeout),t.connectingTimeout=null,1==this.isLobby?t.connectingTimeout=setTimeout(function(){1==t.isConnecting&&(t.isConnecting=!1,t.socketLoginFail?t.socketLoginFail.call(t.socketLoginObj):t.onCloseConnect(),t.connectingTimeout=null)},15e3):t.connectingTimeout=setTimeout(function(){1==t.isConnecting&&(t.isConnecting=!1,t.onCloseConnect(),g.Utils.restart("网络异常,重新登陆可继续游戏","确定"),t.connectingTimeout=null)},2e4)),1==t.isConnected&&g.UIMgr&&g.UIMgr.instance.hideLoading(g.UIMgr.instance.tipsLoadUI,"reconnect"),g.Global.dispatchEvent(g.ZqEvent.EVENT_ACTIVE_SOCKET_CACHE_OK,t.gameId),g.ZQGameSdk.getNetStateType(null,null,!0),g.ScreenUtils.onActive(e)}},p.prototype.onSocketOpen=function(){var t=this;t.connectingTimeout&&(clearTimeout(t.connectingTimeout),t.connectingTimeout=null),t.isConnected=1,t.isConnecting=!1;var e=this.sendCache;this.sendCache=new Array,this.loginData&&(this.sendPlat(this.loginData),g.Global.compressType!=g.CompressType.NONE&&(this.mysocket.SetBinarytype(SockByinaryType.BINARY),this.isOpenCompress=!0),this.loginData=null),null!=e&&0<e.length&&(e.forEach(function(e){1==t.sockSend(e)&&t.log("[WS SEND CACHE] "+e)}),this.sendCache=new Array),g.UIMgr&&g.UIMgr.instance.hideLoading(g.UIMgr.instance.tipsLoadUI,"reconnect"),this.timerActive&&(clearInterval(this.timerActive),this.timerActive=null)},p.prototype.setTickSec=function(e){void 0===e&&(e=30),this.tickSec=e},p.prototype.onTickActive=function(){var e=(new Date).getTime()-this.lastRecvTime;if(0!=this._active)if(e>=this.tickSec*this.tickTimes*1e3)this.checkNeedReconnect();else if(e>=1e3*this.tickSec+1e4)this.reConnect();else if(0<this.msgTimeoutMSec&&e>=this.msgTimeoutMSec){if(0==g.Global.isInGame)return;if(g.Global.initOpt&&g.Global.initOpt.msgTimeoutIgnoreMsgArr&&0<g.Global.initOpt.msgTimeoutIgnoreMsgArr.length&&0<=g.Global.initOpt.msgTimeoutIgnoreMsgArr.indexOf(this.lastSendMsgName))return;0==g.Utils.isrebooting&&(this.msgTimeoutMSec=0,this.reConnect())}else 0==this.isLobby&&this.checkNeedReconnect()},p.prototype.setMsgTimeout=function(e,t){return 0==this.msgTimeoutMSec&&(this.msgTimeoutMSec=1e3*e,this.lastRecvTime=(new Date).getTime(),!0)},p.prototype.sockSend=function(e){if(0==this.isConnected||null==this.mysocket)return this.isConnecting||this.connectingTimeout||this.reConnect(),null==this.sendCache&&(this.sendCache=new Array),this.warn("[WS SEND ERROR] can't send message when websocket closed: "+e+":"+this.isConnected+":"+this.sendCache),null!=this.sendCache&&0==this.sendCache.length&&(this.sendCache.push(e),this.log("[WS CACHE sockSend0]:"+e)),!1;if(1!=this.isConnected)return this.warn("[WS SEND ERROR] wait for connecting: "+this.isConnected+":"+e),null!=this.sendCache&&0==this.sendCache.length&&(this.sendCache.push(e),this.log("[WS CACHE sockSend1]:"+e)),!1;var t;if(g.Global.compressType!=g.CompressType.NONE&&1==this.isOpenCompress){var n=g.CompressUtil.encodeUTF8(e);t=0<g.Global.compressMin?n.byteLength>=g.Global.compressMin?g.CompressUtil.compressByType(n,g.Global.compressType):n.buffer:g.CompressUtil.compressByType(n,g.Global.compressType)}else t=e;if(this.mysocket.sockType==SockType.NORMAL)this.getSocket().send(t);else if(1==this.isOpenCompress){var i=new egret.ByteArray;i.writeBytes(t,0,t.byteLength),i.position=0,this.getSocket().writeBytes(i,0,i.bytesAvailable)}else this.getSocket().writeUTF(t);return!0},p.prototype.parseData=function(e){var t=JSON.parse(e);if(t instanceof Array)for(var n=0;n<t.length;n++)this.dispatch(t[n]);else this.dispatch(t)},p.prototype.uncompressData=function(e){var t=new Uint8Array(e);return g.CompressUtil.uncompressByType(t,g.Global.compressType)},p.prototype.onReceiveMessage=function(e){if(void 0===e&&(e=null),this.lastRecvTime=(new Date).getTime(),this.msgTimeoutMSec=0,null!=this.mysocket){var t;if(this.mysocket.sockType==SockType.EGRET)if(g.Global.compressType!=g.CompressType.NONE){var n=new egret.ByteArray;this.getSocket().readBytes(n),0<g.Global.compressMin?t=n.bytesAvailable>=g.Global.compressMin?this.uncompressData(n.buffer):n.buffer:0<n.bytesAvailable&&(t=this.uncompressData(n.buffer))}else t=this.getSocket().readUTF();else t=g.Global.compressType!=g.CompressType.NONE&&0<=g.Global.compressMin&&0<e.data.byteLength&&e.data.byteLength>=g.Global.compressMin?this.uncompressData(e.data):e.data;t&&""!=t?"{}"!=t&&(1!=this._active&&this.recvCache?this.recvCache.push(t):this.parseData(t)):this.warn("[WS RUN ERROR] server request colose socket")}},p.prototype.onSocketClose=function(e){void 0===e&&(e=null);var t=this;t.isConnected=0,t.isConnecting=!1,g.Global.dispatchEvent(g.ZqEvent.NET_ERRER),null!=this.mysocket?this.warn("[WS CLOSING onSocketClose0] "+this.mysocket.sockType+":"+g.Global.compressType+":"+this.wsurl):this.warn("[WS CLOSING onSocketClose1] "+this.mysocket),setTimeout(function(){0==t.isConnected?t.onCloseConnect():t.warn("[WS CLOSING onSocketClose:]"+t.isConnected)},2e3)},p.prototype.onCloseConnect=function(){var e=this;2!=this.isConnected&&1!=g.Utils.isrebooting?(e.isConnected=0,e._reconnectTimes<e._maxCeconnectTimes?e.reConnect()&&(g.ZQGameSdk&&g.ZQGameSdk.getNetStateType(),g.ZQGameSdk.lastNetState&&g.ZQGameSdk.lastNetState.data&&g.ZQGameSdk.lastNetState.data[g.ZQGameSdk.NETSTATE]==g.NetState.NO_SIGNAL?this.error("[WS reConnect] not network avalible"):e._reconnectTimes++):0==g.Global.isRestarting&&(e.socketLoginFail&&0!=e.socketLoginFail.call(e.socketLoginObj)?(g.Global.isRestarting=!0,g.UIMgr&&g.UIMgr.instance.hideLoading(g.UIMgr.instance.tipsLoadUI,"reconnect")):(g.Global.isRestarting=!0,g.UIMgr&&g.UIMgr.instance.hideLoading(g.UIMgr.instance.tipsLoadUI,"reconnect"),g.Console.info("ZQGameSdk.restart"),1==g.Global.isH5?""!=g.Global.reLoginUrl?g.BrowersUtils.redirect(g.Global.reLoginUrl):g.BrowersUtils.reload():(e.isLobby,g.ZQGameSdk&&g.ZQGameSdk.getConfig("网络不稳定,需要重新连接","","确定"))))):this.warn("[WS CLOSING onCloseConnect]")},p.prototype.onSocketError=function(e){void 0===e&&(e=null);var t=this;t.isConnected=0,t.isConnecting=!1,this.warn("[WS Error] "),g.Global.isInGame||(t._maxCeconnectTimes=5),g.Global.dispatchEvent(g.ZqEvent.NET_ERRER),clearTimeout(t.connectingTimeout),t.connectingTimeout=setTimeout(function(){0==t.isConnected?t.onCloseConnect():t.warn("[WS CLOSING onSocketClose:]"+t.isConnected)},2e3)},p.prototype.reConnect=function(){var e=this;if(1==g.Utils.isrebooting||1==e.isConnecting||2==e.isConnected||0==e.needReconnect)return e.warn("[WS CLOSING reConnect cancel]"+g.Utils.isrebooting+":"+e.isConnecting+":"+e.isConnected),!1;if(0==this._active&&e.recvCache)return e._active_reconnect=!0;g.UIMgr&&(1==g.Global.isInGame?0==e.isLobby&&g.UIMgr&&g.UIMgr.instance.tipsLoadUI&&g.UIMgr.instance.showLoadingTimeout(g.UIMgr.instance.tipsLoadUI,"reconnect",0):g.UIMgr.instance.showLoadingTimeout(g.UIMgr.instance.tipsLoadUI,"reconnect",0)),e.isOpenCompress=!1;var t=new Pmd.UserLoginReconnectLoginUserPmd_C;return t.accountid=g.NetMgr.UID,t.timestamp=Math.floor(Date.now()/1e3),t.zoneid=e.zoneId,t.gameid=e.gameId,t.compress=g.CompressUtil.compressStr[g.Global.compressType],t.version=20160805,t.lastseq=e.lastseq,g.Global.zipmd5&&(t.zipmd5=g.Global.zipmd5),g.Global.configmd5&&(t.configmd5=g.Global.configmd5),g.Global.bundleId&&(t.bundlename=g.Global.bundleId),null==g.NetMgr.PlatKey&&(g.NetMgr.PlatKey=""),t.tokenmd5=""+g.StringUtils.MD5(String(t.accountid)+String(t.timestamp)+g.NetMgr.PlatKey),t.url=this.wsurl,e.loginData=t,e.connect(),e.isConnected=2,!0},p.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.Console.log(this.logName+e,t)},p.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.Console.error(this.logName+e,t)},p.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.Console.warn(this.logName+e,t)},p.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.Console.info(this.logName+e,t)},p.prototype.dispatch=function(e){var t,n,i=this;if(!i.timerActive&&this.mysocket&&this.sockType!=SockType.LOOPBACK){var r=new Pmd.SetTickTimeoutNullUserPmd_CS;r.sec=i.tickSec,r.times=i.tickTimes,i.sendPlat(r),i.timerActive=setInterval(function(){i.onTickActive()},2e3)}if(e.GetType||((t=e.cmd_name)?e.GetType=function(){return t}:n=e),0==this.lastseq||e.GetType&&e.GetType()!=p.GatewayWrapperName||t&&t!=p.GatewayWrapperName||(4294967295==this.lastseq?this.lastseq=1:this.lastseq++),n||e.GetType()==p.GatewayWrapperName){if(n||(n=e.msg),g.checkServerReturnCodeError(n))return g.doServerReturnCodeError(e,i),this.warn("[WS RUN ERROR] server error0: "+JSON.stringify(e)),!1;g.Global.jsonCompress?n=g.Global.DeCompress(n):"number"==typeof n.do&&g.Global.jsonCompressDefault&&(n=g.Global.DeCompressDefult(n)),t=n.do,e=n.data}else t||e.GetType()==p.GatewayWrapperName||(t=e.GetType());if(g.Global.initOpt.changeGameCmd&&!g.StringUtils.stringIsNullOrEmpty(g.Global.initOpt.changeGameCmd)&&0==this.isLobby&&0<=t.indexOf("Cmd.")&&(t=t.replace("Cmd.",g.Global.initOpt.changeGameCmd+".")),g.checkServerReturnCodeError(e))return g.doServerReturnCodeError(e,i),this.warn("[WS RUN ERROR] server error1: "+JSON.stringify(e)),!1;var o,a=t.split(".");a[a.length-1]="On"+a[a.length-1];for(var s="",l=0;l<a.length;l++)s+=a[l]+(l==a.length-1?"":".");if(null!=g.getDefinitionByName(s)&&(o=g.getDefinitionByName(s)),"Pmd.OnUserLoginReconnectOkLoginUserPmd_S"==s)return 1==this._loseMsg&&g.UIMgr&&g.UIMgr.instance.hideLoading(g.UIMgr.instance.tipsLoadUI,"reconnect"),this._loseMsg=!1,g.Global.dispatchEvent(g.ZqEvent.ON_RECONNEC,i.gameId),!0;if(null!=o){if(1==this._loseMsg)return;return this._reconnectTimes=0,this.log("[WS RECV] "+s+":"+JSON.stringify(n)),o(e),!0}if("Pmd.OnUserLoginReturnOkLoginUserPmd_S"===s)return this.log("[WS] login to gateway success #"),this.socketLoginSuc&&(this.socketLoginSuc.call(this.socketLoginObj?this.socketLoginObj:this),this.socketLoginSuc=null),this.lastseq=4294967295,!0;if("Pmd.OnReconnectKickoutLoginUserPmd_S"===s)return 1==g.Global.hasEventListener(g.ZqEvent.KICK_OUT)?(this.close(!1),g.Global.dispatchEvent(g.ZqEvent.KICK_OUT,e)):g.Utils.restart(e.desc?e.desc:"重复登陆被踢下线！","确定"),!0;if("Pmd.OnUserLoginReturnFailLoginUserPmd_S"===s){switch(g.Console.info("Pmd.OnUserLoginReturnFailLoginUserPmd_S err:"+e.retcode),e.retcode){case Pmd.LoginReturnFailReason.ServerShutdown:if(this.isLobby||!this.socketLoginFail)return 1!=g.Global.isInGame&&(clearTimeout(i.connectingTimeout),i.connectingTimeout=setTimeout(function(){i.reConnect(),i._reconnectTimes++},5e3)),!0;break;case Pmd.LoginReturnFailReason.VersionTooLow:return g.Utils.restart(e.desc?e.desc:"版本过低，请重新登陆！","确定"),!0;case Pmd.LoginReturnFailReason.UserTokenFind:case Pmd.LoginReturnFailReason.UserTokenTempId:case Pmd.LoginReturnFailReason.UserTokenTimeOut:return g.Utils.clearLocalStorage(g.Global.lobbyGameId+"|"+g.Global.getPlatId()+"|platToken"),g.Utils.restart("登录信息过期,请重新登陆游戏！","确定"),!0;case Pmd.LoginReturnFailReason.LoginDulicate:case Pmd.LoginReturnFailReason.NoGatewaytDown:case Pmd.LoginReturnFailReason.AccountUsing:}var c=!0;return g.TipsUtils&&(g.TipsUtils.showTipsDownToUp(e.retcode+":"+e.desc,g.TextColors.RED),c=!1),this.socketLoginFail&&(this.socketLoginFail.call(this.socketLoginObj?this.socketLoginObj:e),c=!1,this.warn("[WS socketLoginFail] ")),c&&g.Utils.restart(e.desc?e.desc:"未知错误,请重新登陆","确定"),!0}if("Pmd.OnTickRequestNullUserPmd_CS"==s){var u=new Pmd.TickReturnNullUserPmd_CS;return u.requesttime=e.requesttime,u.mytime=Math.floor(Date.now()/1e3),this.sendPlat(u),!0}if("Pmd.OnCurrentGmLevelChatUserPmd_S"==s)return g.Global.gmlevel=e.gmlevel,g.Global.gmlevel,!0;if("Pmd.OnGameServerShutDownLoginUserPmd_S"==s)return 5<=i._reconnectTimes&&g.Global.dispatchEvent(g.ZqEvent.ON_SERVER_SHUTDOWN,e),!0;if("Pmd.OnZoneInfoListLoginUserPmd_S"==s)return g.Global.zoneList=e.zonelist,g.Global.dispatchEvent(g.ZqEvent.ON_GETZONEINFO,e),!0;if("Pmd.OnTickReturnNullUserPmd_CS"==s)return!0;if("Pmd.OnServerShutDownLoginUserPmd_S"==s)return g.Global.dispatchEvent(g.ZqEvent.EVENT_SERVER_SHUTDOWN,e),!0;if("Pmd.OnServerDebugLevelLoginUserPmd_S"==s)return g.Global.debugLevel=e.level,g.Global.dispatchEvent(g.ZqEvent.EVENT_SERVER_DEBUG_LEVEL,e),!0;if("Pmd.OnClientConfigUpdateLoginUserPmd_S"==s)if(e&&e.config){var d=e.config;(h=e.nativeconfig)&&g.ZQGameSdk.updateCfg(h,d),g.ZQGameSdk&&g.ZQGameSdk.getConfig("检测到新版本，点击确定后【请重新打开APP】。","","确定")}else if(e&&e.zipmd5){if(1==g.Global.is_sandbox)return!0;var h;(h=e.nativeconfig)&&g.ZQGameSdk.updateCfg(h),g.ZQGameSdk&&g.ZQGameSdk.getConfig("检测到新版本，点击确定后【请重新打开APP】。","","确定","取消")}return this.warn("[WS RUN unprocess] ["+s+"]\n"+JSON.stringify(e)),!1},p.prototype.sendTimeOut=function(e,t){this.send(e,t),this.setMsgTimeout(8,"sendTimeOut")},p.prototype.send=function(e,t){if(null!=e)if(1!=t&&this.sockType!=SockType.LOOPBACK){var n=e.GetType?e.GetType():e.do;"Pmd.CreatePlatOrderRequestSdkPmd_C"==n&&(null==e.data&&(e.data={}),console.error("payplatid:"+e.payplatid),1e5==e.payplatid&&(e.payplatid=264),1!=g.Global.is_sandbox&&g.Global.platInfo&&g.Global.platInfo.platappid&&(g.Global.gameConfig&&152!=e.payplatid&&264!=e.payplatid?e.data.platappid=g.Global.gameConfig.pt_appid:e.data.platappid=g.Global.platInfo.platappid),g.PayMgr.Instance.lastRechargeInfo=e);var i={do:n,data:e};this.lastSendMsgName=n;var r=JSON.stringify(i);1==this.sockSend(r)&&this.log("[WS SEND send] "+r),0!=g.Global.msgTimeOutSec&&this.setMsgTimeout(g.Global.msgTimeOutSec,"sendTimeOut")}else this.dispatch(e)},p.prototype.sendPlat=function(e,t){if(null!=e)if(1!=t&&this.sockType!=SockType.LOOPBACK){var n=e.GetType?e.GetType():e.cmd_name||e.do;e.cmd_name=n;var i=JSON.stringify(e);1==this.sockSend(i)?this.log("[WS SEND sendPlat] "+i):this.log("[WS SEND sendPlat Error] "+i)}else this.dispatch(e)},p.prototype.sendEcho=function(){var e=(new Date).getTime();3e3<=e-this.lastEchoTime&&(this.lastEchoTime=e,this.sockSend("{}"))},p.prototype.close=function(e){void 0===e&&(e=!0),this.sockType!=SockType.LOOPBACK&&(this.isConnected=0,null!=this.mysocket&&(this.mysocket.sockType==SockType.NORMAL?(this.getSocket().onopen=null,this.getSocket().onmessage=null,this.getSocket().onclose=null,this.getSocket().onerror=null):(this.getSocket().removeEventListener("socketData",this.onReceiveMessage,this),this.getSocket().removeEventListener("connect",this.onSocketOpen,this),this.getSocket().removeEventListener("close",this.onSocketClose,this),this.getSocket().removeEventListener("ioError",this.onSocketError,this)),egret&&(egret.MainContext.instance.stage.removeEventListener(egret.Event.DEACTIVATE,this.onDeactive,this),egret.MainContext.instance.stage.removeEventListener(egret.Event.ACTIVATE,this.onActive,this)),this.warn("[WS CLOSING close] "+Math.floor((new Date).getTime()/1e3)+":"+this.mysocket.sockType+":"+g.Global.compressType+":"+this._reconnectTimes+":"+this.wsurl),null==this.sendCache?this.sendCache=new Array:1<this.sendCache.length&&(this.sendCache=[this.sendCache.pop()]),this.getSocket().close(),this.mysocket=null),this.timerActive&&(clearInterval(this.timerActive),this.timerActive=null),this.needReconnect=e,this.isConnecting=!1)},p.GatewayWrapperName="Pmd.UserJsMessageForwardUserPmd_CS",p}();g.JsonSocket=e}(uniLib||(uniLib={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.EGRET=1]="EGRET",e[e.LOOPBACK=2]="LOOPBACK"}(SockType||(SockType={})),function(e){e[e.STRING=0]="STRING",e[e.BINARY=1]="BINARY"}(SockByinaryType||(SockByinaryType={})),function(t){t.OnCommonChatUserPmd_CS=function(e){switch(e.chatpos){case t.CommonChatUserPmd_CS.ChatPos.ChatPos_None:case t.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_ROOM,e);break;case t.CommonChatUserPmd_CS.ChatPos.ChatPos_Private:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_PRIVATE,e);break;case t.CommonChatUserPmd_CS.ChatPos.ChatPos_Sys:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_SYSTEM,e);break;case t.CommonChatUserPmd_CS.ChatPos.ChatPos_Gm:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_GM,e);break;case 256:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_HORN,e);break;case 512:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_HUNDRED,e);break;case 1024:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_COMMONGAME,e);break;case 2048:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_LOBBY,e);break;case t.CommonChatUserPmd_CS.ChatPos.ChatPos_Important:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_IMPORTANT,e)}},t.OnPrivateChatUserPmd_CS=function(e){uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_PRIVATE,e)},t.OnGMCommandListChatUserPmd_S=function(e){uniLib.Global.dispatchEvent(uniLib.ZqEvent.GM_INFO,e)},t.OnMessageBoxLoginUserPmd_S=function(e){var t=new uniLib.MsgBox(e.info);uniLib.PopUpMgr.addPopUp(t,null,!0,!0)}}(Pmd||(Pmd={})),function(e){var t=function(){};(uniLib||(uniLib={})).AppConfig=t}();var ExtData=function(){},uniLib,uniLib,game,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib,uniLib;!function(e){var t=function(){};(uniLib||(uniLib={})).ShareData=t}(),function(t){var e=function(){function e(){}return Object.defineProperty(e,"ol_Time",{get:function(){return this._ol_Time},set:function(e){this._ol_Time=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"fangka",{get:function(){return this._fangka},set:function(e){this._fangka!=e&&(this._fangka=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.FANGKA))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"diamond",{get:function(){return this._diamond},set:function(e){this._diamond!=e&&(this._diamond=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.DIAMOND))},enumerable:!0,configurable:!0}),e.init=function(e,t){void 0===t&&(t=!0),this.uid=e.uid,e.headUrl||e.headurl?this._headUrl=e.headUrl||e.headurl:this._headUrl="",this.nickName=e.nickName||e.nickname,this.gender=e.gender,this.platId=e.platId,this.subPlatId=e.subPlatId,1==t&&e.hasOwnProperty("remainder")&&(this._chips=e.remainder,this._goldChips=e.remainder),e.hasOwnProperty("chips")&&(this._chips=e.chips),e.hasOwnProperty("goldcoin")&&(this._goldChips=e.goldcoin),e.hasOwnProperty("trailscore")&&(this._chips=e.trailscore),e.hasOwnProperty("bankChips")&&(this._bankChips=e.bankChips),e.hasOwnProperty("sumRecharge")&&(this.sumRecharge=e.sumRecharge),e.hasOwnProperty("signature")&&(this.signature=e.signature),e.hasOwnProperty("giftCoupon")?this._giftCoupon=e.giftCoupon:e.hasOwnProperty("ticket")&&(this._giftCoupon=e.ticket),e.hasOwnProperty("trailcoin")&&(this._freeChips=e.trailcoin),e.hasOwnProperty("fangka")?this._fangka=e.fangka:e.hasOwnProperty("card")&&(this.fangka=e.card),e.hasOwnProperty("diamond")&&(this._diamond=e.diamond)},Object.defineProperty(e,"chips",{get:function(){return this._chips},set:function(e){this._chips!=e&&(this._chips=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.CHIPS))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"goldChips",{get:function(){return this._goldChips},set:function(e){this._goldChips!=e&&(this._goldChips=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.GOLDCHIPS))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"freeChips",{get:function(){return this._freeChips},set:function(e){this._freeChips!=e&&(this._freeChips=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.FREECHIPS))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"headUrl",{get:function(){return this._headUrl},set:function(e){this._headUrl!=e&&(this._headUrl=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.HEADURL))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"platPoint",{get:function(){return this._platPoint},set:function(e){this._platPoint=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.PLAT_POINT)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"bankChips",{get:function(){return this._bankChips},set:function(e){this._bankChips=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.BANK_CHIPS)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"nickname",{get:function(){return this.nickName},set:function(e){this.nickName=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.NICKNAME)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"giftCoupon",{get:function(){return this._giftCoupon?this._giftCoupon:0},set:function(e){this._giftCoupon=e,t.Global.dispatchEvent(t.ZqEvent.USER_INFO,t.UserInfoEnum.GIFTCOUPON)},enumerable:!0,configurable:!0}),e._chips=0,e._goldChips=0,e._freeChips=0,e._giftCoupon=0,e._ol_Time=-1,e.slipStatus=1,e._platPoint=0,e}();t.UserInfo=e}(uniLib||(uniLib={})),function(e){var t=function(){};(game||(game={})).WXShareBackVo=t}(),function(e){var t=function(){this.shareImageUrl="",this.shareImageData="",this.roomId=""};(uniLib||(uniLib={})).WXShareVo=t}(),function(uniLib){var BrowersUtils=function(){function BrowersUtils(){}return BrowersUtils.reload=function(){1==uniLib.Global.isH5&&window.location.reload()},BrowersUtils.redirect=function(e){location.href=e},BrowersUtils.isLocal=function(){return 0<=location.href.indexOf("192.168")},BrowersUtils.prototype.isNull=function(e){return null==e||(e instanceof String&&(null==e||e.length),!1)},BrowersUtils.isWechat=function(){if(1==uniLib.Global.isWxGame())return!1;var e=navigator.userAgent.toString();return null!=e.match(/MicroMessenger/i)&&"MicroMessenger"==e.match(/MicroMessenger/i).toString()},BrowersUtils.getXHR=function(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?eval('new ActiveXObject("MSXML2.XMLHTTP")'):egret&&egret.URLLoader?new egret.URLLoader:void 0},BrowersUtils.isPC=function(){for(var e=navigator.userAgent.toString(),t="Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";"),n=!0,i=0;i<t.length;i++)if(0<e.indexOf(t[i])){n=!1;break}return n},BrowersUtils.isAndroid=function(){var e=navigator.userAgent.toString();return-1<e.indexOf("Android")||-1<e.indexOf("Linux")},BrowersUtils.GetRequest=function(e,t){var n,i=null;if(uniLib.Global.isH5){n=null!=t&&""!=t?t:location.search;var r=new RegExp("[?&]"+e+"=([^&]+)","gi").exec(n);if(null!=r)try{i=decodeURIComponent(decodeURIComponent(r[1]))}catch(e){try{i=decodeURIComponent(r[1])}catch(e){i=r[1]}}}return i},BrowersUtils.GetRequests=function(e){n=e||location.search;var t=new Object;if(n){if(0==n.indexOf("?"))var n=n.substr(1);for(var i=n.split("&"),r=0;r<i.length;r++)t[i[r].split("=")[0]]=decodeURIComponent(i[r].split("=")[1])}return t},BrowersUtils.requestFullScreen=function(){},BrowersUtils.exitFullscreen=function(){},BrowersUtils.setExtData=function(e,t,n){void 0===n&&(n=!1),null==this.extData&&(this.extData=new ExtData),this.extData[e]=t},BrowersUtils.getExtData=function(key){if(void 0===key&&(key=""),null==this.inExtData)try{this.inExtData=JSON.parse(this.GetRequest("extdata"))}catch(e){this.inExtData=eval("("+this.GetRequest("extdata")+")")}return this.inExtData?key?this.inExtData[key]:this.inExtData:null},BrowersUtils.resetShareInfo=function(){this.extData=new ExtData,this.extData.inviter=uniLib.NetMgr.UID.toString(),this.setShareInfo()},BrowersUtils.setShareInfo=function(e,t,n,i,r){i&&r&&this.setExtData(i,r);var o,a="http://login.publish.bwgame.com.cn:8080/";"0"==(o=0<=location.href.indexOf("h5.publish.bwgame.com.cn")?"1":"0")&&(a="http://h5sdk.zqbconnect.com/");var s=new BodyMenuShareTimeline;t&&!uniLib.StringUtils.stringIsNullOrEmpty(t)?s.title=t:s.title=uniLib.Global.shareData.title,uniLib.Global.shareData.link?s.link=uniLib.Global.shareData.link:s.link="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+uniLib.Global.appId+"&redirect_uri="+a+uniLib.Global.lobbyGameId+"/wechat_"+uniLib.Global.platInfo.platid+"/login_request?extdata="+JSON.stringify(this.extData)+"&response_type=code&scope=snsapi_base&state="+o+"connect_redirect=1#wechat_redirect",e&&!uniLib.StringUtils.stringIsNullOrEmpty(e)?s.imgUrl=e:s.imgUrl=uniLib.Global.shareData.imgUrl,s.success=function(){uniLib.Global.dispatchEvent(uniLib.ZqEvent.SHARE,1)},wx.onMenuShareTimeline(s);var l=new BodyMenuShareAppMessage;t&&!uniLib.StringUtils.stringIsNullOrEmpty(t)?l.title=t:l.title=uniLib.Global.shareData.title,n&&!uniLib.StringUtils.stringIsNullOrEmpty(n)?l.desc=n:l.desc=uniLib.Global.shareData.desc,uniLib.Global.shareData.link?l.link=l.dataUrl=uniLib.Global.shareData.link:l.dataUrl=l.link="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+uniLib.Global.appId+"&redirect_uri="+a+uniLib.Global.lobbyGameId+"/wechat_"+uniLib.Global.platInfo.platid+"/login_request?extdata="+JSON.stringify(this.extData)+"&response_type=code&scope=snsapi_base&state="+o+"&connect_redirect=1#wechat_redirect",l.success=function(){uniLib.Global.dispatchEvent(uniLib.ZqEvent.SHARE,2)},e&&!uniLib.StringUtils.stringIsNullOrEmpty(e)?l.imgUrl=e:l.imgUrl=uniLib.Global.shareData.imgUrl,wx.onMenuShareAppMessage(l)},BrowersUtils.getCookie=function(e){if(uniLib.Global.isH5){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));if(null!=t)return t[2]}return null},BrowersUtils.setCookie=function(e,t,n){if(uniLib.Global.isH5){t instanceof Object&&(t=JSON.stringify(t));var i=new Date;i.setDate(i.getDate()+n),document.cookie=e+"="+t+(null==n?"":";expires="+i.toUTCString())}},BrowersUtils.delCookie=function(e){if(uniLib.Global.isH5)if(e){var t=new Date;t.setTime(t.getTime()-1);var n=this.getCookie(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toUTCString())}else{var i=new Date;i.setTime(-1e3);for(var r=document.cookie.split("; "),o=0;o<r.length;o++){var a=r[o].split("=");document.cookie=a[0]+"=''; expires="+i.toUTCString()}}},BrowersUtils.getLocationUrl=function(){if(uniLib.Global.isH5)return location.href},BrowersUtils.getPlatLibDir=function(){if(uniLib.Global.isH5)return location.href.substring(0,uniLib.StringUtils.getPosition(location.href,"/",3))+"/"+uniLib.Global.thirdPlatDir},BrowersUtils.redirectUrl=function(e){uniLib.Global.isH5&&(location.href=e)},BrowersUtils.parentRedirectUrl=function(e){uniLib.Global.isH5&&(parent.window.location.href=e)},BrowersUtils.browersType=function(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==""+e.match(/MicroMessenger/i)?"wechat":""+e.match(/windows nt/i)=="windows nt"?"windows":""+e.match(/iphone/i)=="iphone"?"ios":""+e.match(/android/i)=="android"?"android":""+e.match(/ipad/i)=="ipad"?"ipad":""+e.match(/linux/i)=="linux"?"linux":""+e.match(/mac/i)=="mac"?"mac":""+e.match(/ucbrower/i)=="ucbrower"?"ucbrower":void uniLib.Console.log("未知系统类型")},BrowersUtils.platformType=function(){var e=window.navigator.userAgent.toLowerCase();return""+e.match(/micromessenger/i)=="micromessenger"?"micromessenger":""+e.match(/qzone/i)=="qzone"?"qzone":""+e.match(/weibo/i)=="weibo"?"weibo":""+e.match(/qq/i)=="qq"?"qq":""+e.match(/renren/i)=="renren"?"renren":""+e.match(/txmicroblog/i)=="txmicroblog"?"txmicroblog":""+e.match(/douban/i)=="douban"?"douban":"other"},BrowersUtils.prototype.staticisVertical=function(){return 90!=window.orientation},BrowersUtils.LoadJses=function(e,t,n){var i=e.length,r=this,o=0,a=function(){++o==i?t&&t.call(n):r.LoadJS(e[o].id,e[o].url,a,r)};this.LoadJS(e[0].id,e[0].url,a,r)},BrowersUtils.removeJs=function(e){var t=document.getElementById(e),n=document.getElementsByTagName("HEAD").item(0);document.createElement("script");t&&n.removeChild(t)},BrowersUtils.LoadJS=function(e,t,n,i,r){this._downTryCount=0;var o,a=uniLib.GameModuleUtils.gameNativeFolder+t;if(o=uniLib.StringUtils.isNetUrl(t)?t:uniLib.GameModuleUtils.gameRemotePaths&&0<uniLib.GameModuleUtils.gameRemotePaths.length?uniLib.Global.CdnDomains[0]+uniLib.GameModuleUtils.gameRemotePaths[0]+t:t,uniLib.Global.isH5){var s=document.getElementById(e),l=document.getElementsByTagName("HEAD").item(0),c=document.createElement("script");s&&l.removeChild(s),c.id=e,c.type="text/javascript",c.src=o,l.appendChild(c),c.onerror=function(){null!=i&&(s&&l.removeChild(s),r?i.call(r,e):i(e))},c.onload=c.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||null!=n&&(r?n.call(r,e):n(e))}}else if(egret.hasDefinition("egret_native")&&!egret_native.isFileExists(a))this.loadNative(o,a,n,i,r,e);else{console.error("#native file exits#");try{uniLib.getDefinitionByName("require")(a),null!=n&&(r?n.call(r,e):n(e))}catch(e){uniLib.Console.warn("网络原因下载失败了"),egret_native.deleteUpdateFile(a)}}},BrowersUtils.loadNative=function(e,t,n,i,r,o){var a=egret.PromiseObject.create(),s=this;a.onSuccessFunc=function(){console.error("#load native success#"),uniLib.getDefinitionByName("require")(t),null!=n&&(r?n.call(r,o):n(o))},a.onErrorFunc=function(){console.error("#load native error# downTryCount:"+this._downTryCount),s._downTryCount<3?(s._downTryCount++,s.loadNative(e,t,n,i,r,o)):i&&(r?i.call(r,o):i(o))},console.error("remoteUrl:"+e),egret_native.download(e,t,a)},BrowersUtils.extData=new ExtData,BrowersUtils._downTryCount=0,BrowersUtils}();uniLib.BrowersUtils=BrowersUtils}(uniLib||(uniLib={})),function(uniLib){var CompressUtil=function(){function CompressUtil(){}return CompressUtil.init=function(e,t,n){void 0===e&&(e=CompressType.NONE),uniLib.Global.compressType=e,t&&t.call(n)},CompressUtil.compressByType=function(e,t){switch(t){case CompressType.GZIP:return pako.deflate(e);case CompressType.FLATE:return pako.deflate(e,{raw:!0})}},CompressUtil.uncompressByType=function(e,t){switch(t){case CompressType.GZIP:return pako.inflate(e,{to:"string"});case CompressType.FLATE:return pako.inflate(e,{to:"string",raw:!0})}},CompressUtil.stringToUint=function(e){for(var t=encodeURIComponent(e).split(""),n=[],i=0;i<t.length;i++)n.push(t[i].charCodeAt(0));return new Uint8Array(n)},CompressUtil.uintToString=function(e){var t=String.fromCharCode.apply(null,e);return decodeURIComponent(t)},CompressUtil.char2buf=function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),i=e.split(""),r=0;r<i.length;r++)n[r]=i[r].charCodeAt();return t},CompressUtil.buf2char=function(buf){for(var out="",u16a=new Uint16Array(buf),single,i=0;i<u16a.length;i++){for(single=u16a[i].toString(16);single.length<4;)single="0".concat(single);out+="\\u"+single}return eval("'"+out+"'")},CompressUtil.Utf8ArrayToStr=function(e){var t,n,i,r,o,a;for(t="",i=e.length,n=0;n<i;)switch((r=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(r);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[n++],a=e[n++],t+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&a)<<0)}return t},CompressUtil.stringToArray=function(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t},CompressUtil.arrayLikeToArray=function(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t},CompressUtil.stringToCodePoints=function(e){for(var t=[],n=0,i=e.length;n<e.length;){var r=e.charCodeAt(n);if(uniLib.NumberUtils.inRange(r,55296,57343))if(uniLib.NumberUtils.inRange(r,56320,57343))t.push(65533);else if(n==i-1)t.push(65533);else{var o=e.charCodeAt(n+1);if(uniLib.NumberUtils.inRange(o,56320,57343)){var a=1023&r,s=1023&o;n+=1,t.push(65536+(a<<10)+s)}else t.push(65533)}else t.push(r);n+=1}return t},CompressUtil.encodeUTF8=function(e){for(var t=0,n=this.stringToCodePoints(e),i=[];n.length>t;){var r=n[t++];if(uniLib.NumberUtils.inRange(r,55296,57343))uniLib.Console.error("encode error:"+r);else if(uniLib.NumberUtils.inRange(r,0,127))i.push(r);else{var o,a;for(uniLib.NumberUtils.inRange(r,128,2047)?(o=1,a=192):uniLib.NumberUtils.inRange(r,2048,65535)?(o=2,a=224):uniLib.NumberUtils.inRange(r,65536,1114111)&&(o=3,a=240),i.push(uniLib.NumberUtils.div(r,Math.pow(64,o))+a);0<o;){var s=uniLib.NumberUtils.div(r,Math.pow(64,o-1));i.push(128+s%64),o-=1}}}return new Uint8Array(i)},CompressUtil.base64encode=function(e){try{this.b64pad}catch(e){this.b64pad=""}var t="";try{e=encodeURIComponent(e)}catch(e){uniLib.Console.error("error "+e.toString())}for(var n=e.length,i=0;i<n;i+=3)for(var r=e.charCodeAt(i)<<16|(i+1<n?e.charCodeAt(i+1)<<8:0)|(i+2<n?e.charCodeAt(i+2):0),o=0;o<4;o++)8*i+6*o>8*e.length?t+=this.b64pad:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>>6*(3-o)&63);return t},CompressUtil.base64decode=function(e){var t,n,i,r,o,a,s,l=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);for(a=e.length,o=0,s="";o<a;){for(;t=l[255&e.charCodeAt(o++)],o<a&&-1==t;);if(-1==t)break;for(;n=l[255&e.charCodeAt(o++)],o<a&&-1==n;);if(-1==n)break;s+=String.fromCharCode(t<<2|(48&n)>>4);do{if(61==(i=255&e.charCodeAt(o++)))return s;i=l[i]}while(o<a&&-1==i);if(-1==i)break;s+=String.fromCharCode((15&n)<<4|(60&i)>>2);do{if(61==(r=255&e.charCodeAt(o++)))return s;r=l[r]}while(o<a&&-1==r);if(-1==r)break;s+=String.fromCharCode((3&i)<<6|r)}return s=decodeURIComponent(s)},CompressUtil.compressStr=["","flate","zlib","gzip","lzw"],CompressUtil.b64pad="",CompressUtil}(),CompressType,GZ;uniLib.CompressUtil=CompressUtil,GZ=CompressType=uniLib.CompressType||(uniLib.CompressType={}),GZ[GZ.NONE=0]="NONE",GZ[GZ.FLATE=1]="FLATE",GZ[GZ.ZLIB=2]="ZLIB",GZ[GZ.GZIP=3]="GZIP",GZ[GZ.LZW=4]="LZW"}(uniLib||(uniLib={})),function(e){var t=function(){function e(){}return Object.defineProperty(e,"appConfig",{get:function(){return this._appConfig},enumerable:!0,configurable:!0}),e.initAppConfig=function(e){return this._appConfig||(this._appConfig=e),this._appConfig},e}();e.ConfigUtils=t}(uniLib||(uniLib={})),function(o){var a,e;(e=a=o.LOGLEVEL||(o.LOGLEVEL={}))[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.DEBUG_SERVER=4]="DEBUG_SERVER",e[e.INFO_SERVER=5]="INFO_SERVER",e[e.WARN_SERVER=6]="WARN_SERVER",e[e.ERROR_SERVER=7]="ERROR_SERVER";var t=function(){function e(){}return e.setLogLevel=function(e){1==this.isDevMode?this.LogLevel=a.DEBUG:(e&&(this.LogLevel=e),this.getLocalLevel(this.LogLevel)<=a.DEBUG?egret.Logger.logLevel=egret.Logger.ALL:this.getLocalLevel(this.LogLevel)<=a.INFO?egret.Logger.logLevel=egret.Logger.INFO:this.getLocalLevel(this.LogLevel)<=a.WARN?egret.Logger.logLevel=egret.Logger.WARN:this.getLocalLevel(this.LogLevel)<=a.ERROR&&(egret.Logger.logLevel=egret.Logger.ERROR))},e.init=function(e,t){o.Global.isH5?!0===Boolean(o.BrowersUtils.GetRequest("debug"))&&(this.isDevMode=e):this.isDevMode=e,this.setLogLevel(t)},e.logToServer=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!o.Global.isH5||1!=o.BrowersUtils.isLocal()){t=this.LOG_LEVEL_STR[e]+"\t"+t;n&&n.forEach(function(e){e&&(t+=e)});try{this.err_rqst=new o.HttpRequest,this.err_rqst.open(o.Global.logUrl),this.err_rqst.send(t)}catch(e){}}},e.getLocalLevel=function(e){return e>=a.DEBUG_SERVER&&(e=this.LogLevel-a.DEBUG_SERVER),e},e.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getLocalLevel(this.LogLevel);i<=a.DEBUG&&((null==e||null==e||"string"==typeof e&&""==e)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),o.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"LOG",e,t):console.log(e,t),i!=this.LogLevel&&this.logToServer(i,e,t))},Object.defineProperty(e,"logEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=a.DEBUG},enumerable:!0,configurable:!0}),e.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getLocalLevel(this.LogLevel);i<=a.DEBUG&&((null==e||null==e||"string"==typeof e&&""==e)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),o.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"DEBUG",e,t):console.log(e,t),i!=this.LogLevel&&this.logToServer(i,e,t))},Object.defineProperty(e,"debugEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=a.DEBUG},enumerable:!0,configurable:!0}),e.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getLocalLevel(this.LogLevel);i<=a.INFO&&((null==e||null==e||"string"==typeof e&&""==e)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),o.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"INFO",e,t):console.log(e,t),i!=this.LogLevel&&this.logToServer(i,e,t))},Object.defineProperty(e,"infoEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=a.INFO},enumerable:!0,configurable:!0}),e.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getLocalLevel(this.LogLevel);i<=a.WARN&&((null==e||null==e||"string"==typeof e&&""==e)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),o.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"WARN",e,t):console.log(e,t),i!=this.LogLevel&&this.logToServer(i,e,t))},Object.defineProperty(e,"warnEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=a.WARN},enumerable:!0,configurable:!0}),e.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getLocalLevel(this.LogLevel);i<=a.ERROR&&((null==e||null==e||"string"==typeof e&&""==e)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),o.Global.isH5?console.error((new Date).toTimeString().split(" ")[0],"ERROR",e,t):console.log(e,t),i!=this.LogLevel&&this.logToServer(i,e,t));var r=e;t&&t.forEach(function(e){e&&(r+=e)}),o.DebugView&&o.DebugView.Instance.addLog(r)},Object.defineProperty(e,"errorEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=a.ERROR},enumerable:!0,configurable:!0}),e.isDevMode=!1,e.LOG_LEVEL_STR=["[DEBUG]","[INFO]","[WARN]","[ERROR]"],e.LogLevel=7,e}();o.Console=t}(uniLib||(uniLib={})),onerror=function(e,t,n,i,r){var o="异常捕获:gameid:"+uniLib.Global.gameId+":lobbyid:"+uniLib.Global.lobbyGameId+":"+e+"url:"+t+"line:"+n;uniLib.Console.error(o),uniLib.DebugView&&uniLib.DebugView.Instance.addLog(o)},function(e){var o={};function t(e){if(!e)return null;var t=o[e];if(t)return t;var n=e.split("."),i=n.length;t=global;for(var r=0;r<i;r++){if(!(t=t[n[r]]))return null}return o[e]=t}function r(e){var t=typeof e;if(!e||"object"!=t&&!e.prototype)return t;var n=e.prototype?e.prototype:Object.getPrototypeOf(e);if(n.hasOwnProperty("__class__"))return n.__class__;var i=n.constructor.toString().trim(),r=i.indexOf("("),o=i.substring(9,r);return Object.defineProperty(n,"__class__",{value:o,enumerable:!1,writable:!0}),o}e.getDefinitionByName=t,e.hasDefinition=function(e){return!!t(e)},e.test=function(e){var t="^"+e+".";for(var n in o)n.match(t)&&console.error("匹配成功:"+n)},e.delDefinitionByName=function(e){if(!e)return null;var t="^"+e+".";if(-1==e.indexOf("."))for(var n in o)n.match(t)&&(o[n]=null,delete o[n]);else o[e]=null,delete o[e]},e.getQualifiedSuperclassName=function(e){if(!e||"object"!=typeof e&&!e.prototype)return null;var t=e.prototype?e.prototype:Object.getPrototypeOf(e),n=Object.getPrototypeOf(t);if(!n)return null;var i=r(n.constructor);return i||null},e.getQualifiedClassName=r}(uniLib||(uniLib={})),function(uniLib){var DeviceUtils=function(){function DeviceUtils(){}return DeviceUtils.vibrate=function(e){void 0===e&&(e=1e3),navigator.vibrate?navigator.vibrate(e):navigator.webkitVibrate&&navigator.webkitVibrate(e)},DeviceUtils.uploadFile=function(file){if("undefined"!=typeof FileReader&&/image/i.test(file.type)){var reader=new FileReader,self=this;reader.onload=function(){var result=document.getElementById("result");result.innerHTML='<img id="photoImg" src="'+this.result+'" alt="" />';var texture=new egret.Texture;null!=egret.BitmapData?texture._setBitmapData(eval("new egret.BitmapData(document.getElementById('photoImg'))")):texture._setBitmapData(document.getElementById("photoImg")),DeviceUtils.srcImg.texture=texture},reader.readAsDataURL(file)}else console.error("抱歉！当前系统不支持此功能！")},DeviceUtils.traverseFiles=function(e){void 0!==e&&0<e.length&&DeviceUtils.uploadFile(e[0])},DeviceUtils.fileUpload=function(e){this.srcImg=e;var t=document.getElementById("files-upload");t.click();var n=this;t.addEventListener("change",function(){n.traverseFiles(this.files)},!1)},DeviceUtils.getMic=function(){},DeviceUtils.getScreen=function(){},DeviceUtils.callPhone=function(e){try{window.open("tel:"+e,"_self")}catch(e){}},DeviceUtils.sendMessage=function(e){try{window.open("sms:"+e,"_self")}catch(e){}},DeviceUtils.getCurUrl=function(){try{return location.href}catch(e){}},DeviceUtils.os_name="",DeviceUtils.os_version="",DeviceUtils.srcImg=new egret.Bitmap,DeviceUtils.curAngle=Number(window.orientation),DeviceUtils}();uniLib.DeviceUtils=DeviceUtils}(uniLib||(uniLib={})),function(d){var e=function(){function e(){}return e.createBitmapByName=function(e){var t=new egret.Bitmap,n=RES.getRes(e);return t.texture=n,t},e.createMovieClicp=function(e,t){var n=RES.getRes(e+"_json"),i=RES.getRes(e+"_png"),r=new egret.MovieClipDataFactory(n,i);return new egret.MovieClip(r.generateMovieClipData(t))},e.createMask=function(e,t,n,i){void 0===e&&(e=.3),void 0===i&&(i=0);var r=new egret.Sprite;return r.graphics.clear(),r.graphics.beginFill(i,e),r.graphics.drawRect(0,0,t||d.Global.screenWidth,n||d.Global.screenHeight),r.graphics.endFill(),r},e.createShape=function(e,t,n,i){void 0===e&&(e=.3),void 0===i&&(i=0);var r=new egret.Shape;return r.graphics.clear(),r.graphics.beginFill(i,e),r.graphics.drawRect(0,0,t||d.Global.screenWidth,n||d.Global.screenHeight),r.graphics.endFill(),r},e.createCircle=function(e,t,n){void 0===e&&(e=.3),void 0===n&&(n=0);var i=new egret.Sprite;return i.graphics.clear(),i.graphics.beginFill(n,e),i.graphics.drawCircle(0,0,t),i.graphics.endFill(),i},e.createParticle=function(e){var t,n=RES.getRes(e+"_png"),i=RES.getRes(e+"_json");return particle&&particle.GravityParticleSystem&&(t=new particle.GravityParticleSystem(n,i)),t},e.createDragonBonesDisplay=function(e,t,n,i,r){var o,a=RES.getRes(e);if(n&&null!=n)var s=RES.getRes(t),l=RES.getRes(n);else s=RES.getRes(t+"_json"),l=RES.getRes(t+"_png");if(d.StringUtils.stringIsNullOrEmpty(i)&&(i="armature"),dragonBones)if(egret.Capabilities.engineVersion<"5.0"){var c=new dragonBones.EgretFactory;c.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(a)),c.addTextureAtlas(new dragonBones.EgretTextureAtlas(l,s)),r?(o=c.buildFastArmature(i)).enableAnimationCache(r):o=c.buildArmature(i)}else{var u=new dragonBones.EgretFactory;u.parseDragonBonesData(a),u.parseTextureAtlasData(s,l),r?(o=u.buildFastArmature(i)).enableAnimationCache(r):o=u.buildArmature(i)}return o},e.runDragonBonesArmature=function(e,t,n,i){void 0===i&&(i=!0),null!=e?(dragonBones.WorldClock.clock.add(e),i?e.animation.gotoAndPlay(t,0,-1,n,0):e.animation.gotoAndStop(t,0)):d.Console.error("armature不能为空")},e.destoryDragonBonesArmature=function(e,t){null!=e?(dragonBones.WorldClock.clock.remove(e),e.animation&&e.animation.stop(),e.dispose()):d.Console.error("armature不能为空")},e.createTextLabel=function(e,t,n,i,r,o,a,s,l,c,u,d){void 0===e&&(e=0),void 0===t&&(t="left"),void 0===n&&(n="none"),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===c&&(c=0),void 0===u&&(u=0),void 0===d&&(d=0);var h=new egret.TextField;return h.textColor=e,h.textAlign=t,h.fontFamily="微软雅黑",h.text=n,h.size=i,0!=r&&(h.width=r),0!=o&&(h.height=o),0!=a&&a!=s&&(h.strokeColor=a,h.stroke=s),h.rotation=u,0!=d&&(h.skewX=d),h.x=l,h.y=c,h},e.removeFromParent=function(e){e&&e.parent&&e.parent.removeChild(e)},e.getChildIndex=function(e){return e&&e.parent?e.parent.getChildIndex(e):0},e.removeAllChildren=function(e){for(;e&&e.numChildren&&0<e.numChildren;)this.removeFromParent(e.getChildAt(0))},e.catchScreen=function(e,t){var n=new egret.RenderTexture;return n.drawToTexture(e),n.toDataURL("image/png",t||new egret.Rectangle(0,0,e.width,e.height))},e.catchScreenToTex=function(e,t,n){var i=new egret.RenderTexture;return i.drawToTexture(e,t,n),i},e.lightArea=function(e,t){void 0===t&&(t=.8);var n=new egret.DisplayObjectContainer,i=d.DisplayUtils.createShape(t,d.Global.screenWidth,d.Global.screenHeight);n.addChild(i),n.addChild(e),e.blendMode=egret.BlendMode.ERASE;var r=new egret.RenderTexture;r.drawToTexture(n);var o=new egret.Bitmap;return o.texture=r,o},e.playTweenGroup=function(e,t){if(t)for(var n in e.items)e.items[n].props={loop:!0};e.play()},e.stopTweenGroup=function(e){if(e.items)for(var t in e.items)e.items[t].props={loop:!1};e.stop()},e.ticketStarted=!1,e}();d.DisplayUtils=e}(uniLib||(uniLib={})),function(d){var h=function(){function e(){}return e.MovieClip="MovieClip",e.ARMATURE="Armature",e}();d.DragonType=h;var e=function(){function u(){}return u.createFastDragonBones=function(e,t,n,i,r){var o;void 0===n&&(n="armature");var a=RES.getRes(e),s=RES.getRes(t);return a&&s?(0==dragonBones.hasMovieGroup(i)&&dragonBones.addMovieGroup(RES.getRes(e),s,i),o=dragonBones.buildMovie(n,i),r&&o.enableAnimationCache(r),o):null},u.showFastDragon=function(e,t,n,i,r,o,a,s,l){var c;if(void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=h.MovieClip),void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=0),""!=e){if(!(c=u.createFastDragonBones(e+"_ske_dbmv",e+"_tex_png",n,e)))return;return c.x=null==i?d.Global.screenWidth-c.width>>1:i,c.y=null==r?d.Global.screenHeight-c.height>>1:r,null==o&&(o=d.SceneMgr.instance.currentScene?d.SceneMgr.instance.currentScene.effectLayer:egret.MainContext.instance.stage),s&&(c.timeScale=s),o.addChild(c),null==this.fastDragonGroup[e+"_"+o.hashCode]&&(this.fastDragonGroup[e+"_"+o.hashCode]={}),null==this.fastDragonGroup[e+"_"+o.hashCode][t]&&(this.fastDragonGroup[e+"_"+o.hashCode][t]={}),l?(null==this.fastDragonGroup[e+"_"+o.hashCode][t][l]&&(this.fastDragonGroup[e+"_"+o.hashCode][t][l]={}),this.fastDragonGroup[e+"_"+o.hashCode][t][l][c.hashCode]=c,this.fastDragonKeyGroup[l]=this.fastDragonGroup[e+"_"+o.hashCode][t]):this.fastDragonGroup[e+"_"+o.hashCode][t][c.hashCode]=c,c.play(t,a),c}},u.removeFastDragonbyContainer=function(e,t,n){for(var i in this.fastDragonGroup)0<=i.indexOf("_"+e.hashCode)&&(this.removeDragonFromDic(this.fastDragonGroup[i],t,n),t||delete this.fastDragonGroup[i])},u.removeFastDragonByDragonName=function(e,t,n){for(var i in void 0===e&&(e=""),this.fastDragonGroup)0<=i.indexOf(e+"_")&&(this.removeDragonFromDic(this.fastDragonGroup[i],t,n),t||delete this.fastDragonGroup[i])},u.removeFastDragonByKey=function(e){if(this.fastDragonKeyGroup[e]&&this.fastDragonKeyGroup[e][e]){for(var t in this.fastDragonKeyGroup[e][e])this.fastDragonKeyGroup[e][e][t].stop(),d.DisplayUtils.removeFromParent(this.fastDragonKeyGroup[e][e][t]),delete this.fastDragonKeyGroup[e][e][t];delete this.fastDragonKeyGroup[e][e],this.fastDragonKeyGroup[e]=null,delete this.fastDragonKeyGroup[e]}},u.removeDragonFromDic=function(e,t,n){if(t){if(e[t])if(n){if(e[t][n])for(var i in e[t][n])e[t][n][i]&&(e[t][n]instanceof dragonBones.Movie?(e[t][n][i].stop(),d.DisplayUtils.removeFromParent(e[t][n][i]),delete e[t][n][i]):this.removeDragonFromDic(e[t],n))}else{for(var r in e[t])e[t][r]&&(e[t][r]instanceof dragonBones.Movie?(e[t][r].stop(),d.DisplayUtils.removeFromParent(e[t][r]),delete e[t][r]):this.removeDragonFromDic(e[t],r));delete e[t]}}else for(var i in e)this.removeDragonFromDic(e,i)},u.createDragonBonesDisplay=function(e,t,n,i,r){var o,a=RES.getRes(e);if(n&&null!=n)var s=RES.getRes(t),l=RES.getRes(n);else s=RES.getRes(t+"_json"),l=RES.getRes(t+"_png");if(d.StringUtils.stringIsNullOrEmpty(i)&&(i="armature"),dragonBones)if(egret.Capabilities.engineVersion<"5.0"){var c=new dragonBones.EgretFactory;c.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(a)),c.addTextureAtlas(new dragonBones.EgretTextureAtlas(l,s)),r?(o=c.buildFastArmature(i)).enableAnimationCache(r):o=c.buildArmature(i)}else{var u=new dragonBones.EgretFactory;u.parseDragonBonesData(a),u.parseTextureAtlasData(s,l),r?(o=u.buildFastArmature(i)).enableAnimationCache(r):o=u.buildArmature(i)}return o},u.runDragonBonesArmature=function(e,t,n,i){void 0===i&&(i=!0),null!=e?(dragonBones.WorldClock.clock.add(e),i?e.animation.gotoAndPlay(t,0,-1,n,0):e.animation.gotoAndStop(t,0)):d.Console.error("armature不能为空")},u.destoryDragonBonesArmature=function(e,t){null!=e?(dragonBones.WorldClock.clock.remove(e),e.animation&&e.animation.stop(),e.dispose()):egret.warn("armature不能为空")},u.fastDragonGroup={},u.fastDragonKeyGroup={},u}();d.DragonUtils=e}(uniLib||(uniLib={})),function(i){var e=function(){function e(){}return e.rotationEffect=function(e,t){if(void 0===t&&(t=1e3),null==this.rotationArr&&(this.rotationArr=[]),!this.rotationArr[e.hashCode]){null!=this.rotationArr[e.hashCode]&&this.rotationArr[e.hashCode]||(this.rotationArr[e.hashCode]=!0);var n=function(){this.rotationArr[e.hashCode]&&null!=e&&(e.rotation=0,egret.Tween.get(e).to({rotation:360},t).call(n,this))};e.rotation=0,egret.Tween.get(e).to({rotation:360},t).call(n,this)}},e.removeRotationEffect=function(e){null==this.rotationArr&&(this.rotationArr=[]),this.rotationArr[e.hashCode]=!1},e.blinkEffect=function(e,t){void 0===t&&(t=1e3),new i.BitmapBlink(e,t)},e.shakeObj=function(e){var t=e.x;egret.Tween.get(e).to({x:e.x-10},80),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},80)},this,160),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},80)},this,240),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},80)},this,320),egret.setTimeout(function(){egret.Tween.get(e).to({x:t},80)},this,400)},e.shakeScreen=function(e,t){void 0===t&&(t=1);var n=e.x,i=e.y;1==t?(egret.Tween.get(e).to({x:e.x-10},40),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},40)},this,80),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},40)},this,120),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},40)},this,160),egret.setTimeout(function(){egret.Tween.get(e).to({x:n},40)},this,200)):(egret.Tween.get(e).to({x:e.x-10,y:e.y},40),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20,y:e.y},40)},this,80),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+15},40)},this,120),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y-20},40)},this,160),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+10},40)},this,200),egret.setTimeout(function(){egret.Tween.get(e).to({x:n,y:i},40)},this,240))},e.showTips=function(e,t,n){switch(void 0===e&&(e=""),void 0===t&&(t=1),void 0===n&&(n=!1),t){case 1:i.TipsUtils.showTipsDownToUp(e,i.TextColors.RED);break;case 2:i.TipsUtils.showTipsLeftOrRight(e,i.TextColors.RED,!0);break;case 3:i.TipsUtils.showTipsLeftOrRight(e,i.TextColors.RED,!1);break;case 4:i.TipsUtils.showTipsFromCenter(e,i.TextColors.RED);break;case 5:i.TipsUtils.showTipsBigToSmall(e,i.TextColors.RED)}},e.playEffect=function(e,t){if(void 0===t&&(t=1),!this.isPlayEffectPlay){this.isPlayEffectPlay=!0;var n=function(){this.isPlayEffectPlay=!1};egret.Tween.get(e).to({scaleX:.5,scaleY:.5,x:e.x+e.width/4,y:e.y+e.height/4},100,egret.Ease.sineIn).call(function(){1==t?egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},500,egret.Ease.elasticOut).call(n,this):2==t?egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},500,egret.Ease.backOut).call(n,this):3==t&&egret.Tween.get(e).to({scaleX:1,scaleY:1,x:e.x-e.width/4,y:e.y-e.height/4},100).call(n,this)},this)}},e.playScaleEffect=function(e){var t=function(){if(null!=e){e.alpha=1,egret.Tween.get(e).to({scaleX:1.5,scaleY:1.5,alpha:0},1e3).call(function(){e.scaleX=1,e.scaleY=1,egret.Tween.get(e).to({alpha:1},1e3).call(t,self)},self)}};t()},e.flyObj=function(e,t,n){void 0===n&&(n=50);var i=function(){if(null!=e){egret.Tween.get(e).to({y:e.y+n},t).call(function(){egret.Tween.get(e).to({y:e.y-n},t).call(i,this)},this)}};i()},e.rockObj=function(e,t,n){void 0===n&&(n=20);var i=function(){if(null!=e){egret.Tween.get(e).to({rotation:n},t).call(function(){egret.Tween.get(e).to({rotation:-n},t).call(i,this)},this)}};i()},e.typerEffect=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=200);for(var i=t.split(""),r=i.length,o=0;o<r;o++)egret.setTimeout(function(){e.appendText(i[Number(this)])},o,n*o)},e.rotationArr=[],e.isPlayEffectPlay=!1,e}();i.EffectUtils=e}(uniLib||(uniLib={})),function(a){var e=function(){function o(){}return o.dataURLtoBlob=function(e){for(var t,n=e.split(","),i=n[0].match(/:(.*?);/)[1],r=(t=window.atob?atob(n[1]):a.CompressUtil.base64decode(n[1])).length,o=new Uint8Array(r);r--;)o[r]=t.charCodeAt(r);return new Blob([o],{type:i})},o.upLoadFileByUrl=function(e,t,n){var i={uri:e,type:"image/png",name:"upload.png"};this.upLoadFile(i,t,n)},o.upLoadBase64File=function(e,t,n,i){var r=o.dataURLtoBlob(e);this.upLoadFile(r,t,n)},o.upLoadBase64=function(e,t,n,i){var r=new a.HttpRequest(t,t,n);r.open(this.base64FileUploadUrl,null,!0),r.send(e)},o.upLoadFile=function(e,t,n){var i=new FormData;if(e){switch(e.type){case"image/png":i.append("img",e,"image.png");break;case"image/jpg":i.append("img",e,"image.jpg");break;case"audio/amr":i.append("amr",e,"sound.amr")}var r=new a.HttpRequest(t,t,n);r.open(this.fileUploadUrl,null,!0),r.send(i)}},o.fileUploadUrl="http://image.mj.ucjoy.com:8888/form/upload",o.base64FileUploadUrl="http://image.mj.ucjoy.com:8888/upload",o}();a.FileUtils=e}(uniLib||(uniLib={})),function(p){var e=function(){function h(){}return h.checkJsIsExist=function(e,t){if(1==p.Global.isH5)if(t&&null!=t){if(p.hasDefinition(t))return!0}else{document.body.setAttribute("style","");for(var n=document.getElementsByTagName("script"),i=0;i<n.length;i++)if(-1<n[i].src.indexOf(e))return!0}return!1},h.isLobbyMode=function(){return"LobbyScene"==egret.getQualifiedClassName(p.SceneMgr.instance.currentScene)},h.LoadGame=function(o,a,s,l,c,u,d){if(void 0===d&&(d=!0),""!=p.ResLoadMgr.instance.curLoadingGrp)return p.Console.warn("资源组 ["+p.ResLoadMgr.instance.curLoadingGrp+"] 正在加载,请等待后台加载完成"),!1;if(this.lastGameInfo&&this.lastGameInfo.gameId==s.gameId)return!1;for(var e in this.lastGameInfo=s,this.lastDownloadUrl=this.lastGameInfo.gameCodeUrl,0==p.Global.isInGame&&(this.lastGameInfo.candestroyGrps=[]),RES.configInstance.groupDic)-1==this.lastGameInfo.candestroyGrps.indexOf(e)&&this.lastGameInfo.candestroyGrps.push(e);RES.hasOwnProperty("getVersionController")&&(o=RES.getVersionController().getVirtualUrl(o));var t=function(e){h.gameRemotePaths&&0<h.gameRemotePaths.length&&(s.gameResConfigUrl=p.Global.CdnDomains[0]+h.gameRemotePaths[0]+s.gameResConfigUrl,s.gameResRoot=p.Global.CdnDomains[0]+h.gameRemotePaths[0]+s.gameResRoot,s.gameTheme&&(s.gameTheme=p.Global.CdnDomains[0]+h.gameRemotePaths[0]+s.gameTheme)),l&&(s.preloadUI=l),s.preloadUIAutoHide=d;var t=h.getGameStage(a,s);if(t){if(console.debug("gamemain:"+t.hashCode),0==p.Global.isInGame&&p.Global.initOpt&&p.Global.initOpt.lobbyResConfigUrl){h.lobbyResGrps=[];var n=p.ResUtils.getGroupDic();for(var i in n)p.Global.initOpt.lobbyCommonResGrps&&-1==p.Global.initOpt.lobbyCommonResGrps.indexOf(i)&&(RES.destroyRes(i),h.lobbyResGrps.push(i))}if(p.UIMgr.instance.clearOldSceneUis(),l&&(t.preLoadCallBack=function(){1==d&&p.UIMgr.instance.hideLoading(l)}),c&&c.call(u,t),0==p.Global.isInGame){p.Global.isInGame=!0,p.SceneMgr.instance.currentScene.addGame(t);try{var r={};r.gameId=s.gameId,r.time=(new Date).getTime(),p.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,JSON.stringify(r))}catch(e){p.Console.error("设置游戏GameId失败")}}return!0}return 0==p.Global.isH5&&egret.hasDefinition("egret_native")&&egret_native.isFileExists(o)&&egret_native.deleteUpdateFile(o),console.error("找不到游戏主类:"+a),p.UIMgr.instance.hideLoading(),!1};if(l&&(1==d?p.UIMgr.instance.showProcessBar(l,2,100,"正在加载游戏...","",!1):p.UIMgr.instance.showLoadingParam(l,s.gameId,egret.MainContext.instance.stage)),null==this.lbscene&&(p.SceneMgr.instance.currentScene?this.lbscene=egret.getQualifiedClassName(p.SceneMgr.instance.currentScene):s.defaultScene&&(this.lbscene=s.defaultScene)),this.checkJsIsExist(o,p.Global.isWxGame()?a:null))return t();l&&p.UIMgr.instance.showLoadingTimeout(l,"",0),this.LoadGameJs(o,function(){return t()})},h.enterGame=function(e,t,n,i,r){return void 0===r&&(r=!0),this.LoadGame(e.gameCodeUrl,e.gameDoc,e,t,n,i,r)},h.gameDownloaded=function(e){try{if(1==p.Global.isH5)return!0;RES.hasOwnProperty("getVersionController")&&(e=RES.getVersionController().getVirtualUrl(e));var t=this.gameNativeFolder+e;if(console.error("fileExist:"+egret_native.isFileExists(t)),egret.hasDefinition("egret_native")&&egret_native.isFileExists(t))return!0}catch(e){return!1}return!1},h.downloadGame=function(i,r,o,a,s){var l=this;i.gameCodeUrl!=this.lastDownloadUrl&&l.destroyGameResesGrps(this.lastDownloadUrl),this.lastDownloadUrl=i.gameCodeUrl;var e=function(e){var t,n;h.gameRemotePaths&&0<h.gameRemotePaths.length?(t=p.Global.CdnDomains[0]+h.gameRemotePaths[0]+i.gameResConfigUrl,n=p.Global.CdnDomains[0]+h.gameRemotePaths[0]+i.gameResRoot):(t=i.gameResConfigUrl,n=i.gameResRoot),console.error("downloadGame gameCfgUrl:"+t),p.ResUtils.loadGameGroupReses(t,function(e){p.ResUtils.removeGroup(i.gameResConfigUrl),e&&(l.loadedGameResesDic[i.gameCodeUrl]=e.data,l.destroyGameResesGrps(i.gameCodeUrl));var t=i.gameCodeUrl;RES.hasOwnProperty("getVersionController")&&(t=RES.getVersionController().getVirtualUrl(t)),r&&(s?r.call(s,e):r(e))},o,function(e){if(0==p.Global.isH5){var t=h.gameNativeFolder+c;egret.hasDefinition("egret_native")&&egret_native.deleteUpdateFile(t)}a&&(s?a.call(s,e):a(e))},s,n)},c=i.gameCodeUrl;RES.hasOwnProperty("getVersionController")&&(c=RES.getVersionController().getVirtualUrl(c)),this.checkJsIsExist(c)?e():this.LoadGameJs(c,e,a,this)},h.destroyGameResesGrps=function(e){var t=this.loadedGameResesDic[e];if(t&&0<t.length){for(var n=0;n<t.length;n++){p.ResUtils.getGroupDic(t[n])&&RES.destroyRes(t[n])}p.ResUtils.clearResConfigByGroupName(t)}},h.LoadLobby=function(e,n,i,t,r,o){null==e&&(e="resource/main.min.js"),RES.hasOwnProperty("getVersionController")&&(e=RES.getVersionController().getVirtualUrl(e)),null==n&&(n="AppMain");var a=function(e){var t=p.getDefinitionByName(n);t&&p.SceneMgr.instance.changeScene(t,i)};this.checkJsIsExist(e)?a():(t&&p.UIMgr.instance.showLoadingTimeout(t,"",0),this.LoadGameJs(e,a))},h.ExitGame=function(e){var i=this;if(void 0===e&&(e=!0),1==p.Global.lobbyMode&&1==p.Global.isInGame){p.Global.gameId=p.Global.lobbyGameId,p.Global.isInGame=!1,p.NetMgr.http=null,p.NetMgr.closeSocket(),e&&(p.SoundMgr.instance.stopSounds(),p.SoundMgr.instance.stopBgMusic()),this.defaultLandscape!=p.ScreenUtils.landscape&&(p.ScreenUtils.landscape=!p.ScreenUtils.landscape);var t=function(){0==p.Global.isWxGame()&&i.removeGameJs(),"5.0"<=egret.Capabilities.engineVersion&&dragonBones&&(dragonBones.removeAllMovieGroup(),dragonBones.EgretFactory.factory.clear());try{p.Global.reloadDefine&&0<p.Global.reloadDefine.length&&p.BrowersUtils.LoadJses(p.Global.reloadDefine)}catch(e){console.log("重加载公共资源失败！")}if(p.SceneMgr.instance.currentScene.removeGame)p.SceneMgr.instance.currentScene.removeGame(),p.SceneMgr.instance.currentScene.uiLayer.visible=!0;else{var e=p.getDefinitionByName(i.lbscene);p.SceneMgr.instance.changeScene(e)}if(p.delDefinitionByName("Cmd"),p.Global.initOpt.changeGameCmd&&(p.delDefinitionByName(p.Global.initOpt.changeGameCmd),delete p.Global.initOpt.changeGameCmd),h.lastGameInfo&&h.lastGameInfo.defaultScene&&""!=h.lastGameInfo.defaultScene){var t=h.lastGameInfo.defaultScene.split("."),n=void 0;0<t.length&&(n=t[0]),n&&p.delDefinitionByName(n)}p.UIMgr.instance.clearOldSceneUis(),p.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,null),p.Global.dispatchEvent(p.ZqEvent.UPDATE_USER_INFO),p.Global.dispatchEvent(p.ZqEvent.CHECK_VERSION_UPDATE),i.lastGameInfo=null,p.DebugView.Instance.show()};if(this.lastGameInfo&&RES.configInstance.groupDic){var n=[];for(var r in RES.configInstance.groupDic)-1==this.lastGameInfo.candestroyGrps.indexOf(r)&&n.push(r)}var o=void 0;if((o=p.Global.initOpt.lobbyMinResGrps&&0<p.Global.initOpt.lobbyMinResGrps.length?p.Global.initOpt.lobbyMinResGrps:h.lobbyResGrps)&&0<o.length){if(p.UIMgr.instance.showProcessBar(null),p.ResLoadMgr.instance.loadGrps(o,t,null,this,null,!1),n&&0<n.length){for(var a=0;a<n.length;a++)RES.destroyRes(n[a]),p.ResUtils.removeGroup(n[a]);p.ResUtils.clearResConfigByGroupName(n)}}else t()}else egret.warn("is not lobby model or not in game")},h.reloadGame=function(e,t,n,i,r,o){1==p.Global.lobbyMode&&(p.Global.gameId=p.Global.lobbyGameId,p.Global.isInGame=!1,p.NetMgr.http=null,p.NetMgr.closeSocket(),this.defaultLandscape!=p.ScreenUtils.landscape&&(p.ScreenUtils.landscape=!p.ScreenUtils.landscape),p.SoundMgr.instance.stopSounds(),p.SoundMgr.instance.stopBgMusic(),p.SceneMgr.instance.currentScene.removeGame?(p.SceneMgr.instance.currentScene.removeGame(),p.SceneMgr.instance.currentScene.uiLayer.visible=!0):p.SceneMgr.instance.changeScene(p.LobbyScene),p.delDefinitionByName("Cmd"),this.removeGameJs(),p.UIMgr.instance.clearOldSceneUis(),p.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,null),p.Global.dispatchEvent(p.ZqEvent.UPDATE_USER_INFO),p.Global.dispatchEvent(p.ZqEvent.CHECK_VERSION_UPDATE),this.lastGameInfo=null,this.LoadGame(e,t,n,i,r,o))},Object.defineProperty(h,"lastGame",{get:function(){return 0},enumerable:!0,configurable:!0}),h.LoadGameJs=function(e,t,n,i){p.BrowersUtils.LoadJS("lobbygame",e,t,n,i)},h.getGameStage=function(e,t){var n=p.getDefinitionByName(e);if(n)return new n(t)},h.removeGameJs=function(){if(1==p.Global.isH5&&document){var e=document.getElementById("lobbygame"),t=document.getElementsByTagName("HEAD").item(0);e&&t.removeChild(e)}},h.egretLoaded=function(){var e=document.getElementById("loading");document.body.removeChild(e)},h.gameNativeFolder="",h.gameLoadRemote=!1,h.loadedGameResesDic={},h}();p.GameModuleUtils=e}(uniLib||(uniLib={})),function(s){var e=function(){function r(){}return r.selectImage=function(e,t){if(s.BrowersUtils.isWechat())this.selectImageWX(e,t);else{this.selectedHandler=e,this.thisRef=t;var n=document.getElementById("fileInput");null==n&&((n=document.createElement("input")).id="fileInput",n.type="file",n.accept="image/*",n.style.height="0px",n.style.display="block",n.style.overflow="hidden",document.body.insertBefore(n,document.body.firstChild),n.addEventListener("change",this.tmpSelectFile,!1)),setTimeout(function(){n.click()},100)}},r.selectImageWX=function(e,t){this.selectedHandler=e,this.thisRef=t,wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var t=e.localIds;this.tmpCreateImage(t[0])}})},r.tmpSelectFile=function(e){var t=e.target.files[0],n=t.type;n||(n=r.mime[t.name.match(/\.([^\.]+)$/i)[1]]);var i=r.myCreateObjectURL(t);r.tmpCreateImage&&r.tmpCreateImage(i,t),document.getElementById("fileInput").value=""},r.tmpCreateImage=function(e,r){var o=this,a=new Image;a.onload=function(){var e=document.createElement("canvas"),t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),e.width=a.width,e.height=a.height,t.drawImage(a,0,0,a.width,a.height);var n=e.toDataURL("image/png");if(a.width=a.height=1,o.selectedHandler){var i=new s.ZQGameObj;i.cmd=s.ZQGameSdk.PICKPHOTO,i.code=0,i.data={},i.data.imgBase64=n,i.data.imgLen=n.length,i.data.file=r,o.selectedHandler.call(o.thisRef,i)}},a.src=e,a.style.visibility="hidden",document.body.appendChild(a)},r.myCreateObjectURL=function(e){return null!=window.URL?window.URL.createObjectURL(e):window.webkitURL.createObjectURL(e)},r.myResolveObjectURL=function(e){null!=window.URL?window.URL.revokeObjectURL(e):window.webkitURL.revokeObjectURL(e)},r.getImageData=function(e,t,n){this.bytesHandler=t,this.thisRef=n;try{var i=new FileReader}catch(e){console.log("no support FileReader")}i.onload=function(){this.bytesHandler&&this.bytesHandler(this.thisRef,this.result)},i.readAsArrayBuffer(e)},r.mime={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",bmp:"image/bmp"},r.MAX_HEIGHT=300,r}();s.H5Upload=e}(uniLib||(uniLib={})),function(e){var t=function(){function e(){}return e.randomInt=function(e,t){if(t-e<=0)return 0;var n=t-e;return Math.floor(Math.random()*n)+e},e.inRange=function(e,t,n){return t<=e&&e<=n},e.div=function(e,t){return Math.floor(e/t)},e.getZeroTimeStamp=function(){var e=new Date,t=e.getUTCFullYear()+"/"+(e.getUTCMonth()+1)+"/"+e.getUTCDate();return new Date(t).getTime()/1e3},e.getTimeStamp=function(){var e=(new Date).getTime()/1e3;return parseInt(e.toString())},e.getAngle=function(e,t,n,i){var r=n-e,o=i-t,a=r/Math.sqrt(Math.pow(r,2)+Math.pow(o,2)),s=Math.acos(a),l=180/(Math.PI/s);return o<0?l=-l:0==o&&r<0&&(l=180),l},e.getCurrencyUnitByLen=function(e){var t="";switch(e){case 2:t="百";break;case 3:t="千";break;case 4:t="万";break;case 5:t="十万";break;case 6:t="百万";break;case 7:t="千万";break;case 8:t="亿";break;case 9:t="十亿";break;case 10:t="百亿";break;case 11:t="千亿";break;case 12:t="兆"}return t},e}();e.NumberUtils=t}(uniLib||(uniLib={})),function(g){var h,e,t=function(){function d(){}return d.resetSoundLoadTimes=function(){for(var e in this._resRequestSoundLoadTimes)this._resRequestSoundLoadTimes[e]=null,delete this._resRequestSoundLoadTimes[e]},d.setMustRes=function(e){try{for(var t in this._mustResList=[],e){var n=e[t];n&&n.resName&&-1==this._mustResList.indexOf(n.resName)&&this._mustResList.push(n.resName)}}catch(e){g.Console.warn("setMustRes:必须资源列表出错,请检查必须资源列表格式")}},d.init=function(){0==this.inited&&(this.inited=!0,RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),"undefined"!=typeof dragonBones&&egret.startTick(this.onDragonBonesTick,egret.MainContext.instance.stage))},d.onDragonBonesTick=function(e){return"undefined"!=typeof dragonBones&&(dragonBones.WorldClock.clock.advanceTime(-1),!0)},d.onItemLoadError=function(e){0<=this._mustResList.indexOf(e.resItem.name)&&g.Utils.restart(e.resItem.name+"资源加载失败,请重新启动游戏","确定")},d.getRes=function(a,i,r,e){var o=this,s=this;function l(e){if(s._needLoadDicCallBack[a]){for(;0<s._needLoadDicCallBack[a].length;){var t=s._needLoadDicCallBack[a].shift();t[0].call(t[1],e,a)}delete s._needLoadDicCallBack[a]}else null!=r?i.call(r,e,a):i&&i(e,a);if(-1!=s._loadingDic.indexOf(a)&&(s._asynLoadLevel--,s._loadingDic.splice(s._loadingDic.indexOf(a),1)),0<s._needloadDic.length&&this._asynLoadLevel<this.MAX_LOAD_LEVEL){var n=s._needloadDic.shift();s.getRes(n,l,s)}}function c(e){s._resRequestSoundLoadTimes[a]=0;var t=e.target;t.removeEventListener(egret.Event.COMPLETE,c,s),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,u,s);var n=t.data;i&&i(n,a)}function u(e){var t=e.target;if(t.removeEventListener(egret.Event.COMPLETE,c,s),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,u,s),g.Console.error("加载资源失败："+a),null!=s._resRequestSoundLoadTimes[a]&&0<s._resRequestSoundLoadTimes[a]){s._resRequestSoundLoadTimes[a]--;var n=new egret.URLLoader;n.dataFormat=egret.URLLoaderDataFormat.SOUND,n.once(egret.Event.COMPLETE,c,s),n.once(egret.IOErrorEvent.IO_ERROR,u,s);var i,r=RES.configInstance.getResourceItem(a);RES.getVersionController&&(i=RES.getVersionController().getVirtualUrl(r.url));var o=new egret.URLRequest(i);n.load(o)}}if(!(egret.Capabilities.engineVersion<"5.0.0"&&e==egret.URLLoaderDataFormat.SOUND)){var t=void 0;try{t=RES.hasRes(a)}catch(e){t=!1}return t?RES.getResAsync(a,function(e,t){if(e)l(e);else{if(0<=o._loadingDic.indexOf(a)){var n=[i,r];return null==o._needLoadDicCallBack[a]&&(o._needLoadDicCallBack[a]=[]),void o._needLoadDicCallBack[a].push(n)}if(o._asynLoadLevel<o.MAX_LOAD_LEVEL)o._loadingDic.push(a),o._asynLoadLevel++,RES.getResAsync(a,l,o);else{n=[i,r];-1==o._needloadDic.indexOf(a)&&o._needloadDic.push(a),null==o._needLoadDicCallBack[a]&&(o._needLoadDicCallBack[a]=[]),o._needLoadDicCallBack[a].push(n)}}},this):RES.getResByUrl(a,l,this,e)}if(null!=this._resRequestSoundLoadTimes[a])return 0==this._resRequestSoundLoadTimes[a]?void 0:void this._resRequestSoundLoadTimes[a]++;this._resRequestSoundLoadTimes[a]=1;var n=new egret.URLLoader;n.dataFormat=egret.URLLoaderDataFormat.SOUND,n.once(egret.Event.COMPLETE,c,s),n.once(egret.IOErrorEvent.IO_ERROR,u,s);var d=RES.configInstance.getResourceItem(a);if(null!=d){var h;RES.getVersionController&&(h=RES.getVersionController().getVirtualUrl(d.url));var p=new egret.URLRequest(h);n.load(p)}else g.Console.error("找不到将要加载的资源："+a+"\t"+h)},d.clearResConfigByConfigName=function(e){var t=RES.configInstance;for(var n in t.groupDic){var i=t.groupDic[n];for(var r in i)0<=e.indexOf(r)&&t.keyMap[i[r].name]&&(i[r].name=null,delete i[r].name);t.groupDic[n]=null,delete t.groupDic[n]}},d.clearCfgByConfigName=function(e,t){for(var n=[],i=0;i<t.groups.length;i++)0<=e.indexOf(t.groups[i].name)&&(n=n.concat(t.groups[i].keys.split(",")),t.groups.splice(i,1));for(i=0;i<t.resources.length;i++){var r=t.resources[i];0<=n.indexOf(r.name)&&t.resources.splice(i,1)}return t},d.clearResConfigByGroupName=function(e){for(var t=RES.configInstance,n=0;n<e.length;n++){for(var i=RES.getGroupByName(e[n]),r=0;r<i.length;r++)i[r].loaded=!1,t.keyMap[i[r].name]=null,delete t.keyMap[i[r].name];t.groupDic[e[n]]&&(t.groupDic[e[n]]=null,delete t.groupDic[e[n]])}},d.getBmp=function(e,t,n,i){var r;return void 0===i&&(i=!0),i&&(r=this.resPool.active("bm_"+e)),null==r.texture&&this.getRes(e,function(e){r.texture=e,t&&t.call(n,r)}),r},d.freeBmp=function(e,t){this.resPool.free(e,"bm_"+t)},d.getMovieClip=function(r,o,a,s,e){void 0===e&&(e=!1);var l=0;null==o&&(o="");var c=[r+"_json",r+"_png"];function t(e,t){if(++l!=c.length);else{var n=new egret.MovieClipDataFactory(RES.getRes(r+"_json"),RES.getRes(r+"_png")),i=new egret.MovieClip(n.generateMovieClipData(o));a.call(s,i)}}for(var n in c)this.getRes(c[n],t,this)},d.freeMovieClip=function(e,t,n){},d.getParticle=function(o,e,a,s){var l=0;null==e&&(e="");var c=[o+"_json",o];function t(e,t){if(++l==c.length){var n,i=RES.getRes(o),r=RES.getRes(o+"_json");return n=new particle.GravityParticleSystem(i,r),void a.call(s,n)}}for(var n in c)this.getRes(c[n],t,this)},d.loadResConfig=function(e){},d.loadGameGroupReses=function(i,r,o,a,s,l){void 0===l&&(l="resource/");var c=[],u=this;null==this.loadedConfig[i]?(this.loadedConfig[i]={},this.loadedConfig[i].status=h.LOADDING,this.getRes(i,function(e){var t=[];if(e&&e.groups&&0<e.groups.length){for(var n=0;n<e.groups.length;n++)c.push(e.groups[n].name),0==d.isGroupInConfig(e.groups[n].name)&&t.push(e.groups[n].name);g.Global.initOpt.lobbyCommonResGrps&&0<g.Global.initOpt.lobbyCommonResGrps.length&&d.clearCfgByConfigName(g.Global.initOpt.lobbyCommonResGrps,e),RES.hasOwnProperty("parseConfig")&&RES.parseConfig(e,l),g.ResLoadMgr.instance.loadGrps(c,function(){u.loadedConfig[i].status=h.LOADED,e.data=t,r.call(s,e)},function(e){u.loadedConfig[i]&&(u.loadedConfig[i]=null,delete u.loadedConfig[i]),RES.destroyRes(i),d.clearResConfigByGroupName(t),a&&a.call(s,e)},this,function(e){o&&o.call(s,e)})}else u.loadedConfig[i]&&(u.loadedConfig[i]=null,delete u.loadedConfig[i]),RES.destroyRes(i),d.clearResConfigByGroupName(t),a&&a.call(s,e)},this)):this.loadedConfig[i].status==h.LOADED&&r.call(s)},d.removeGroup=function(e){var t=d.getGroupDic();t&&(t[e]?(t[e]=null,delete t[e]):t[e]&&(t[e]=null,delete t[e]))},d.isGroupInConfig=function(e){return!!d.getGroupDic(e)},d.getGroupDic=function(e){var t,n=RES.configInstance;return n&&(n.groupDic&&n.groupDic?t=e?n.groupDic[e]:n.groupDic:n.config&&n.config.groups&&(t=e?n.config.groups[e]:n.config.groups)),t},d.getObjFactoryGroup=function(e){return null==this.objfactorys[e]&&(this.objfactorys[e]=new g.ObjectFactoryGroup[e]),this.objfactorys[e]},d.MAX_LOAD_LEVEL=1,d._asynLoadLevel=0,d._loadingDic=[],d._needloadDic=[],d._needLoadDicCallBack={},d._resRequestSoundLoadTimes={},d.resPool=new g.ObjectFactoryGroup(egret.Bitmap),d._mustResList=[],d.inited=!1,d.loadedConfig={},d.objfactorys=[],d}();g.ResUtils=t,(e=h=g.GROUP_LOAD_STATUS||(g.GROUP_LOAD_STATUS={}))[e.LOADDING=0]="LOADDING",e[e.LOADED=1]="LOADED"}(uniLib||(uniLib={})),function(r){var e=function(){function e(){}return e.init=function(e){this.scaleMode=e,egret.MainContext.instance.stage.orientation==egret.OrientationMode.LANDSCAPE||egret.MainContext.instance.stage.orientation==egret.OrientationMode.LANDSCAPE_FLIPPED?this._landscape=!0:this._landscape=!1,r.GameModuleUtils.defaultLandscape=this._landscape,r.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,r.Global.screenHeight=egret.MainContext.instance.stage.stageHeight,egret.MainContext.instance.stage.addEventListener(egret.Event.RESIZE,this.onResizeNotify,this),this.resetScaleMode(),this.scaleFactor=r.Global.screenHeight/r.Global.designHeight},e.onDeactive=function(e){0!=r.Global.isActive&&(r.Global.isActive=!1,egret.Tween.pauseTweens(egret.MainContext.instance.stage),r.SoundMgr.instance.onDeActive(e))},e.onActive=function(e){1!=r.Global.isActive&&(r.Global.isActive=!0,egret.Tween.resumeTweens(egret.MainContext.instance.stage),r.SoundMgr.instance.onActive(e))},e.onResizeNotify=function(){1==r.Global.isH5?(r.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,r.Global.screenHeight=egret.MainContext.instance.stage.stageHeight):1==this._landscape?(r.Global.screenWidth=egret.MainContext.instance.stage.stageHeight,r.Global.screenHeight=egret.MainContext.instance.stage.stageWidth):(r.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,r.Global.screenHeight=egret.MainContext.instance.stage.stageHeight),this.scaleFactor=r.Global.screenHeight/r.Global.designHeight,r.SceneMgr.instance.currentScene&&r.SceneMgr.instance.currentScene.resize&&r.SceneMgr.instance.currentScene.resize(),r.PopUpMgr.resize(),r.DebugView.Instance.resize()},e.resetScaleMode=function(){this.scaleMode?egret.MainContext.instance.stage.scaleMode=this.scaleMode:egret.Capabilities.isMobile?egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH:egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.SHOW_ALL},Object.defineProperty(e,"landscape",{get:function(){return this._landscape},set:function(e){if(this._landscape!=e)if(this._landscape=e,1==r.Global.isH5)1==this._landscape?(egret.MainContext.instance.stage.orientation=egret.OrientationMode.LANDSCAPE,1==r.GameModuleUtils.defaultLandscape?egret.MainContext.instance.stage.setContentSize(r.Global.designWidth,r.Global.designHeight):(r.Global.screenWidth=r.Global.designHeight,r.Global.screenHeight=r.Global.designWidth,egret.MainContext.instance.stage.setContentSize(r.Global.designHeight,r.Global.designWidth))):(egret.MainContext.instance.stage.orientation=egret.OrientationMode.AUTO,1==r.GameModuleUtils.defaultLandscape?egret.MainContext.instance.stage.setContentSize(r.Global.designHeight,r.Global.designWidth):(r.Global.screenWidth=r.Global.designWidth,r.Global.screenHeight=r.Global.designHeight,egret.MainContext.instance.stage.setContentSize(r.Global.designWidth,r.Global.designHeight)));else if(1==this._landscape){var t=0,n=0;if(r.Global.screenWidth<r.Global.screenHeight){t=r.Global.screenWidth/r.Global.designWidth,n=(r.Global.screenHeight-t*r.Global.designHeight)/2;var i=r.Global.screenWidth;r.Global.screenWidth=r.Global.screenHeight,r.Global.screenHeight=i}else t=r.Global.screenHeight/r.Global.designWidth,n=(r.Global.screenWidth-t*r.Global.designHeight)/2;r.SceneMgr.instance.currentScene.x=r.Global.designWidth,r.SceneMgr.instance.currentScene.y=n,r.SceneMgr.instance.currentScene.rotation=90}else{i=r.Global.screenWidth;r.Global.screenWidth=r.Global.screenHeight,r.Global.screenHeight=i,r.SceneMgr.instance.currentScene.rotation=0,r.SceneMgr.instance.currentScene.x=0,r.SceneMgr.instance.currentScene.y=0}},enumerable:!0,configurable:!0}),e.scaleFactor=1,e._landscape=!1,e}();r.ScreenUtils=e}(uniLib||(uniLib={})),function(p){var e=function(){function e(){}return e.stringIsNullOrEmpty=function(e){return null==e||0==e.length},e.MD5=function(e){return(new p.md5).hex_md5(e)},e.ltrim=function(e){return e.replace(/(^\s*)/g,"")},e.rtrim=function(e){return e.replace(/(\s*$)/g,"")},e.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},e.sTrim=function(e){return e.replace(/\s/g,"")},e.checkPhone=function(e){return!!/^1[34578]\d{9}$/.test(e)},e.checkEmail=function(e){return!!/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(e)},e.getPosition=function(e,t,n){void 0===n&&(n=1);for(var i=new RegExp(t,"g");n--;)i.test(e);var r=i.lastIndex-t.length;return r<0?null:r},e.validNetUrl=function(e){var t=e.length;return"/"!=e.charAt(t-1)&&(e+="/"),e},e.formatCurrency=function(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=5);isNaN(e)&&(e=0);var r=e+"";null!=t&&"万"==t&&(i?i<5&&(i=5):i=5,r.length>=i?r=r.slice(0,r.length-4):t="");var o=r.split("."),a=!1,s="",l=r;if(2<=o.length&&(a=!0,s=o[1],l=o[0]),1==n){for(var c="",u=l.length,d=Math.ceil(u/3),h=1;h<=d;h++){var p=u-3*h;p<0&&(p=0);var g=u-3*h+3;c=l.substring(p,g)+(1==n?",":"")+c}c=c.substr(0,c.length-1)}else c=l;var f="";return f=a?c+"."+s:""+c,null!=t&&(f+=t),f},e.ip2int=function(e){var t=0;return e=e.split("."),t=256*Number(e[0])*256*256+256*Number(e[1])*256+256*Number(e[2])+Number(e[3]),t>>>=0},e.int2ip=function(e){var t=new Array;return t[0]=e>>>24>>>0,t[1]=e<<8>>>24>>>0,t[2]=e<<16>>>24,t[3]=e<<24>>>24,String(t[0])+"."+String(t[1])+"."+String(t[2])+"."+String(t[3])},e.getStrRealLength=function(e){for(var t=0,n=0;n<e.length;n++)127<e.charCodeAt(n)||94==e.charCodeAt(n)?t+=2:t++;return t},e.time2str=function(e){if(null==e)return"";e=10==e.toString().length?1e3*e:e;var t=new Date;return t.setTime(e),t.getFullYear()+"-"+this.getNumStr(t.getMonth()+1)+"-"+this.getNumStr(t.getDate())+"  "+this.getNumStr(t.getHours())+":"+this.getNumStr(t.getMinutes())+":"+this.getNumStr(t.getSeconds())},e.getNumStr=function(e){return e<10?"0"+e:e.toString()},e.formatCurrencyToUnit=function(e,t,n){var i;void 0===t&&(t=4),void 0===n&&(n=!0);var r="";t<4&&(t=4);var o=e.toString().split("."),a="";if(2<=o.length&&(!0,o[1]),(a=o[0]).length>t&&(i=a.length-t),t<=i&&(a=a.replace(a.substr(t,a.length),""),r=p.NumberUtils.getCurrencyUnitByLen(i)),4<=a.length&&1==n){for(var s="",l=a.length,c=Math.ceil(l/3),u=1;u<=c;u++){var d=l-3*u;d<0&&(d=0);var h=l-3*u+3;s=a.substring(d,h)+(1==n?",":"")+s}s=s.substr(0,s.length-1)}else s=a;return s+r},e.formatCurrencyByTotalLen=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=8),n<5&&(n=5);isNaN(e)&&(e=0);var i=Number(e)+"",r="";i.length>=n?i.length-4>=n?(i=i.slice(0,i.length-8),r="亿"):(i=i.slice(0,i.length-4),r="万"):r="";var o=i.split("."),a=!1,s="",l=i;if(2<=o.length&&(a=!0,s=o[1],l=o[0]),1==t){for(var c="",u=l.length,d=Math.ceil(u/3),h=1;h<=d;h++){var p=u-3*h;p<0&&(p=0);var g=u-3*h+3;c=l.substring(p,g)+(1==t?",":"")+c}c=c.substr(0,c.length-1)}else c=l;var f="";return f=a?c+"."+s:""+c,null!=r&&(f+=r),f},e.formatCurrencyNomal=function(e){if(0<=e.indexOf("万")&&(e=e.slice(0,e.length-1),e+="0000"),0<=e.indexOf(",")){var t=e.split(",");e="";for(var n=0;n<t.length;n++)e+=t[n]}return e},e.formatMMSS=function(e){var t=Math.floor(e/60)+"",n=e%60+"";return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),t+":"+n},e.formatHHMMSS=function(e,t){void 0===t&&(t=":");var n=Math.floor(e/60/60)+"",i=Math.floor(e/60)-60*parseInt(n)+"",r=e%60+"";return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),r.length<2&&(r="0"+r),n+t+i+t+r},e.isNetUrl=function(e){return-1!=e.indexOf("http://")||-1!=e.indexOf("HTTP://")||-1!=e.indexOf("https://")||-1!=e.indexOf("HTTPS://")},e.formatDDHHMMSS=function(e,t){void 0===t&&(t=":");var n=e,i="",r="",o="",a="";return i=Math.floor(n/60/60/24)+"",0<(n-=24*parseInt(i)*60*60)&&(r=Number(n/60/60)+""),0<(n-=60*parseInt(r)*60)&&(o=Math.floor(n/60)+""),0<(n-=60*parseInt(o))&&(a=e%60+""),i.length<2&&(i="0"+i),r.length<2&&(r="0"+r),o.length<2&&(o="0"+o),a.length<2&&(a="0"+a),"天"==t?i+"天"+r+"时"+o+"分"+a:i+t+r+t+o+t+a},e.getVariables=function(e){for(var t=e.split("="),n={},i=0;i<t.length;)n[t[i]]=t[i+1],i+=2;return n},e.prototype.getStrRealLngth=function(e){var t=e.length,n=0;if(t){for(var i=0;i<t;i++)255<e.charCodeAt(i)?n+=2:n+=1;return n}return 0},e.simplifyNum=function(e){var t;return t=""+e,(1e4<=e&&e<1e8||e<=-1e4&&-1e8<e)&&(t=this.removeZero((e/1e4).toFixed(2),"万")),(1e8<=e||e<=-1e8)&&(t=this.removeZero((e/1e8).toFixed(2),"亿")),t},e.removeZero=function(e,t){var n=e;return"0"==e.charAt(e.length-1)&&"0"==(n=n.substr(0,n.length-1)).charAt(n.length-1)&&"."==(n=n.substr(0,n.length-1)).charAt(n.length-1)&&(n=n.substr(0,n.length-1)),n+=t},e}();p.StringUtils=e}(uniLib||(uniLib={})),function(e){var t=function(){function r(e,t,n,i){void 0===i&&(i=0),this.loopLimit=0,this.last=0,this.jumped=0,this.isStart=!1,this.begin=0,this.maxRandNum=30,this.delay=e,this.callFun=t,this._thisObj=n,this.loopLimit=i}return r.prototype.stop=function(){-1!=r.timerlists.indexOf(this)&&(this.isStart=!1,r.timerlists.splice(r.timerlists.indexOf(this),1))},r.prototype.start=function(e){void 0===e&&(e=30),null==r.timer&&(r.timerNumber=0,(r.timer=new egret.Timer(10)).addEventListener(egret.TimerEvent.TIMER,r.timerHandler,r),r.timer.start()),this.maxRandNum=e,this.isStart=!0,this.current=this.delay,this.last=egret.getTimer(),this.begin=this.last,this.jumped=0,r.timerlists.push(this)},r.prototype.remain=function(){return this.current},r.prototype.needRender=function(){return this.isStart?(this.current=this.current-(egret.getTimer()-this.last),this.last=egret.getTimer(),(this.last-this.begin)/this.delay-this.jumped):0},r.prototype.excute=function(){this.jumped++,0!=this.loopLimit&&this.jumped>this.loopLimit&&this.stop(),this.current=this.delay,this.callFun.call(this._thisObj)},r.timerHandler=function(){for(var e,t=0,n=0,i=0;i<r.timerlists.length;)for(e=r.timerlists[i],i++,(t=e.needRender())>e.maxRandNum&&(t=e.maxRandNum),n=0;n<t;)n++,e.excute()},r.TIMERBASE_DELAY=10,r.timerNumber=0,r.timerlists=[],r}();e.TimerBase=t}(uniLib||(uniLib={})),function(r){var e=function(){function e(){}return e.setDefaultSkin=function(e){this.useExml=!0,e&&(r.MsgTips.exmls=e)},e.showTipsDownToUp=function(e,t){var n;void 0===e&&(e=""),"string"==typeof e?1==this.useExml?((n=new r.MsgTips).label=e,t&&"boolean"!=typeof t&&(n.textColor=t)):((n=new egret.TextField).size=24,t&&(n.textColor="number"==typeof t?t:t?r.TextColors.RED:r.TextColors.GREEN),n.alpha=0,n.text=e,n.stroke=2,n.bold=!0,n.textAlign=egret.HorizontalAlign.CENTER):n=e,n.y=egret.MainContext.instance.stage.stageHeight/2,n.x=egret.MainContext.instance.stage.stageWidth/2-n.width/2,null!=r.SceneMgr.instance.currentScene&&null!=r.SceneMgr.instance.currentScene.tipsLayer?r.SceneMgr.instance.currentScene.tipsLayer.contains(n)||r.SceneMgr.instance.currentScene.tipsLayer.addChild(n):egret.MainContext.instance.stage.addChild(n);var i=function(){r.DisplayUtils.removeFromParent(n),n=null};n.visible=!0,egret.Tween.get(n).to({y:n.y-120,alpha:1},800,egret.Ease.backOut).wait(2e3).call(function(){egret.Tween.get(n).to({y:n.y-50,alpha:0},500).call(i,this)},this)},e.showTipsLeftOrRight=function(e,t,n){var i;void 0===e&&(e=""),void 0===n&&(n=!0),"string"==typeof e?1==this.useExml?((i=new r.MsgTips).label=e,t&&(i.textColor=t)):((i=new egret.TextField).size=24,t&&(i.textColor="number"==typeof t?t:t?r.TextColors.RED:r.TextColors.GREEN),i.alpha=0,i.text=e,i.stroke=2,i.bold=!0,i.textAlign=egret.HorizontalAlign.CENTER):i=e,i.x=n?-i.width:r.Global.screenWidth,i.y=r.Global.screenHeight/2,r.SceneMgr.instance.currentScene.tipsLayer.contains(i)||r.SceneMgr.instance.currentScene.tipsLayer.addChild(i),n?egret.Tween.get(i).to({x:r.Global.screenWidth/2-i.width/2-50,alpha:1},300,egret.Ease.sineInOut):egret.Tween.get(i).to({x:r.Global.screenHeight/2-i.width/2+50,alpha:1},300,egret.Ease.sineInOut),egret.setTimeout(function(){n?egret.Tween.get(i).to({x:i.x+100},500):egret.Tween.get(i).to({x:i.x-100},500)},this,300),egret.setTimeout(function(){n?egret.Tween.get(i).to({x:r.Global.screenWidth},300,egret.Ease.sineIn):egret.Tween.get(i).to({x:-i.width},300,egret.Ease.sineIn)},this,800),egret.setTimeout(function(){r.SceneMgr.instance.currentScene.tipsLayer.contains(i)&&(r.SceneMgr.instance.currentScene.tipsLayer.removeChild(i),i=null)},this,1100)},e.showTipsFromCenter=function(e,t){var n;void 0===e&&(e=""),"string"==typeof e?1==this.useExml?((n=new r.MsgTips).label=e,t&&"boolean"!=typeof t&&(n.textColor=t)):((n=new egret.TextField).size=24,t&&(n.textColor="number"==typeof t?t:t?r.TextColors.RED:r.TextColors.GREEN),n.alpha=0,n.text=e,n.stroke=2,n.bold=!0,n.textAlign=egret.HorizontalAlign.CENTER):n=e,n.y=r.Global.screenHeight/2,n.scaleX=0,n.scaleY=0,n.anchorOffsetX=n.width>>1,n.anchorOffsetY=n.height>>1,n.x=r.Global.screenWidth/2,r.SceneMgr.instance.currentScene.tipsLayer.contains(n)||r.SceneMgr.instance.currentScene.tipsLayer.addChild(n);var i=function(){r.SceneMgr.instance.currentScene.tipsLayer.contains(n)&&(r.SceneMgr.instance.currentScene.tipsLayer.removeChild(n),n=null)};egret.Tween.get(n).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(n).to({alpha:0},500).call(i,this)},this,1e3)},e.showTipsBigToSmall=function(e,t){var n;void 0===e&&(e=""),"string"==typeof e?1==this.useExml?((n=new r.MsgTips).label=e,t&&"boolean"!=typeof t&&(n.textColor=t)):((n=new egret.TextField).size=24,t&&(n.textColor="number"==typeof t?t:t?r.TextColors.RED:r.TextColors.GREEN),n.alpha=0,n.text=e,n.stroke=2,n.bold=!0,n.textAlign=egret.HorizontalAlign.CENTER):n=e,n.y=r.Global.screenHeight/2,n.anchorOffsetX=n.width>>1,n.anchorOffsetY=n.height>>1,n.scaleX=4,n.scaleY=4,n.x=r.Global.screenWidth/2,r.SceneMgr.instance.currentScene.tipsLayer.contains(n)||r.SceneMgr.instance.currentScene.tipsLayer.addChild(n);var i=function(){r.SceneMgr.instance.currentScene.tipsLayer.contains(n)&&(r.SceneMgr.instance.currentScene.tipsLayer.removeChild(n),n=null)};egret.Tween.get(n).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(n).to({alpha:0},500).call(i,this)},this,1e3)},e.useExml=!1,e}();r.TipsUtils=e}(uniLib||(uniLib={})),function(e){var a=function(){function e(e,t,n,i,r,o){void 0===i&&(i=0),void 0===r&&(r=3),void 0===o&&(o=!0),this.startmsec=0,this.lastmsec=0,this.frame_interval=0,this.frame_cur=0,this.playTimes=0,this._stageObj=e,this.playTimes=i,this.armature=t,this.startmsec=Date.now(),this.lastmsec=this.startmsec,this.frame_interval=r,o&&this.play(n,i)}return e.prototype.onEnterFrame=function(e){this.frame_cur%this.frame_interval==0&&this.advanceTime(),this.frame_cur+=1},e.prototype.onRemoveToStage=function(e){this.stop()},e.prototype.advanceTime=function(){var e=Date.now();this.armature.advanceTime(.001*(e-this.lastmsec)),this.lastmsec=e},e.prototype.onComplete=function(){this.stop()},e.prototype.play=function(e,t){this.playTimes=t,this.startmsec=Date.now(),this.lastmsec=this.startmsec,this.armature.animation.play(e,t),this._stageObj.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this),this.armature.addEventListener(egret.Event.COMPLETE,this.onComplete,this)},e.prototype.stop=function(){this._stageObj.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this),this.armature.removeEventListener(egret.Event.COMPLETE,this.onComplete,this)},e}();e.UniDragon=a,e.SetUniDragonTimeout=function(e,t,n,i,r,o){return void 0===i&&(i=0),void 0===r&&(r=3),void 0===o&&(o=!0),new a(e,t,n,i,r,o)}}(uniLib||(uniLib={})),function(e){var s=function(){function e(e,t,n,i,r){void 0===i&&(i=!1);for(var o=[],a=5;a<arguments.length;a++)o[a-5]=arguments[a];this.nextmsec=0,this.tick=0,this.params=[],this.callback=t,this._thisObj=r,this._stageObj=e,this.tick=n,this.params=o,this.nextmsec=i?Date.now()+this.tick:Date.now(),this.start()}return e.prototype.onEnterFrame=function(e){this.check(Date.now())},e.prototype.onRemoveToStage=function(e){this.stop()},e.prototype.check=function(e,t){return void 0===t&&(t=!1),!!(this.nextmsec<=e||t)&&(this.nextmsec=e+this.tick,(n=this.callback).call.apply(n,[this._thisObj].concat(this.params)),!0);var n},e.prototype.start=function(){this.nextmsec=Date.now()+this.tick,this._stageObj.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e.prototype.stop=function(e){void 0===e&&(e=!1),e&&this.check(Date.now(),e),this._stageObj.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e}();e.UniTimer=s;var l=function(){function e(e,t,n,i,r){for(var o=[],a=5;a<arguments.length;a++)o[a-5]=arguments[a];this.nextmsec=0,this.maxtimes=0,this.lefttimes=0,this.tick=0,this.params=[],this.callback=t,this._thisObj=r,this._stageObj=e,this.tick=n,this.params=o,this.maxtimes=i,this.lefttimes=i,this.nextmsec=Date.now()+this.tick,this.start()}return e.prototype.check=function(e,t){return void 0===t&&(t=!1),!!(0<this.lefttimes&&this.nextmsec<=e||t)&&(this.nextmsec=e+this.tick,this.lefttimes=this.lefttimes-1,(n=this.callback).call.apply(n,[this._thisObj].concat(this.params)),this.stop(),!0);var n},e.prototype.onEnterFrame=function(e){this.check(Date.now())},e.prototype.onRemoveToStage=function(e){this.stop()},e.prototype.start=function(){this.nextmsec=Date.now()+this.tick,this.lefttimes=this.maxtimes,this._stageObj.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e.prototype.stop=function(e){void 0===e&&(e=!1),e&&this.check(Date.now(),e),this.lefttimes=0,this._stageObj.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e.prototype.resume=function(){this.nextmsec=Date.now()+this.tick,this._stageObj.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e.prototype.pause=function(){this._stageObj.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._stageObj.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveToStage,this)},e}();e.UniEvent=l,e.SetUniTimerTimeout=function(e,t,n,i,r){void 0===i&&(i=!1);for(var o=[],a=5;a<arguments.length;a++)o[a-5]=arguments[a];return new(s.bind.apply(s,[void 0,e,t,n,i,r].concat(o)))},e.SetUniEventTimeout=function(e,t,n,i,r){for(var o=[],a=5;a<arguments.length;a++)o[a-5]=arguments[a];return new(l.bind.apply(l,[void 0,e,t,n,i,r].concat(o)))}}(uniLib||(uniLib={})),function(r){var e=function(){function i(){}return i.setLocalStorage=function(e,t){r.Global.nativeStorage?r.Global.nativeStorage.save({key:e,id:e,rawData:t,expires:null}):window.localStorage?localStorage.setItem(e,t):window.document&&window.document.cookie?r.BrowersUtils.setCookie(e,t):egret&&egret.localStorage.setItem(e,t)},i.getLocalStorage=function(e,t){var n;if(!r.Global.nativeStorage)return window.localStorage?(null!=(n=localStorage.getItem(e))&&(n=decodeURIComponent(n)),t&&t(n),n):window.document&&window.document.cookie?(null!=(n=r.BrowersUtils.getCookie(e))&&(n=decodeURIComponent(n)),t&&t(n),n):egret?(null!=(n=egret.localStorage.getItem(e))&&(n=decodeURIComponent(n)),t&&t(n),n):(t&&t(null),null);r.Global.nativeStorage.load({key:e,id:e,autoSync:!0,syncInBackground:!0}).then(function(e){t(e)}).catch(function(e){t(null)})},i.clearLocalStorage=function(e){try{if(1==r.Global.lobbyMode&&1==r.Global.isInGame)return;e?r.Global.nativeStorage?r.Global.nativeStorage.remove({key:e}):window.localStorage?localStorage.removeItem(e):window.document&&window.document.cookie?r.BrowersUtils.delCookie(e):egret&&egret.localStorage.removeItem(e):r.Global.nativeStorage?r.Global.nativeStorage.clearMap():window.localStorage?localStorage.clear():window.document&&window.document.cookie?r.BrowersUtils.delCookie():egret&&egret.localStorage.clear()}catch(e){}},i.sortJson=function(t){if("object"!=typeof t||null===t)return t;var n=Array.isArray(t)?[]:{};return Object.keys(t).sort().forEach(function(e){n[e]=i.sortJson(t[e])}),n},i.isIOS=function(){return 0==r.Global.isH5&&"iOS"==egret.Capabilities.os},i.isAndroid=function(){return 0==r.Global.isH5&&"Android"==egret.Capabilities.os},i.isAllScreen=function(){return r.Global.screenWidth>r.Global.screenHeight?2<r.Global.screenWidth/r.Global.screenHeight:2<r.Global.screenHeight/r.Global.screenWidth},i.isIPX=function(){return this.isAllScreen()&&this.isIOS()},i.isPad=function(){return r.Global.screenWidth>r.Global.screenHeight?r.Global.screenWidth/r.Global.screenHeight<1.7:r.Global.screenHeight/r.Global.screenWidth<1.7},i.restart=function(e,t,n){var i=this.isrebooting;(this.isrebooting=!0,1==r.Global.isH5)?1==confirm(e)?""!=r.Global.reLoginUrl?r.BrowersUtils.redirect(r.Global.reLoginUrl):r.BrowersUtils.reload():(this.isrebooting=!1,alert("取消重启")):i||r.Global.dispatchEvent(r.ZqEvent.ON_RESTART,[e,t,n])},i.getCachedPlatInfo=function(e,t,n,i){return void 0===n&&(n=0),r.Global.platId=n,r.Global.lobbyGameId=t,r.Global.getPlatToken(e,i)},i.getUrlQrCode=function(e,t,n){this.getShortUrl(e,function(e){t("http://qr.liantu.com/api.php?text="+e)})},i.getShortUrl=function(e,t){var n=new r.HttpRequest(function(e){t&&0==e.status&&t(e.tinyurl)});n.open("http://dwz.cn/create.php"),n.send("url="+e)},i.getDistance=function(e,t,n,i){if(90<Math.abs(e)||90<Math.abs(n))return 0;if(180<Math.abs(t)||180<Math.abs(i))return 0;var r=this.rad(e),o=this.rad(n),a=r-o,s=this.rad(t)-this.rad(i),l=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(r)*Math.cos(o)*Math.pow(Math.sin(s/2),2)));return l*=this.EARTH_RADIUS,l=Math.round(1e4*l)/1e4},i.rad=function(e){return e*Math.PI/180},i.isrebooting=!1,i.EARTH_RADIUS=6378137,i}();r.Utils=e}(uniLib||(uniLib={})),function(c){var e=function(){};c.Location=e;var t=function(){};c.QQGroupInfo=t;var n=function(){function l(){}return l.init=function(e,t,n){if(1!=this.isInited){this.isInited=!0;egret.ExternalInterface.addCallback(l.SENDTOJS,function(e){l.onNativeMessage(e)}),e&&(this._callBacks[this.INIT]=[e,t]);var i=new u;if(i.cmd=l.INIT,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i)),this.wxinit(),c.Global.addEventListener(c.ZqEvent.ON_RESTART,this.onRestart,this),c.Global.isH5&&e){var r=void 0;if(r=n||RES.getRes("config_json")){if(r[c.Global.appId])c.Global.gameConfig=r[c.Global.appId];else for(var o in r)if(0<=o.indexOf(c.Global.appId)){c.Global.gameConfig=r[o];break}c.Global.defaultConfig=c.Global.gameConfig,e.call(t,c.Global.gameConfig)}else e.call(t)}}},l.onRestart=function(e){var t,n,i,r=e.param;r[0]&&(t=r[0]),r[1]&&(n=r[1]),r[2]&&(i=r[2]),this.restart(t,n,i)},l.onNativeMessage=function(e){var t=JSON.parse(e);if(t.cmd){if(console.error("call func Name:"+t.cmd),t.cmd==this.CALL_STATE&&("callDisconnected"==t.data.callState?this._callState=f.DISCONNECTED:this._callState=f.CONNECTED),t.cmd==this.LOCATIONINFO&&0==t.code&&t.data&&(l.location.lng=Number(t.data.longitude),l.location.lat=Number(t.data.latitude),l.location.adcode=t.data.adcode,l.location.city=t.data.city,t.data.address&&(l.location.address=t.data.address)),t.cmd==this.RECORD_STOP&&(t.data&&t.data.voiceDuration?(c.SoundMgr.instance.pauseBgMusic(),c.SoundMgr.instance.soundPause=!0,setTimeout(function(){c.SoundMgr.instance.resumeBgMusic(),c.SoundMgr.instance.soundPause=!1},t.data.voiceDuration)):(c.SoundMgr.instance.resumeBgMusic(),c.SoundMgr.instance.soundPause=!1)),t.cmd==this.INIT){c.Global.bundleId=t.data.bundleId;var n=c.Global.bundleId.lastIndexOf("_");-1!=n&&(c.Global.appVersion=c.Global.bundleId.substring(n+1,c.Global.bundleId.length)),t.data&&(c.Global.zipmd5=t.data.zipmd5,t.data&&t.data.bundleInfo&&(this.updateBundleCfg(t.data.bundleInfo),t.data.bundleInfo.ios_minVersion&&t.data.bundleInfo.ios_minVersion.version&&t.data.bundleInfo.ios_minVersion.version>c.Global.appVersion&&t.data.bundleInfo.ios_minVersion.url&&l.openWeb(t.data.bundleInfo.ios_minVersion.url,_.EXPLORER)),t.data&&t.data.appTag,t.data.mtype&&(c.DeviceUtils.os_name=t.data.mtype),t.data.osversion&&(c.DeviceUtils.os_version=t.data.osversion))}if(t.cmd==this.UPDATE_CFG&&0==t.state&&t.data&&t.data.config){c.Global.gameConfig=t.data.config,c.Global.payPlatId=t.data.config.pay_platid,c.Global.platId=t.data.config.platid;var i=JSON.stringify(c.Utils.sortJson(t.data.config));c.Global.configmd5=c.StringUtils.MD5(i),console.error("cfg:"+i)}if(this._callBacks[t.cmd]?this._callBacks[t.cmd][1]&&null!=this._callBacks[t.cmd][1]?this._callBacks[t.cmd][0].call(this._callBacks[t.cmd][1],t):(this._callBacks[t.cmd][0]&&this._callBacks[t.cmd][0](t),c.Global.dispatchEvent(c.ZqEvent.NATIVE_TO_EGERET,t)):c.Global.dispatchEvent(c.ZqEvent.NATIVE_TO_EGERET,t),t.cmd==this.LOGIN)this.hideVk(),this._callBacks[this.LOGIN]&&(this._callBacks[this.LOGIN]=null,delete this._callBacks[this.LOGIN]);else if(t.cmd==this.NETSTATE)(l.lastNetState=t).data[l.NETSTATE]&&(l.netState=t.data[l.NETSTATE]),l.lastNetState.data&&!l.lastNetState.data[t.cmd]&&(l.lastNetState.data[t.cmd]=0);else if(t.cmd==this.UPDATE_CFG)for(var r in t.data)c.Global.defaultConfig[r]=t.data[r],c.Global.gameConfig[r]=t.data[r]}},l.wxinit=function(e){var t=new u;t.cmd=l.initWX,e&&(t.data={},t.data.wxappid=e),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.Login=function(e,t,n,i){n&&null!=n&&(e&&null!=e&&null==this._callBacks[this.LOGIN]&&(this._callBacks[this.LOGIN]=[e,n]),t&&null!=t&&null==this._callBacks[this.LOGOUT]&&(this._callBacks[this.LOGOUT]=[t,n]));var r={};r.cmd=l.LOGIN,r.code=0,r.data={},"number"==typeof i||"string"==typeof i?(-1==i&&(i=0),r.data.platid=i):i?(isNaN(i.platid)?r.data.platid=0:r.data.platid=i.platid,i.payplatid&&(r.data.payplatid=i.payplatid)):c.Global.gameConfig&&0==c.Global.gameConfig.platid?r.data.platid=c.Global.gameConfig.platid:r.data=null;var o=c.BrowersUtils.GetRequest("code");o&&(c.Global.gameConfig&&(c.Global.gameConfig.platid?r.data.platid=c.Global.gameConfig.platid:r.data.platid=0,c.Global.gameConfig.payplatid?r.data.payplatid=c.Global.gameConfig.payplatid:r.data.payplatid=c.Global.gameConfig.platid),c.Global.appId&&(r.data.appid=c.Global.appId),r.data.session=o),null!=r.data&&0==r.data.platid&&e?n?e.call(n,r):e(r):egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(r))},l.Logout=function(){var e=new u;e.cmd=l.LOGOUT,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(e))},l.exit=function(){var e=new u;e.cmd=l.EXITGAME,e.data=!0,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(e))},l.restart=function(e,t,n){n||c.NetMgr.closeSocket(),dragonBones&&(dragonBones.removeAllMovieGroup(),dragonBones.WorldClock.clock.clear(),dragonBones.EgretFactory.factory.clear(),dragonBones.EgretFactory.factory.dispose());var i=new u;i.cmd=l.RESTART;var r={};r.desc=e,r.confirm=t||"确定",r.cancel=n||"",i.data=r,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.update=function(e){var t=new u;t.cmd=l.UPDATE,t.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.updateInfo=function(e,t){var n=new u;n.cmd=l.UPDATE_INFO,n.type=e,n.data=t,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.pay=function(e,t,n){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.PAY]&&(this._callBacks[this.PAY]=[t,n]);var i=new u;i.cmd=l.PAY,i.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.payByPmd=function(e,t,n){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.PAY_PMD]&&(this._callBacks[this.PAY_PMD]=[t,n]);var i=new u;i.cmd=l.PAY_PMD,i.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.share=function(e,t,n,i){void 0===i&&(i=P.WX),this.wxinit(),t&&null!=t&&t&&null!=t&&(this._callBacks[this.SHARE]=[t,n]),l.defaultWXShareVo&&(e.webpageUrl||(e.webpageUrl=l.defaultWXShareVo.webpageUrl),e.title||(e.title=l.defaultWXShareVo.title),e.description||(e.description=l.defaultWXShareVo.description));var r=new u;r.cmd=l.SHARE,r.data=e,r.type=i,c.Console.log(JSON.stringify(r)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(r))},l.recordInit=function(e,t,n){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.RECORD_INIT]&&(this._callBacks[this.RECORD_INIT]=[t,n]);var i=new u;i.cmd=l.RECORD_INIT,i.data=e,c.Console.log(JSON.stringify(i)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.startRecord=function(e,t){if(this.lastRecordTime=(new Date).getTime(),0!=this.canRecord){this.canRecord=!1,c.SoundMgr.instance.pauseBgMusic(),c.SoundMgr.instance.soundPause=!0,e&&null!=e&&e&&null!=e&&null==this._callBacks[this.RECORD_START]&&(this._callBacks[this.RECORD_START]=[e,t]);var n=new u;n.cmd=l.RECORD_START,c.Console.log("startRecord:"+JSON.stringify(n)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))}},l.stopRecord=function(e,t){this.canRecord=!0,e&&null!=e&&e&&null!=e&&(this._callBacks[this.RECORD_STOP]=[e,t]);var n=new u;n.cmd=l.RECORD_STOP,c.Console.log("stopRecord:"+JSON.stringify(n)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n)),c.SoundMgr.instance.resumeBgMusic(),c.SoundMgr.instance.soundPause=!1,egret.Capabilities.supportVersion<"3.2.6"&&this.speakerActive()},l.playRecord=function(e,t,n){t&&null!=t&&t&&null!=t&&(this._callBacks[this.RECORD_PLAY]=[t,n]);var i=new u;i.cmd=l.RECORD_PLAY,i.data=e,c.Console.log("playRecord:"+JSON.stringify(i)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.stopPlayRecord=function(e,t,n){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.RECORD_PLAY_STOP]&&(this._callBacks[this.RECORD_PLAY_STOP]=[t,n]);var i=new u;i.cmd=l.RECORD_PLAY_STOP,i.data=e,c.Console.log(JSON.stringify(i)),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.xfSpeechInit=function(e,t,n,i){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.XF_SPEECH_INIT]&&(this._callBacks[this.XF_SPEECH_INIT]=[t,n]);var r=new u;r.cmd=l.XF_SPEECH_INIT,r.data={},r.data.appId=e,r.data.setParam=i,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(r))},l.xfUpdateWords=function(e,t,n){t&&null!=t&&t&&null!=t&&null==this._callBacks[this.XF_WORDS_UP]&&(this._callBacks[this.XF_WORDS_UP]=[t,n]);var i=new u;i.cmd=l.XF_WORDS_UP,i.data={},i.data.words=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.xfUpLoadGrammer=function(){},l.xfSpeechStart=function(e,t,n,i){e&&null!=e&&null==this._callBacks[this.XF_SPEECH_RESULT]&&(this._callBacks[this.XF_SPEECH_RESULT]=[e,n]),t&&null!=t&&t&&null!=t&&null==this._callBacks[this.XF_SPEECH_END]&&(this._callBacks[this.XF_SPEECH_END]=[t,n]);var r=new u;r.cmd=l.XF_SPEECH_START,r.data=i,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(r))},l.xfSpeechStop=function(e,t){e&&null!=e&&e&&null!=e&&null==this._callBacks[this.XF_SPEECH_START]&&(this._callBacks[this.XF_SPEECH_START]=[e,t]);var n=new u;n.cmd=l.XF_SPEECH_STOP,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.xfSpeechCacel=function(e,t){e&&null!=e&&e&&null!=e&&null==this._callBacks[this.XF_SPEECH_START]&&(this._callBacks[this.XF_SPEECH_START]=[e,t]);var n=new u;n.cmd=l.XF_SPEECH_CACEL,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},Object.defineProperty(l,"landscape",{set:function(e){var t=new u;t.cmd=l.LANDSCAPE,t.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},enumerable:!0,configurable:!0}),l.openWeb=function(e,t,n,i,r,o){void 0===t&&(t=0);var a=new u;a.cmd=l.OPENWEB;var s={};s.webUrl=e,n&&(s.webHeight=n),i&&(s.webWidth=i),r&&(s.webX=r),o&&(s.webY=o),s.model=t||_.AUTO,a.data=s,1==c.Global.isH5?window.open(e):egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(a))},l.prototype.regListenr=function(){},l.nativeCopyStr=function(e){var t=new u;t.cmd=l.NATIVECOPY,t.data={},t.data.copyStr=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.getConfig=function(e,t,n,i){var r=new u;r.cmd=l.GET_CONFIG,r.data={},t&&(r.data.configUrl=t),r.data.desc=e,r.data.confirm=n||"确定",r.data.cancel=i||"",egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(r))},l.getNaviveBoard=function(e,t){e&&null!=e&&e&&null!=e&&null==this._callBacks[this.NETSTATE]&&(this._callBacks[this.NETSTATE]=[e,t]);var n=new u;n.cmd=l.GETNATIVEBOARD,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.getNetStateType=function(e,t,n){if(null==this.lastGetNetStateTime)this.lastGetNetStateTime=(new Date).getTime();else if(!n){if((new Date).getTime()-this.lastGetNetStateTime<=2e3)return;this.lastGetNetStateTime=(new Date).getTime()}e&&null!=e&&e&&null!=e&&null==this._callBacks[this.NETSTATE]&&(this._callBacks[this.NETSTATE]=[e,t]);var i=new u;i.cmd=l.NETSTATE,c.Utils.isIOS()&&c.ZQGameSdk.lastNetState||egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.joinQQGroup=function(e){var t=new u;t.data=e,t.cmd=l.JOIN_QQ_GROUP,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.getCallStatus=function(e,t){e&&null!=e&&e&&null!=e&&null==this._callBacks[this.CALL_STATE]&&(this._callBacks[this.CALL_STATE]=[e,t]);var n=new u;return n.cmd=l.CALL_STATE,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n)),this._callState},l.getBatteryPer=function(e,t){e&&null!=e&&e&&null!=e&&null==this._callBacks[this.BATTERY]&&(this._callBacks[this.BATTERY]=[e,t]);var n=new u;n.cmd=l.BATTERY,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.localPush=function(e,t,n){void 0===n&&(n=0);var i=new u;i.cmd=l.LOCALPUSH,i.data={},i.data.pushTitle=e,i.data.pushMessage=t,i.data.pushTime=n.toString(),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.vibrate=function(e){var t=new u;t.cmd=l.VIBRATE,t.data={},t.data.delayTime=e.toString(),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.speakerActive=function(){var e=new u;e.cmd=l.SPEAKERACTIVE,e.data={},egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(e))},l.getLocation=function(e,t){e&&null!=e&&(this._callBacks[this.LOCATIONINFO]=[e,t]);var n=new u;return n.cmd=l.LOCATIONINFO,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n)),l.location},l.updateZip=function(e,t,n){t&&null!=t&&null==this._callBacks[this.UPDATE_ZIP]&&(this._callBacks[this.UPDATE_ZIP]=[t,n]);var i=new u;i.cmd=l.UPDATE_ZIP,i.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.pickPhoto=function(e,t,n,i,r){if(void 0===n&&(n=S.NORMAL),void 0===i&&(i=200),void 0===r&&(r=200),e&&null!=e&&(this._callBacks[this.PICKPHOTO]=[e,t]),c.Global.isH5)c.H5Upload.selectImage(e,t);else{var o=new u;o.cmd=l.PICKPHOTO,o.code=n,o.data={},o.data.code=n,o.data.width=i,o.data.height=r,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(o))}},l.updateApk=function(e,t,n){t&&null!=t&&null==this._callBacks[this.UPDATE_APK]&&(this._callBacks[this.UPDATE_APK]=[t,n]);var i=new u;i.cmd=l.UPDATE_APK,i.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(i))},l.hideVk=function(){var e=new u;e.cmd=l.HIDE_VK,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(e))},l.tdEvent=function(e){var t=new u;t.cmd=l.TD_EVENT,t.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.trackPoint=function(e){var t=new u;t.cmd=l.TRACK_POINT,t.data=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.updateCfg=function(e,t){t&&this.updateBundleCfg(t);var n=new u;n.cmd=l.UPDATE_CFG,n.data={},n.data.state=d.UPDATE,n.data.config=t,n.data.nativeconfig=e,console.error("update_cfg"),egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.updateBundleCfg=function(e){if(c.Global.gameConfig=c.Utils.sortJson(e),c.Global.gameConfig){c.Global.gameConfig.lobbyId&&(c.Global.gameConfig.lobbyId=Number(c.Global.gameConfig.lobbyId)),c.Global.gameConfig.is_sandbox&&(c.Global.is_sandbox=c.Global.gameConfig.is_sandbox);var t=JSON.stringify(c.Global.gameConfig);console.error("cfg:"+t),c.Global.configmd5=c.StringUtils.MD5(t),c.Global.gameConfig.pay_platid&&(c.Global.payPlatId=c.Global.gameConfig.pay_platid),c.Global.gameConfig.platid&&(c.Global.platId=c.Global.gameConfig.platid),c.Global.defaultConfig=c.Global.gameConfig}},l.pullCfg=function(e,t){e&&null!=e&&null==this._callBacks[this.UPDATE_CFG]&&(this._callBacks[this.UPDATE_CFG]=[e,t]);var n=new u;n.cmd=l.UPDATE_CFG,n.data={},n.data.state=d.DOWN,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.ymInit=function(e,t){var n=new u;n.cmd=l.YM_INIT,n.data={},n.data.appKey=e,n.data.appSecret=t,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.ymJoin=function(e,t){var n=new u;n.cmd=l.YM_JOIN,n.data={},n.data.uid=e,n.data.rid=t,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(n))},l.ymStart=function(){var e=new u;e.cmd=l.YM_STAT,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(e))},l.ymOpen=function(e,t,n,i,r,o){void 0===o&&(o=s.TOP);var a=new u;a.cmd=l.YM_OPEN,a.data={},a.data.uid=e,a.data.x=t,a.data.y=n,a.data.w=i,a.data.h=r,a.data.place=o,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(a))},l.ymClose=function(e){var t=new u;t.cmd=l.YM_OPEN,t.data={},t.data.uid=e,egret.ExternalInterface.call(l.SENDTONATIVE,JSON.stringify(t))},l.SENDTONATIVE="sendToNative",l.SENDTOJS="sendToJs",l.INIT="init",l.INIT_APP_BUNDLE_INFO="init_app_bundle_info",l.LOGIN="login",l.initWX="initWX",l.LOGOUT="logout",l.PAY="pay",l.PAY_PMD="pay_pmd",l.SHARE="share",l.XF_SPEECH_TYPE_ISA="isa",l.XF_SPEECH_TYPE_ASR="asr",l.LANDSCAPE="landscape",l.RECORD_INIT="recordInit",l.RECORD_START="recordStart",l.RECORD_STOP="recordStop",l.RECORD_PLAY="recordPlay",l.RECORD_PLAY_STOP="recordPlayStop",l.XF_SPEECH_INIT="xfSpeechInit",l.XF_SPEECH_START="xfSpeechStart",l.XF_SPEECH_RESULT="xfSpeechResult",l.XF_SPEECH_VOL="xfSpeechVol",l.XF_SPEECH_STOP="xfSpeechStop",l.XF_SPEECH_CACEL="xfSpeechCacel",l.XF_SPEECH_END="xfSpeechEnd",l.XF_WORDS_UP="xfWordsUp",l.XF_ABN_START="xfABNStart",l.CALL_STATE="callState",l.JOIN_QQ_GROUP="QQGroupInfo",l.HOT_UPDATE="hotUpdate",l.PICKPHOTO="pickPhoto",l.REDIRECT_INFO="redirect_info",l.EXITGAME="exitGame",l.RESTART="restart",l.OPENEXIT="openExit",l.OPENWEB="openWeb",l.NATIVECOPY="nativeCopy",l.GETNATIVEBOARD="getNativeBoard",l.NETSTATE="netState",l.netState=0,l.BATTERY="battery",l.LOCALPUSH="localPush",l.VIBRATE="vibrate",l.SPEAKERACTIVE="speakerActive",l.UPDATE="update",l.UPDATE_INFO="update_info",l.KEYDOWN="keydown",l.LOCATIONINFO="locationInfo",l.UPDATE_ZIP="updateZip",l.UPDATE_APK="updateApk",l.UPDATE_CFG="updateCfg",l.GET_CONFIG="getConfig",l.YM_INIT="ym_init",l.YM_JOIN="ym_join",l.YM_STAT="ym_stat",l.YM_OPEN="ym_open",l.YM_CLSE="ym_clse",l.HIDE_VK="hide_vk",l.TD_EVENT="td_event",l.TRACK_POINT="track_point",l._callBacks={},l.location=new e,l.isInited=!1,l._callState=0,l.lastRecordTime=0,l.canRecord=!0,l}();c.ZQGameSdk=n;var u=function(){};c.ZQGameObj=u;var i=function(){};c.ZipJson=i;var r=function(){};c.ApkJson=r;var s,o,a,l,d,h,p,g,f,m,_,y,S,b,P,v,C=function(){};c.XFSetParam=C,(o=s=c.YM_PLACE||(c.YM_PLACE={}))[o.TOP=0]="TOP",o[o.BOTTOM=1]="BOTTOM",(a=c.GRAMMARTYPE||(c.GRAMMARTYPE={}))[a.ONLINE=0]="ONLINE",a[a.OFFLINE=1]="OFFLINE",(l=c.SPEECHTYPE||(c.SPEECHTYPE={}))[l.SPEECH=0]="SPEECH",l[l.GRAMMAR=1]="GRAMMAR",(h=d=c.CONFIG_STATE||(c.CONFIG_STATE={}))[h.UPDATE=0]="UPDATE",h[h.DOWN=1]="DOWN",(p=c.UPDATE_INFO_TYPE||(c.UPDATE_INFO_TYPE={}))[p.LOGIN=0]="LOGIN",p[p.RECHARGE=1]="RECHARGE",(g=c.NetState||(c.NetState={}))[g.NO_SIGNAL=0]="NO_SIGNAL",g[g.WIFI=1]="WIFI",g[g.DATA_FLOWS=2]="DATA_FLOWS",g[g.WIFI_AND_DATA=3]="WIFI_AND_DATA",(m=f=c.CallState||(c.CallState={}))[m.DISCONNECTED=0]="DISCONNECTED",m[m.CONNECTED=1]="CONNECTED",(y=_=c.WEBMODEL||(c.WEBMODEL={}))[y.AUTO=0]="AUTO",y[y.EXPLORER=1]="EXPLORER",y[y.LAND=2]="LAND",(b=S=c.PICKPHOTO_TYPE||(c.PICKPHOTO_TYPE={}))[b.NORMAL=0]="NORMAL",b[b.AVAR=1]="AVAR",(v=P=c.SHARE_PLAT||(c.SHARE_PLAT={}))[v.WX=0]="WX",v[v.WJ=1]="WJ"}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(i){var e=function(n){function e(e){void 0===e&&(e="assets");var t=n.call(this)||this;return t.w=0,t.h=0,t.assets=RES.getRes(e),t.w=i.Global.screenWidth,t.h=i.Global.screenHeight,t.initPanel(),t}return __extends(e,n),e.prototype.initPanel=function(){},e.prototype.initData=function(){},e.prototype.onEnter=function(){},e.prototype.onExit=function(){},e.prototype.closePanel=function(){i.PopUpMgr.removePopUp(this)},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e}(egret.DisplayObjectContainer);i.BasePanel=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(n){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName='<?xml version=\'1.0\' encoding=\'utf-8\' ?>\n            <e:Skin width="340" height="70" xmlns:e="http://ns.egret.com/eui"><e:Rect right="0" left="0" top="0" bottom="0" fillColor="0x3B2C2C"/>\n            <e:EditableText id="str_input" width="218" height="37" x="12" y="17" text="说点什么吧" verticalAlign="middle" />\n                    <e:Button id="btn_send" label="发送" x="235" y="10" />\n                        <e:List height="266" width="335" x="2" y="-269" />\n                            </e:Skin>',e}return __extends(e,t),e.prototype.childrenCreated=function(){this.btn_send.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTuch,this),this.str_input.prompt="说点什么吧"},e.prototype.onTuch=function(e){n.NetMgr.sendChat(this.str_input.text)},e}(eui.Component);n.GMView=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(i){var e=function(n){function e(e){var t=n.call(this)||this;return t.uiLayer=new egret.DisplayObjectContainer,t.topLayer=new egret.DisplayObjectContainer,t.effectLayer=new egret.DisplayObjectContainer,t.mainUILayer=new egret.DisplayObjectContainer,t.maskLayer=new egret.DisplayObjectContainer,t.tipsLayer=new egret.DisplayObjectContainer,t.thmLoaded=!1,t.resLoaded=!1,e&&(t._gameInfo=e),i.SceneMgr.instance.init(t),t.initBaseLayers(),t.once(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(e,n),e.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.topLayer),this.addChild(this.effectLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},e.prototype.awake=function(){},e.prototype.onAddToStage=function(e){void 0===e&&(e=null),this._gameInfo?this.preLoadAndInit():this.start(e)},e.prototype.preLoadAndInit=function(){this._gameInfo.gameTheme&&""!=this._gameInfo.gameTheme?new eui.Theme(this._gameInfo.gameTheme,this.stage).addEventListener(eui.UIEvent.COMPLETE,this.loadedthm,this):this.thmLoaded=!0;console.log("preLoadAndInit"),RES.destroyRes(this._gameInfo.gameResConfigUrl),RES.getResByUrl(this._gameInfo.gameResConfigUrl,this.loadedCfg,this)},e.prototype.loadedthm=function(e){this.thmLoaded=!0,this.cfgComplete()},e.prototype.loadedCfg=function(e){console.error(e),e&&e.groups?(i.GameModuleUtils.loadGameTimeOut&&egret.clearTimeout(i.GameModuleUtils.loadGameTimeOut),this.resLoaded=!0,i.Global.initOpt.lobbyCommonResGrps&&0<i.Global.initOpt.lobbyCommonResGrps.length&&i.ResUtils.clearCfgByConfigName(i.Global.initOpt.lobbyCommonResGrps,e),RES.hasOwnProperty("parseConfig")&&RES.parseConfig(e,this._gameInfo.gameResRoot),RES.destroyRes(this._gameInfo.gameResConfigUrl),this.cfgComplete()):console.error("游戏config加载失败:"+this._gameInfo.gameResConfigUrl)},e.prototype.start=function(e){void 0===e&&(e=null)},e.prototype.cfgComplete=function(){console.log("thmLoaded:"+this.thmLoaded+" resLoaded:"+this.resLoaded),1==this.thmLoaded&&1==this.resLoaded&&(this._gameInfo.preLoad&&""!=this._gameInfo.preLoad?(console.log("this._gameInfo.preLoad:"+this._gameInfo.preLoad),i.ResLoadMgr.instance.load(this._gameInfo.preLoad,this.onResComplete,this.onResError,this,this._gameInfo.preloadUI,this._gameInfo.preloadUIAutoHide)):(this.preLoadEnd(),this.preLoadCallBack&&this.preLoadCallBack()))},e.prototype.onResComplete=function(e){e.groupName==this._gameInfo.preLoad&&(this.preLoadEnd(),this.preLoadCallBack&&this.preLoadCallBack())},e.prototype.preLoadEnd=function(){},e.prototype.resize=function(){},e.prototype.destroy=function(){},e.prototype.onResError=function(e){console.warn("Group:"+e.groupName+" has failed to load")},e.prototype.backToLobby=function(){"LobbyScene"==egret.getQualifiedSuperclassName(i.SceneMgr.instance.currentScene)&&i.SceneMgr.instance.currentScene.removeGame()},e}(egret.DisplayObjectContainer);i.GameDoc=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(e){var t=function(n){function e(e){var t=n.call(this)||this;return t.uiLayer=new egret.DisplayObjectContainer,t.topLayer=new egret.DisplayObjectContainer,t.effectLayer=new egret.DisplayObjectContainer,t.mainUILayer=new egret.DisplayObjectContainer,t.maskLayer=new egret.DisplayObjectContainer,t.tipsLayer=new egret.DisplayObjectContainer,t.initBaseLayers(),t.once(egret.Event.ADDED_TO_STAGE,t.start,t),t}return __extends(e,n),e.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.effectLayer),this.addChild(this.topLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},e.prototype.awake=function(){},e.prototype.start=function(e){void 0===e&&(e=null)},e.prototype.resize=function(){},e.prototype.destroy=function(){},e}(egret.DisplayObjectContainer);e.GameScene=t}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(i){var e=function(n){function e(e){var t=n.call(this)||this;return t.uiLayer=new egret.DisplayObjectContainer,t.topLayer=new egret.DisplayObjectContainer,t.effectLayer=new egret.DisplayObjectContainer,t.mainUILayer=new egret.DisplayObjectContainer,t.maskLayer=new egret.DisplayObjectContainer,t.tipsLayer=new egret.DisplayObjectContainer,t.gameLayer=new egret.DisplayObjectContainer,i.SceneMgr.instance.init(t),t.initBaseLayers(),t.once(egret.Event.ADDED_TO_STAGE,t.start,t),t}return __extends(e,n),e.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.topLayer),this.addChild(this.effectLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},e.prototype.awake=function(){},e.prototype.start=function(e){void 0===e&&(e=null)},e.prototype.resize=function(){},e.prototype.destroy=function(){},e.prototype.addGame=function(e){this.currentGame=e,null==this._bgMask&&(this._bgMask=i.DisplayUtils.createMask(0,i.Global.screenWidth,i.Global.screenHeight),this._bgMask.touchEnabled=!0,this._bgMask.visible=!0),this.gameLayer.addChild(this._bgMask),this.gameLayer.addChild(e),this.addChildAt(this.gameLayer,1)},e.prototype.removeGame=function(e){void 0===e&&(e=null);var t=i.SceneMgr.instance.currentScene.currentGame;t&&(t.parent&&t.parent.removeChild(t),t.destroy(),t=null),i.DisplayUtils.removeFromParent(this.gameLayer),this.gameLayer.removeChildren(),this.currentGame=null},e}(egret.DisplayObjectContainer);i.LobbyScene=e}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),uniLib;!function(n){var e=function(t){function e(){var e=t.call(this)||this;return e.init(),e.socketStatus.text="connecting",n.StatistcsMgr.instance.addEventListener(n.StatistcsMgr.SENDANDRECEIVE,e.updataSendAndReceive,e),n.StatistcsMgr.instance.addEventListener(n.StatistcsMgr.PING,e.updataPing,e),n.StatistcsMgr.instance.addEventListener(n.StatistcsMgr.SOCKETSTATUS,e.updataSocketStatus,e),n.StatistcsMgr.instance.addEventListener(n.StatistcsMgr.SENDEDANDRECEIVED,e.updataSendedAndReceived,e),e.once(egret.Event.REMOVED_FROM_STAGE,e.destroy,e),n.StatistcsMgr.instance.init(),e}return __extends(e,t),e.prototype.updataSendAndReceive=function(e){var t=e.data;this.sendB.text=t.send+"B/s",this.recevieB.text=t.receive+"B/s"},e.prototype.updataPing=function(e){this.ping.text=e.data+"ms"},e.prototype.updataSocketStatus=function(e){this.socketStatus.text=e.data},e.prototype.updataSendedAndReceived=function(e){this.sendKb.text=e.data.sended.toFixed(2)+"kb",this.recevieKb.text=e.data.received.toFixed(2)+"kb"},e.prototype.init=function(){this.createTextField("Ping"),this.ping=this.createTextFieldX(),this.createTextField("Status"),this.socketStatus=this.createTextFieldX(),this.createTextField("send"),this.sendB=this.createTextFieldX(),this.createTextField("receive"),this.recevieB=this.createTextFieldX(),this.createTextField("sended"),this.sendKb=this.createTextFieldX(),this.createTextField("recevied"),this.recevieKb=this.createTextFieldX()},e.prototype.createTextField=function(e){var t=new egret.TextField;return t.text=e,t.y=this.height+5,t.fontFamily="微软雅黑",t.size=18,this.addChild(t),t},e.prototype.createTextFieldX=function(){var e=new egret.TextField;return e.x=150,e.y=this.height-13,e.fontFamily="微软雅黑",e.size=18,this.addChild(e),e},e.prototype.destroy=function(){n.StatistcsMgr.instance.removeEventListener(n.StatistcsMgr.SENDANDRECEIVE,this.updataSendAndReceive,this),n.StatistcsMgr.instance.removeEventListener(n.StatistcsMgr.PING,this.updataPing,this),n.StatistcsMgr.instance.removeEventListener(n.StatistcsMgr.SOCKETSTATUS,this.updataSocketStatus,this),n.StatistcsMgr.instance.removeEventListener(n.StatistcsMgr.SENDEDANDRECEIVED,this.updataSendedAndReceived,this),n.StatistcsMgr.instance.destroy()},e}(egret.DisplayObjectContainer);n.StatistcsView=e}(uniLib||(uniLib={}));