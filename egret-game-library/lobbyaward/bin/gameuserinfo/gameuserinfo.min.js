var __reflect=this&&this.__reflect||function(t,i,e){t.__class__=i,e?e.push(i):e=[i],t.__types__=t.__types__?e.concat(t.__types__):e},__extends=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);e.prototype=i.prototype,t.prototype=new e},gameuserinfo;!function(t){var i=function(){function t(){}return t.RES_JSON="resource/gameuserinfo/gameuserinfo.res_42187511.json",t.THM_JSON="resource/gameuserinfo/gameEui_aa701ff8.json",t.GAME_USERINFO="game_userinfo",t}();t.UserInfoConst=i,__reflect(i.prototype,"gameuserinfo.UserInfoConst")}(gameuserinfo||(gameuserinfo={}));var gameuserinfo;!function(t){var i=function(t){function i(){var i=t.call(this,"zhangzhou_userinfo_json.userinfo_title",825,554)||this;return i.skinName="UserInfoSKin",i}return __extends(i,t),i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.initUI=function(){this._gift_group=new eui.Group,this._gift_group.x=39,this._gift_group.y=323,this._gift_group.width=712,this._gift_group.height=169,this.addChild(this._gift_group);for(var t,i=this.loadTable(),n=0;n<i.length;n++)t=new e,t.data=i[n],t.x=6+120*n,t.y=0,this._gift_group.addChild(t),t.name=i[n].giftId+"",t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.sendGiftHandle,this)},i.prototype.loadTable=function(){return RES.getRes("TableGift_json")},i.prototype.showUserInfo=function(t){t&&(this._data=t),this._data.nickname&&(this._name_lbl.text=this._data.nickname),this._data.uid&&(this._id_lbl.text="帐号："+this._data.uid),"nv"==this._data.gender?this._gender_img.source="userinfo_famale":this._gender_img.source="userinfo_male",this._data.ip?this._ip_lbl.text="地址："+this._data.ip:this._ip_lbl.text="未获取IP信息",this._data.headurl&&(this._head_img.source=this._data.headurl),this._data.diamond?this._data.chips>=1e5?this._diamond_lbl.text=this.numberFormat(this._data.diamond):this._diamond_lbl.text=this._data.diamond+"":this._diamond_lbl.text="0",this._data.chips?this._data.chips>=1e5?this._bean_lbl.text=this.numberFormat(this._data.chips):this._bean_lbl.text=this._data.chips+"":this._bean_lbl.text="0",this._data.address?this._gps_lbl.text=this._data.address:this._gps_lbl.text="未获取定位信息"},i.prototype.sendGiftHandle=function(t){var i=t.currentTarget.name;if(null!=this._data){if(this._data.uid==uniLib.UserInfo.uid){var e=new Cmd.GiftsInfo;e.giftsId=Number(i),e.toUid=0,e.fromUid=this._data.uid,e.giftsNum=1}else{var e=new Cmd.GiftsInfo;e.giftsId=Number(i),e.toUid=this._data.uid,e.fromUid=uniLib.UserInfo.uid,e.giftsNum=1}var n=new Cmd.SendGiftMahjongCmd_C;n.gift=e,uniLib.NetMgr.tcpSend(n),this.destory()}},i.prototype.destory=function(){uniLib.PopUpMgr.removePopUp(this),this.removeEvent(),this._head_img=null,uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this),this._data=null,this._id_lbl=null,this._ip_lbl=null,this._gps_lbl=null,this._name_lbl=null,this._gender_img=null,this._bean_lbl=null,this._diamond_lbl=null},i.prototype.numberFormat=function(t){var i;return i=1e5>t?""+t:t>=1e5&&1e6>t?(t/1e4).toFixed(0)+"万":t>=1e6&&1e7>t?(t/1e4).toFixed(0)+"万":t>=1e7&&1e8>t?(t/1e4).toFixed(0)+"万":t>=1e8&&1e10>t?(t/1e8).toFixed(2)+"亿":(t/1e8).toFixed(2)+"亿"},i}(commonpanel.LobbyBaseEuiPanel);t.UserInfoPanel=i,__reflect(i.prototype,"gameuserinfo.UserInfoPanel");var e=function(t){function i(){var i=t.call(this)||this;return i.skinName="GiftItemSkin",i}return __extends(i,t),i.prototype.dataChanged=function(){var t=this.data;this.name=t.giftId.toString(),this._gift_img.texture=RES.getRes("userinfo_gift"+t.giftId),this._gift_name.text=null!=t.giftName?t.giftName:""},i.prototype.destory=function(){uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},i}(eui.ItemRenderer);t.GiftItem=e,__reflect(e.prototype,"gameuserinfo.GiftItem")}(gameuserinfo||(gameuserinfo={}));