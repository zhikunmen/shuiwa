var __reflect=this&&this.__reflect||function(t,o,e){t.__class__=o,e?e.push(o):e=[o],t.__types__=t.__types__?e.concat(t.__types__):e},__extends=this&&this.__extends||function(t,o){function e(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);e.prototype=o.prototype,t.prototype=new e},joinroom;!function(t){var o=function(o){function e(){var t=o.call(this)||this;return t._boo=!1,t.skinName="HistroyJoinItemSkin",t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.clickHandle,t),t}return __extends(e,o),e.prototype.dataChanged=function(){var t=this.data,o=null!=t.matchName?t.matchName:t.matchId;this.roomInfo.text="老友圈ID:"+t.matchId+"\n老友圈名称:"+o},e.prototype.showInfo=function(){this._boo=!this._boo;var t=this.data,o=null!=t.matchName?t.matchName:t.matchId;this._boo?this.roomInfo.text=t.desc:this.roomInfo.text="老友圈ID:"+t.matchId+"\n老友圈名称:"+o},e.prototype.clickHandle=function(o){o.target==this.detailsBtn?this.showInfo():o.target==this.joinBtn&&(MsgSendMgr.enterRoom(this.data.matchId,-1),uniLib.PopUpMgr.removePopUp(t.JoinRoomPanel))},e}(eui.ItemRenderer);t.HistroyJoinRecordItem=o,__reflect(o.prototype,"joinroom.HistroyJoinRecordItem")}(joinroom||(joinroom={}));var joinroom;!function(t){var o=function(t){function o(){var o=t.call(this)||this;return o.skinName="MJ_JoinRoomButtonSkin",o.initUI(),o}return __extends(o,t),o.prototype.initUI=function(){this._inputTxt=LobbyUtils.getBitmapFontTxt("mjl_input_fn2_fnt",210,egret.HorizontalAlign.CENTER,1,25),this.addChild(this._inputTxt),this._inputTxt.touchEnabled=!1},Object.defineProperty(o.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,9==this._value||11==this._value,this._inputTxt.text=LobbyDataCache.langObj.uiTxt.JoinRoomPanel["key"+this._value]},enumerable:!0,configurable:!0}),o.prototype.destory=function(){},o}(eui.Button);t.InputKeyItem=o,__reflect(o.prototype,"joinroom.InputKeyItem")}(joinroom||(joinroom={}));var joinroom;!function(t){var o=function(t){function o(){var o=t.call(this)||this;return o.initUI(),o}return __extends(o,t),o.prototype.initUI=function(){var t=LobbyResUtil.createBitmapByName("mjl_join_numbg");t.scale9Grid=new egret.Rectangle(20,19,29,24),this.addChild(t),this.width=t.width=70,this.height=t.height=63,this._inputTxt=LobbyUtils.getBitmapFontTxt("mjl_input_fn1_fnt",62,egret.HorizontalAlign.CENTER,1,13),this.addChild(this._inputTxt)},Object.defineProperty(o.prototype,"value",{get:function(){return this._value},set:function(t){this._inputTxt.text=t.toString(),this._value=t},enumerable:!0,configurable:!0}),o.prototype["delete"]=function(){this._inputTxt.text=""},o}(egret.DisplayObjectContainer);t.InputNumItem=o,__reflect(o.prototype,"joinroom.InputNumItem")}(joinroom||(joinroom={}));var joinroom;!function(t){var o=function(){function t(){}return t.RES_JSON="resource/joinroom/joinroom.res_69f1e869.json",t.THM_JSON="resource/joinroom/gameEui_a0b19a04.json",t.PUB_JOINROOM="pub_joinroom",t}();t.JoinRoomConst=o,__reflect(o.prototype,"joinroom.JoinRoomConst")}(joinroom||(joinroom={}));var joinroom;!function(t){var o=function(o){function e(){var t=o.call(this,"mjl_join_title",1150,650)||this;return t._recordList=new Array,t.skinName="JoinRoomSkin",t}return __extends(e,o),e.prototype.destroy=function(){o.prototype.destroy.call(this),uniLib.Global.removeEventListener(CmdConstant.HistoryMatchIdList,this.setData,this)},e.prototype.initUI=function(){uniLib.Global.addEventListener(CmdConstant.HistoryMatchIdList,this.setData,this),this._inputNArr=[],this._curIndex=0;for(var o=0;6>o;o++){var e=new t.InputNumItem;e.x=o*(e.width+35),this.inputNumberGroup.addChild(e),this._inputNArr.push(e)}this._keyArr=[];for(var o=0;12>o;o++){var n=new t.InputKeyItem;n.value=o,this.inputKeyGroup.addChild(n),this._keyArr.push(n)}},e.prototype.addEvent=function(){for(var t=0,o=this._keyArr;t<o.length;t++){var e=o[t];e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onInput,this)}},e.prototype.removeEvent=function(){for(var t=0,o=this._keyArr;t<o.length;t++){var e=o[t];e.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onInput,this)}},e.prototype.setData=function(o){var e=o.param;this._recordList=[];var n=e.list instanceof Array;if(!n)return void(this.neverInfo.visible=!0);this.neverInfo.visible=!1;var i=null!=e.list&&e.list instanceof Array?e.list:[];this._recordList=i,this.recordList.itemRenderer=t.HistroyJoinRecordItem,this.recordList.dataProvider=new eui.ArrayCollection(i)},e.prototype.reqMatchRecord=function(t){},e.prototype.onInput=function(t){RES.hasRes("buttonClick_mp3")&&uniLib.SoundMgr.instance.playSound("buttonClick_mp3");var o,e=t.target,n=e.value;return 9==n?void this.reset():11==n?void this.removeOneNum():(o=10==n?0:n+1,void this.addNun(o))},e.prototype.reset=function(){for(var t=0;6>t;t++)this._inputNArr[t]["delete"]();this._curIndex=0},e.prototype.removeOneNum=function(){this._curIndex>0&&(this._inputNArr[this._curIndex-1]["delete"](),this._curIndex--)},e.prototype.addNun=function(t){this._curIndex<6&&(this._inputNArr[this._curIndex].value=t,this._curIndex++,6==this._curIndex&&this.joinRoom())},e.prototype.joinRoom=function(){for(var t="",o=0;6>o;o++)t+=this._inputNArr[o].value.toString();MsgSendMgr.enterRoom(Number(t),-1),this.destroy(),uniLib.PopUpMgr.removePopUp(this)},e}(commonpanel.LobbyBaseEuiPanel);t.JoinRoomPanel=o,__reflect(o.prototype,"joinroom.JoinRoomPanel")}(joinroom||(joinroom={}));