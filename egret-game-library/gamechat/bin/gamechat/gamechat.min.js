var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},gamechat;!function(t){var e=function(){function t(){}return t.RES_JSON="resource/gamechat/gamechat.res_adf0a329.json",t.THM_JSON="resource/gamechat/gameEui_9e560ac4.json",t.GAME_CHAT="game_chat",t}();t.ChatConst=e,__reflect(e.prototype,"gamechat.ChatConst")}(gamechat||(gamechat={}));var gamechat;!function(t){var e=function(t){function e(e){var i=t.call(this,"game_chat_json.chat_title",825,554)||this;return i._ShortTalkArr=e,i.skinName="ChatSkin",i}return __extends(e,t),e.prototype.initUI=function(){for(var t=1;18>=t;t++){var e=new eui.RadioButton;e.skinName="FaceButtonSkin",e.iconDisplay.texture=RES.getRes("game_face"+t),e.groupName="face",e.value=t,this.faceGroup.addChild(e)}for(var t=0;t<this._ShortTalkArr.length;t++){var i=new eui.RadioButton;i.skinName="ChatRadioButtonSkin",i.groupName="chat",i.value=t,i.label=t+1+"."+this._ShortTalkArr[t],i.y=56*t,this.chatGroup.addChild(i)}this.faceScroller.visible=!0,this.chatScroller.visible=!0,this.faceGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onFaceGroupTap,this),this.chatGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onChatGroupTap,this),this.touchEnabled=!0,this.sendBtn.name="short_send",this.sendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.sendClickHandler,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.textField.addEventListener(egret.TextEvent.FOCUS_OUT,uniLib.ZQGameSdk.hideVk,this)},e.prototype.onChatGroupTap=function(t){var e=t.target;if(e instanceof eui.RadioButton){var i="2"+e.value,n=new Cmd.CommonChat_C;n.voiceId=Number(i),uniLib.NetMgr.tcpSend(n),uniLib.PopUpMgr.removePopUp(this)}},e.prototype.onFaceGroupTap=function(t){var e=t.target;if(e instanceof eui.RadioButton){var i=new Cmd.CommonChat_C,n="1"+e.value;i.voiceId=Number(n),uniLib.NetMgr.tcpSend(i),uniLib.PopUpMgr.removePopUp(this)}},e.prototype.onTouchTap=function(t){t.target==this.textField&&t.target.setFocus()},e.prototype.sendClickHandler=function(t){var e=this.textField.text;if(""==e)return void uniLib.TipsUtils.showTipsDownToUp("聊天内容不能为空",!0);var i=new Cmd.CommonChat_C;i.words=this.textField.text,uniLib.NetMgr.tcpSend(i),this.textField.text="",uniLib.PopUpMgr.removePopUp(this)},e.prototype.destroy=function(){this.textField.removeEventListener(egret.TextEvent.FOCUS_OUT,uniLib.ZQGameSdk.hideVk,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.faceGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onFaceGroupTap,this),this.chatGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onChatGroupTap,this),this.sendBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.sendClickHandler,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.sendBtn=null,this.textField.text="",uniLib.DisplayUtils.removeAllChildren(this._content),uniLib.DisplayUtils.removeFromParent(this._content),t.prototype.destroy.call(this)},e}(commonpanel.LobbyBaseEuiPanel);t.ChatPanel=e,__reflect(e.prototype,"gamechat.ChatPanel")}(gamechat||(gamechat={}));