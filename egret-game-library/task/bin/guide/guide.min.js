var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},guide;!function(t){var e=function(){function t(){}return t.RES_JSON="resource/yaoqianshu.res.json",t.THM_JSON="resource/gameEui.json",t.PUB_GUIDE_FIRST="pub_yaoqianshu",t}();t.YaoQianShuConsts=e,__reflect(e.prototype,"guide.YaoQianShuConsts")}(guide||(guide={}));var yaoqianshu;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.GOLDTREE_YAODONG="yaodong",t.GOLDTREE_JINBISHAO="jinbishao",t.GOLDTREE_JINBIDUO="jinbiduo",t.skinName="YaoQianShuSkin",t}return __extends(n,e),n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEvents(),this._anim=uniLib.DragonUtils.showFastDragon("shake_monkey",this.GOLDTREE_YAODONG,uniLib.DragonType.ARMATURE,490,280),this._anim.touchEnabled=!0,this.addChild(this._anim),this._glodNum.minimum=0,this.initUI()},n.prototype.addEvents=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandle,this),uniLib.Global.addEventListener(t.CmdConstant.GLODELE_DATA,this.updata,this),uniLib.Global.addEventListener(t.CmdConstant.GLODELE_GETREWARD,this.getRewardResult,this)},n.prototype.removeEvents=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandle,this),uniLib.Global.removeEventListener(t.CmdConstant.GLODELE_DATA,this.updata,this),uniLib.Global.removeEventListener(t.CmdConstant.GLODELE_GETREWARD,this.getRewardResult,this)},n.prototype.onTouchHandle=function(t){var e=this,n=t.target;n==this._pickUp?this.getReward():n==this._anim?(this._anim.play(this.GOLDTREE_YAODONG),this.clear(),this.timer=setTimeout(function(){e.treeShake(e.moneyTreeData.produce)},1e3)):(n==this._upgrade||n==this._recharge)&&LoadPanelTipMgr.loadRes(ResGroupConsts.LOBBY_SHOP,function(){LobbyModuleMgr.getInstance().showShop()})},n.prototype.updata=function(t){this.moneyTreeData=t.param;var e=this.moneyTreeData.level;this.treeShake(this.moneyTreeData.produce),this._pickUp.enabled=Boolean(this.moneyTreeData.receive),e>0?(this._level.text="L"+e,this.getGlod(this.moneyTreeData.produce,e)):(this._recharge.visible=!0,this._pcikupGroup.visible=!1)},n.prototype.getGlod=function(t,e){var n=10*(120*(e-1)+1e3);this._glodNum.maximum=n,this._glodNum.value=t,this._progressTex.textFlow=[{text:t+"",style:{textColor:16777215}},{text:"/"+n,style:{textColor:16761904}}]},n.prototype.getRewardResult=function(t){t.param;uniLib.TipsUtils.showTipsDownToUp("领取了"+this.moneyTreeData.produce+"金币！"),this.initUI()},n.prototype.getReward=function(){var t=new Cmd.GetMoneyTreeGoldLobby_C;t.lobbyId=NetMgr.getLoginCfg().lobbyId,NetMgr.tcpSend(t)},n.prototype.initUI=function(){var t=new Cmd.GetMoneyTreeDataLobby_C;t.lobbyId=NetMgr.getLoginCfg().lobbyId,NetMgr.tcpSend(t)},n.prototype.treeShake=function(t){t>5*(60*(this.moneyTreeData.level-1)+1e3)?this._anim.play(this.GOLDTREE_JINBIDUO):this._anim.play(this.GOLDTREE_JINBISHAO)},n.prototype.clear=function(){this.timer&&clearTimeout(this.timer)},n.prototype.destroy=function(){this.removeEvents(),this.clear(),uniLib.DisplayUtils.removeFromParent(this),uniLib.DragonUtils.removeFastDragonbyContainer(this)},n}(eui.Component);t.YaoQianShuPanel=e,__reflect(e.prototype,"yaoqianshu.YaoQianShuPanel")}(yaoqianshu||(yaoqianshu={}));var yaoqianshu;!function(t){var e=function(){function t(){}return t.GLODELE_DATA="glodele_data",t.GLODELE_GETREWARD="glodele_getReward",t}();t.CmdConstant=e,__reflect(e.prototype,"yaoqianshu.CmdConstant")}(yaoqianshu||(yaoqianshu={}));var RewardReciveMgr=function(){function t(){}return t}();__reflect(RewardReciveMgr.prototype,"RewardReciveMgr");var Cmd;!function(t){function e(t){uniLib.Global.dispatchEvent(yaoqianshu.CmdConstant.GLODELE_DATA,t,!0)}function n(t){uniLib.Global.dispatchEvent(yaoqianshu.CmdConstant.GLODELE_GETREWARD,t,!0)}t.OnGetMoneyTreeDataLobby_S=e,t.OnGetMoneyTreeGoldLobby_S=n}(Cmd||(Cmd={}));